{"pageProps":{"posts":[{"title":"Writing Helm Values With Gemini","date":"2025-07-16T00:00:00.000Z","tags":["kubernetes","heml","Gemini"],"images":["/static/images/thumbnail/writing-helm-values-with-gemini.png"],"summary":"I often write values.yaml files to install open-source projects on Kubernetes clusters. This time, I needed to add tolerations to ensure all components of Sentry would run on specific nodes. Since Sentry has quite a few components, I decided to leverage Gemini to generate the values.yaml file more quickly.","slug":"20250719-writing-helm-values-with-gemini"},{"title":"Google Cloud Exporterê°€ Logì˜ Resource Attributeë¥¼ Cloud Logging Labelë¡œ ì–´ë–»ê²Œ ë³€í™˜í• ê¹Œ?","date":"2025-01-25T00:00:00.000Z","tags":["gcp","kubernetes","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"OpenTelemetry Collectorë¥¼ ì‚¬ìš©í•  ë•Œ, ë‹¤ì–‘í•œ exporterë¥¼ í†µí•´ì„œ Telemetry dataë¥¼ ì €ì¥í•  ìˆ˜ ìˆë‹¤. GCPë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” Google Cloud Exporterë¥¼ ì‚¬ìš©í•´ì„œ Telemetry dataë¥¼ ì‰½ê²Œ ì €ì¥í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° Logì˜ ê²½ìš°ì—ëŠ” ë‚´ê°€ ì„¤ì •í•œ Resource attributeê°€ ê¸°ëŒ€í•œ ê²ƒì²˜ëŸ¼ Google Cloud Loggingì˜ Labelì— ë“±ë¡ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ê²½í—˜í•  ìˆ˜ë„ ìˆë‹¤. ë”°ë¼ì„œ ì˜¤ëŠ˜ì€ Google Cloud Exporterë¥¼ ì‚¬ìš©í•  ë•Œ, Resource Attributeë“¤ì´ Cloud Logging Labelë¡œ ì–´ë–»ê²Œ ë³€í™˜ë˜ëŠ”ì§€ ìì„¸íˆ ì„¤ëª…í•œë‹¤.","slug":"20250125-google-cloud-exporter"},{"title":"OpenTelemetry GcpDetectorë¥¼ ì´í•´í•˜ê¸°","date":"2025-01-19T00:00:00.000Z","tags":["gcp","kubernetes","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"OpenTelemetry Operatorë¡œ Auto-Instrumentationì„ ì£¼ì…í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ í•˜ì§€ ì•Šê±°ë‚˜ OpenTelemetry Collectorì—ì„œ proccessor ì„¤ì •ì„ ì œëŒ€ë¡œ í•´ì£¼ì§€ ì•Šìœ¼ë©´, Resource attributeì¤‘ k8s.namespace.nameê°€ ë¹ˆë¬¸ìì—´ë¡œ ë³´ë‚´ì§ˆ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš°ì— Auto-Instrumentationì—ì„œ Resource attributeê°€ ì–´ë–»ê²Œ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ì§€ resourceDetectorë“¤ì„ ì´í•´í•˜ë©´ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” Resource Detectorë“¤ì— ëŒ€í•´ì„œ ìì„¸íˆ ì‚´í´ë³¸ë‹¤.","slug":"20250119-otel-gcp-detector"},{"title":"secrets-store-csi-driver-provider-gcp ì‚¬ìš©í•´ë³´ê¸°","date":"2025-01-05T00:00:00.000Z","tags":["gcp","kubernetes"],"images":["/static/images/social-banner.png"],"summary":"GKEì—ì„œ add-on ê¸°ëŠ¥ìœ¼ë¡œ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ì¸ Google Secret Managerì„ Kubernetes Secrets Store CSI Driverë¡œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ add-on ë²„ì „ì—ì„œëŠ” Sync as Kubernetes Secret ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, Kubernetes Secretì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ëŠ”ë° ì œì•½ì‚¬í•­ì´ ìˆë‹¤. ì§ì ‘ Kubernetes Secrets Store CSI driverì™€ GCP provider driverë¥¼ ì„¤ì¹˜í•˜ì—¬ Sync as Kubernetes Secret ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ Syncëœ Kubernetes Secretì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì…í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. Google Secret ManagerëŠ” ì•„ì‰½ê²Œë„ í•˜ë‚˜ì˜ Secretì— ë³µìˆ˜ì˜ key valueë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” Google Secret Managerë¥¼ Kubernetes Secret Objectì™€ Syncí•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í• ì§€ ê³ ë¯¼í•´ë³¸ë‹¤.","slug":"20250105-secrets-store-csi-driver-provider-gcp"},{"title":"Distroless Imageì— Package ì¶”ê°€í•˜ê¸°","date":"2024-07-13T00:00:00.000Z","tags":["kubernetes","distroless","devsecops"],"images":["/static/images/social-banner.png"],"summary":"ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ìµœì†Œí•œìœ¼ë¡œ í•„ìš”í•œ softwareë§Œ í¬í•¨í•˜ëŠ” ê²ƒì´ ë³´ì•ˆì ìœ¼ë¡œ ëª¨ë²”ì‚¬ë¡€ì´ë‹¤. ì´ëŸ¬í•œ ëª¨ë²”ì‚¬ë¡€ë¥¼ ë”°ë¥´ëŠ” ê°€ì¥ ì‰½ê³  í•©ë¦¬ì ì¸ ë°©ë²•ì€ êµ¬ê¸€ì—ì„œ ì œê³µí•˜ëŠ” Distroless Imageë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ë‹¤. Distroless ImageëŠ” nonroot, debug, debug-nonroot Tagë¥¼ ê°€ì§€ê³  ìˆë‹¤. nonrootì€ conatinerì—ê²Œ root ê¶Œí•œì„ ì£¼ì§€ì•Šê³ , shellë„ ì—†ì–´ì„œ Terminalë¡œ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ê·¸ëŸ°ë° Distroless Imageì— ì¶”ê°€ë¡œ í•„ìš”í•œ debian packageë¥¼ ì„¤ì¹˜í•˜ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ì´ë²ˆ ê¸€ì—ì„œëŠ” bazelë¡œ ë¹Œë“œí•  ë•Œ ì›í•˜ëŠ” debian packageë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ ë³¸ë‹¤.","slug":"20240713-add-package-to-distroless-image"},{"title":"ModSecurityë¥¼ Nginx Ingress Controllerì— ì—°ë™í•˜ì—¬ WAF ì„¤ì •í•˜ê¸°","date":"2024-06-15T00:00:00.000Z","tags":["kubernetes","nginx","modsecurity","devsecops"],"images":["/static/images/social-banner.png"],"summary":"ModSecurityëŠ” ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì œê³µí•˜ëŠ” WAFì´ë‹¤. Nginx connectorë¥¼ í†µí•´ì„œ ModSecurityë¥¼ Nginxì— ì‰½ê²Œ ì—°ë™í•  ìˆ˜ ìˆë‹¤. Nginx Ingress Controllerì—ì„œëŠ” í•´ë‹¹ ì„¤ì •ì„ í•  ìˆ˜ ìˆë„ë¡ Configmapì— ì„¤ì • ì˜µì…˜ë“¤ì„ ì œê³µí•œë‹¤. í•´ë‹¹ ì˜µì…˜ë“¤ì„ ì„¤ì •í•¨ìœ¼ë¡œì„œ ì‰½ê²Œ Nginxì— WAFë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ModSecurityëŠ” Trustwareë¼ëŠ” íšŒì‚¬ê°€ ê´€ë¦¬í•˜ë‹¤ê°€ 2024ë…„ 1ì›”ì— OWASP foundationìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë˜ì—ˆë‹¤. ModSecurityëŠ” ì˜¤ë˜ëœ í”„ë¡œì íŠ¸ì´ê³ , Production Readyë¼ê³  ì†Œê°œë˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ ModSecurityê°€ ì•ìœ¼ë¡œë„ ê³„ì† ì»¤ë®¤ë‹ˆí‹°ë¥¼ í†µí•´ì„œ í™œë°œíˆ ê´€ë¦¬ë ì§€ëŠ” ì§€ì¼œë´ì•¼ê² ë‹¤.","slug":"20240615-modsecurity"},{"title":"opentelemetry-operator ì‚¬ìš©í•´ë³´ê¸°","date":"2024-05-26T00:00:00.000Z","tags":["kubernetes","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"ì†ŒìŠ¤ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  opentelemetry-operatorì˜ Instrumentation CRDë¥¼ í†µí•´ì„œ Python Applicationì„ ìë™ìœ¼ë¡œ Instrumentationì„ í•´ë´¤ë‹¤. ì´ ê³¼ì •ì—ì„œ OpenTelemetry Loggingì˜ ê²½ìš°ì—ëŠ” ê¸°ì¡´ Logging Libararyì— Bridge APIë¡œ ì—°ë™í•˜ëŠ” êµ¬ì¡°ë¡œ ì„¤ê³„ëœ ê²ƒì„ ì•Œê²Œ ë˜ì—ˆê³ , Python opentelemetry sdkê°€ loggerì— handlerë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. ë˜í•œ sitecustomize.pyì„ í†µí•´ì„œ Python Applicationì´ ì‹¤í–‰ë˜ê¸° ì „ì— Instrumentation libraryë¥¼ ì…‹íŒ…í•˜ëŠ” ê²ƒì„ ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤. Gunicornìœ¼ë¡œ Flaskë¥¼ ì‹¤í–‰í•  ë•Œì™€ Uvicornìœ¼ë¡œ FastAPIë¥¼ ì‹¤í–‰í•  ë•Œ, Auto Instrumentationì´ ì˜ ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤.","slug":"20240526-otel-operator"},{"title":"Falcoë¥¼ í™œìš©í•˜ì—¬ Terminal Shell ëª…ë ¹ì–´ ë¡œê·¸ ìˆ˜ì§‘í•˜ê¸°","date":"2024-05-05T00:00:00.000Z","tags":["kubernetes","falco","devsecops"],"images":["/static/images/social-banner.png"],"summary":"Kubernetes Worker Nodeì™€ Pod Containerì— Terminal shellë¡œ ì ‘ê·¼í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³ , ê²½ìš°ì— ë”°ë¼ì„œ ì•Œë¦¼ì„ ë³´ë‚´ê³  ì‹¶ì—ˆë‹¤. CNCF ì¡¸ì—…í•œ Projectì¸ Falcoë¥¼ í™œìš©í•˜ë©´ ì´ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ê²Œ ë˜ì—ˆë‹¤. FalcoëŠ” kernel moduleì´ë‚˜ eBPF probeë“±ì„ í†µí•´ì„œ kernel eventë¥¼ ì €ì¥í•˜ê³ , ì„¤ì •ëœ ruleì— ë”°ë¼ì„œ í•´ë‹¹ eventë¥¼ filterí•˜ì—¬ ì›í•˜ëŠ” output í˜•íƒœë¡œ ì €ì¥í•œë‹¤. FalcoëŠ” ëª¨ë“  ë¡œê·¸ë¥¼ ì €ì¥í•˜ê¸°ë³´ë‹¤ëŠ” Ruleì— ë”°ë¼ ì„ íƒì ìœ¼ë¡œ ë³´ì•ˆ ìœ„í˜‘ì´ ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì§‘í•˜ê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ì•Œë¦¼í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤. ë”°ë¼ì„œ Falcoë¥¼ í†µí•´ì„œ ì›í•˜ë˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ í•©ë¦¬ì ì¸ ë°©ë²•ì´ ì•„ë‹Œ ê²ƒìœ¼ë¡œ íŒë‹¨ ëœë‹¤.","slug":"20240505-falco"},{"title":"OpenTelmetryë¡œ auth.logì™€ syslog ìˆ˜ì§‘í•˜ê¸°","date":"2024-05-01T00:00:00.000Z","tags":["kubernetes","opentelemetry","devsecops"],"images":["/static/images/social-banner.png"],"summary":"Ubuntu 20.04 ì„œë²„ì˜ auth.log, syslog ë¡œê·¸ ê°’ë“¤ì„ OpenTelemetryë¥¼ í†µí•´ì„œ ìˆ˜ì§‘í•˜ê³  ì‹¶ì—ˆë‹¤. ì²˜ìŒì—ëŠ” Filelog Receiverë¥¼ í†µí•´ì„œ ìˆ˜ì§‘í•˜ë ¤ê³  í•˜ì˜€ê³ , rsyslogì˜ ì„¤ì •ê°’ì„ ë³€ê²½í•˜ì—¬ Filelogë¡œ ìˆ˜ì§‘í•˜ë„ë¡ êµ¬ì„±í–ˆë‹¤. ê·¸ëŸ°ë° ì´í›„ì— Syslog Receiverê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•˜ê²Œ ë˜ì—ˆê³ , í›¨ì”¬ ê°„ë‹¨í•˜ê²Œ syslogë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆì—ˆë‹¤.","slug":"20240501-opentelemetry-syslog"},{"title":"Kubelet imageGC","date":"2024-04-20T00:00:00.000Z","tags":["kubernetes","ncloud"],"images":["/static/images/social-banner.png"],"summary":"ì‚¬ì´ì¦ˆê°€ í° ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë‚´ë ¤ë°›ê¸° ìœ„í•´ì„œ Containerdì˜ ì„¤ì •ê°’ rootì„ ìƒˆë¡œìš´ ìŠ¤í† ë¦¬ì§€ë¥¼ ì¶”ê°€í•œ ê²½ë¡œë¡œ ìˆ˜ì •í•˜ì˜€ë‹¤. Kubeletì€ imageGCHighThresholdPercentë¡œ ì„¤ì •ëœ ì„ê³„ì¹˜ë³´ë‹¤ disk ì‚¬ìš©ëŸ‰ì´ ë§ìœ¼ë©´, ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì •ë¦¬í•˜ì—¬ disk ê³µê°„ì„ í™•ë³´í•˜ë ¤ê³  í•œë‹¤. imageGCHighThresholdPercentì´ ê¸°ë³¸ê°’ìœ¼ë¡œ 85ë¡œ ì„¤ì •ë˜ì–´ ìˆê³ , diskì˜ 85 í¼ì„¼íŠ¸ ì´ìƒ ì‚¬ìš©í–ˆì„ ë•Œ ì •ë¦¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ëœë‹¤. ë¬¸ì œëŠ” Containerd root ê²½ë¡œì˜ volumeì´ ê±°ì˜ ê½‰ ì°¨ë”ë¼ë„, ì „ì²´ volumeì˜ ì‚¬ìš©ëŸ‰ì€ 85 í¼ì„¼íŠ¸ê°€ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. Containerd root ê²½ë¡œì˜ volumeì— ì—¬ìœ ê°€ ì—†ì–´ì„œ ìƒˆë¡œ ìŠ¤ì¼€ì¥´ëœ Podì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë‚´ë ¤ ë°›ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. imageGCHighThresholdPercent ì„¤ì •ê°’ì„ ì¡°ì ˆí•˜ì—¬ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.","slug":"20240420-kubelet-imagegc"},{"title":"Loki multi-tenants","date":"2024-04-20T00:00:00.000Z","tags":["kubernetes","loki"],"images":["/static/images/social-banner.png"],"summary":"Lokië¡œ Logë¥¼ ìˆ˜ì§‘í•˜ê³ , Grafanaë¡œ Logë¥¼ ë³´ì—¬ì¤„ ë•Œ Grafana userë³„ë¡œ ë³¼ ìˆ˜ ìˆëŠ” Logë¥¼ ì œí•œí•˜ê³  ì‹¶ì—ˆë‹¤. Grafana Enterpirseì˜ ê²½ìš°ì—ëŠ” Label-based access controlì„ ì œê³µí•˜ì—¬, Loki labelë³„ë¡œ Queryí•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì œí•œí•  ìˆ˜ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ì•„ì‰½ê²Œ ì˜¤í”ˆì†ŒìŠ¤ì—ì„œëŠ” í•´ë‹¹ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ Loki multi tenantë¥¼ í†µí•´ì„œ Logë¥¼ tenentë³„ë¡œ ê·¸ë£¹í•‘í•˜ê³ , tenantë³„ë¡œ queryí•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤. ê·¸ë¦¬ê³  LokiëŠ” ì¸ì¦ layerê°€ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Nginxë¥¼ í†µí•´ì„œ ì¸ì¦ì„ í•˜ì—¬ queryí•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ Network Policyë¡œ Nginx ì¸ì¦ì„ í†µí•´ì„œ Lokiì— ì ‘ê·¼í•˜ë„ë¡ ê°•ì œí•˜ì—¬ ì›í•˜ëŠ” êµ¬ì„±ì„ í•  ìˆ˜ ìˆì—ˆë‹¤.","slug":"20240420-loki-multi-tenants"},{"title":"k8s-device-pluginìœ¼ë¡œ NVIDIA GPU Multi-Process Service ì‚¬ìš©í•˜ê¸°","date":"2024-03-24T00:00:00.000Z","tags":["kubernetes","ncloud"],"images":["/static/images/social-banner.png"],"summary":"Kubernetesì—ì„œ k8s-device-pluginì„ í†µí•´ì„œ NVIDIA GPU ìì›ì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ë‚˜ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ GPU ìì›ì„ ì˜¨ì „íˆ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê³  ë‚­ë¹„ë  ë•Œ, Time slicing, MPS, MIG ë“±ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ GPU ìì›ì„ ê³µìœ í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë„¤ì´ë²„ ê³µê³µ í´ë¼ìš°ë“œì—ì„œ Tesla T4ì™€ Telsa V100ì„ ì œê³µí•œë‹¤. í•´ë‹¹ GPU ì•„í‚¤í…ì³ê°€ MIGì„ ì§€ì›íˆì§€ ì•Šê¸° ë•Œë¬¸ì—, MPSë¥¼ ì ìš©í•˜ì—¬ GPU ìì›ì„ ê³µìœ í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì˜€ë‹¤. ìµœê·¼ì— releaseëœ k8s-device-plugin v0.15.0-rc.1ë¶€í„° MPSê°€ ì§€ì›ë˜ê¸° ì‹œì‘ë˜ì–´ í•´ë‹¹ ë²„ì „ìœ¼ë¡œ MPSë¥¼ ì„¤ì •í•´ë³´ì•˜ë‹¤.","slug":"20240324-k8s-device-plugin"},{"title":"containerd nofile default ì„¤ì •ê°’","date":"2024-02-14T00:00:00.000Z","tags":["kubernetes","containerd"],"images":["/static/images/social-banner.png"],"summary":"Kubernetesì—ì„œ podê°€ ì‹¤í–‰ë  ë•Œ, í•´ë‹¹ processì˜ open file ê°¯ìˆ˜ limitì´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ê¶ê¸ˆí•˜ì˜€ë‹¤. Containerdê°€ systemd serviceë¡œ ë™ì‘í•˜ëŠ” ìƒí™©ì—ì„œ systemdì—ì„œ LimitNOFILEì´ inifinityë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤. infinityê°€ Ubuntu systemd 240 ë²„ì „ ì´ìƒì—ì„œëŠ” processì— ìµœëŒ€ë¡œ í• ë‹¹í•  ìˆ˜ ìˆëŠ” File ê°¯ìˆ˜ì¸ fs.nr_open ê°’ìœ¼ë¡œ ì„¤ì •ëœë‹¤. ì‹¤ì œë¡œ testìš© podë¥¼ ë„ì–´ì„œ containerdì— ì˜í•´ì„œ ì‹¤í–‰ë˜ëŠ” processì˜ nofile limitì´ LimitNOFILEì— ì„¤ì •ëœ ê°’ìœ¼ë¡œ ë™ì¼í•˜ê²Œ ì„¤ì •ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤.","slug":"20240214-containerd-LimitNOFILE"},{"title":"Tekton Chain","date":"2024-02-11T00:00:00.000Z","tags":["kubernetes","tekton","devsecops"],"images":["/static/images/social-banner.png"],"summary":"Kubernetesì—ì„œ Tekton Chainì„ í†µí•´ì„œ ì–´ë–»ê²Œ Software Supply Chain Securityë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í–ˆë‹¤. Tekton Pipelineìœ¼ë¡œ git cloneì„ í•˜ê³ , container imageë¥¼ buildí•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ OCI registryì— pushí•˜ë„ë¡ êµ¬ì„±í–ˆë‹¤. ê·¸ë¦¬ê³  Tekton Chainì´ ì–´ë–»ê²Œ in-toto specì˜ Attestation ì •ë³´ë¥¼ ë‚¨ê¸°ëŠ”ì§€ í™•ì¸í•˜ì˜€ë‹¤.","slug":"20240208-tekton-chain"},{"title":"Cilium CNIì™€ HostPort","date":"2024-02-07T00:00:00.000Z","tags":["kubernetes","cilium"],"images":["/static/images/social-banner.png"],"summary":"ë„¤ì´ë²„ í´ë¼ìš°ë“œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ì—ì„œ HostPortë¥¼ ì„¤ì •í•˜ì˜€ëŠ”ë°, ì •ìƒì ìœ¼ë¡œ Node Portë¥¼ í†µí•´ì„œ Containerì— ì ‘ê·¼í•  ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì²˜ìŒì—ëŠ” CNI plugin portmapì„ ì„¤ì •í•˜ì—¬ HostPortë¥¼ Iptables Ruleë¡œ ì ìš©í•˜ë„ë¡ í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ í˜„ì¬ ìš´ì˜í•˜ëŠ” Kernel ë²„ì „ì´ kube proxyë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ê²ƒì„ íŒŒì•…í•˜ì˜€ê³ , defaultë¡œ ì„¤ì •ëœ KubeProxyReplacement=disabledì„ KubeProxyReplacement=strictìœ¼ë¡œ ì„¤ì •í•˜ì—¬ Cilium eBPFë¡œ ëŒ€ì²´í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.","slug":"20240207-cilium-host-port"},{"title":"Cert Manager Webhook ì‘ì„±í•˜ì—¬ Naver Cloudì—ì„œ DNS-01 challengë¡œ Lets Encrypt ì¸ì¦ì„œ ë°œê¸‰í•˜ê¸°","date":"2024-01-24T00:00:00.000Z","tags":["kubernetes","ncloud"],"images":["/static/images/social-banner.png"],"summary":"Cert Managerì˜ DNS provider ëª©ë¡ì— Naver Cloud DNSëŠ” ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ Cert Managerì—ì„œ ìƒˆë¡œìš´ DNS providerë¥¼ ì§ì ‘ ì—°ê²°í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ webhook solverë¼ëŠ” ê²ƒì„ ì œê³µí•œë‹¤. ë”°ë¼ì„œ Naver Cloud APIë¥¼ ì‚¬ìš©í•˜ì—¬ webhook ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , Github Actionì„ í†µí•´ì„œ Imageì™€ Helm chartë¥¼ ë°°í¬í•´ì„œ ì‚¬ìš©í–ˆë‹¤. Cert Managerì—ì„œ Boilerplate codeì™€ test frameworkë¥¼ ì œê³µí•˜ì—¬ ë¹„êµì  ì‰½ê²Œ ì‘ì„±í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.","slug":"20240124-cert-manager-webhook"},{"title":"OpenTelemetry with Minikube","date":"2023-12-31T00:00:00.000Z","tags":["opentelemetry","kubernetes"],"images":["/static/images/social-banner.png"],"summary":"OpenTelemetry collectorë¥¼ ì‚¬ìš©í•˜ì—¬ tracingê³¼ loggingì„ ê°™ì´ í•˜ëŠ” ê²ƒì„ ê²€í† í•˜ì˜€ë‹¤. Kubernetesì™€ ë©€ì–´ì ¸ ìˆë˜ ì‚¬ì´ì— OpenTelemetry ì»¤ë®¤ë‹ˆí‹°ê°€ ì—„ì²­ë‚˜ê²Œ ì„±ì¥í•œ ê²ƒì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆë‹¤. Logì— traceIDë¥¼ ë‚¨ê¸°ê³  ê·¸ê±¸ë¡œ Tracing ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆê³ , Grafana í•˜ë‚˜ì—ì„œ í†µí•©ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ Lokiì™€ Tempoë¥¼ Exporterë¡œ ì‚¬ìš©í–ˆë‹¤. ì•„ì§ Pythonê³¼ Nodejsì—ì„œëŠ” Logìª½ì˜ ìƒíƒœëŠ” Developmentë‚˜ Experimentalì´ê¸° ë•Œë¬¸ì—, receiverì—ì„œ filelogë¥¼ ì‚¬ìš©í•˜ì—¬ Kubernetes log fileì„ fluentbitì²˜ëŸ¼ tailí•´ì„œ ê°€ì ¸ì˜¤ê³  traceIdë¥¼ logì— ë„£ì–´ì£¼ëŠ” instrument libaryë¥¼ ì‚¬ìš©í–ˆë‹¤.","slug":"20231231-open-telemetry"},{"title":"vault secrets operator ì‚¬ìš©í•´ë³´ê¸°","date":"2023-12-22T00:00:00.000Z","tags":["Kubernetes","vault"],"images":["/static/images/social-banner.png"],"summary":"GitOpsì—ì„œ Secretì„ ì–´ë–»ê²Œ ê´€ë¦¬í• ì§€ ê³ ë¯¼ì„ í•˜ì˜€ê³ , ê°œë°œìë“¤ì˜ ì¸ì§€ë¶€í•˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œ Vault UIë¡œ ìì‹ ì˜ ì•±ì˜ ë¹„ë°€ê°’ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì œì¼ íš¨ìœ¨ì ì´ë¼ëŠ” íŒë‹¨ì„ í–ˆë‹¤. Vault secrets operatorê°€ GAë¡œ ê³µìœ ê°€ ë˜ì—ˆê³ , Secrets Store CSIë‚˜ External secrets í”„ë¡œì íŠ¸ë³´ë‹¤ ê¹”ë”í•œ ë°©ì‹ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. Vault secrets operatorì˜ CRDë¡œ vault secretê³¼ kubernetes secretì˜ syncë¥¼ ë§ì¶”ê³ , reloaderë¡œ secretì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë‹¤ì‹œ podë¥¼ ë°°í¬í•˜ëŠ” ê²ƒì„ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ë‹¤.","slug":"20231222-vault-on-k8s"},{"title":"Argo CD Notificationìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ Slack ì•Œë¦¼ ë³´ë‚´ê¸°","date":"2023-12-14T00:00:00.000Z","tags":["Kubernetes","ArgoCD"],"images":["/static/images/social-banner.png"],"summary":"Argo CD Notificationê°€ ì´ë¯¸ ìˆì–´ì„œ ì‰½ê²Œ Slack ì•Œë¦¼ì„ ì—°ë™í•  ìˆ˜ ìˆë‹¤. ë©”ë‰´ì–¼ì—ì„œ ì¹œì ˆí•˜ê²Œ ì…‹íŒ… ë°©ë²•ì„ ì„¤ëª…í•˜ê³  ìˆì§€ë§Œ, ì²˜ìŒ ë³´ê³  ì…‹íŒ…í•  ë•Œ ë†“ì¹  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸´ë‹¤.","slug":"20231214-argocd-notification"},{"title":"Kubernetesì—ì„œ Nginxë¡œ IP allow list ì œì–´","date":"2023-12-05T00:00:00.000Z","tags":["Kubernetes","Nginx"],"images":["/static/images/social-banner.png"],"summary":"Kubernetes clusterì—ì„œ Nginxë¡œ í—ˆìš© ê°€ëŠ¥í•œ IPë¥¼ ì„¤ì •í•˜ê³  ì‹¶ì—ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ëë‚  ì¤„ ì•Œì•˜ë˜ ì‘ì—…ì€ ë˜ë‹¤ë¥¸ ì‚½ì§ˆê¸°ê°€ ë˜ì—ˆë‹¤.ğŸ˜­ Kubernetesì—ì„œ SNATì´ ë˜ëŠ” ê³¼ì •ì„ ì´í•´í•˜ê³  externalTrafficPolicyë¥¼ Localë¡œ ì„¤ì •í–ˆë‹¤. ê·¸ë¦¬ê³  External Load balancerì—ì„œëŠ” client IPë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ Proxy Protocolì™€ ê°™ì€ ê²ƒì„ ì„¤ì •í•˜ê³ , Nginxì—ì„œ ê·¸ Proxy protocolë¡œ ì „ë‹¬ëœ IP addressë¡œ Access controlì„ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤.","slug":"20231205-nginx-allow-ip"},{"title":"Kubernetesì—ì„œ GPU ì‚¬ìš©í•˜ê¸°","date":"2023-10-29T00:00:00.000Z","tags":["kubernetes"],"images":["/static/images/social-banner.png"],"summary":"Pytorchë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë„ìš°ê³  GPUë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆë‹¤. ë”°ë¼ì„œ Docker containerì—ì„œ NVIDIA GPUë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì…‹íŒ…ì„ í•´ë³´ì•˜ë‹¤. ê·¸ë¦¬ê³  ìµœì¢…ì ìœ¼ë¡œ Kubernetesì—ì„œ GPU hardwareë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ nvidia device pluginì„ DaemonSetìœ¼ë¡œ ë„ìš°ê³  Podë¥¼ ì‹¤í–‰í•´ë³´ì•˜ë‹¤.","slug":"20231029-gpu-on-k8s"},{"title":"aws-ebs-csi-driver ì½”ë“œë¡œ csi driver ì´í•´í•˜ê¸°","date":"2023-10-21T00:00:00.000Z","tags":["kubernetes"],"images":["/static/images/social-banner.png"],"summary":"aws-ebs-csi-driver ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ê³  csi driverê°€ í•˜ëŠ” ì—­í• ì„ ì´í•´í•´ë³´ì•˜ë‹¤. í¬ê²Œ Controller pluginê³¼ Node pluginìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ , ë‹¤ì–‘í•œ sidecar containerë“¤ì´ ì¡´ì¬í•œë‹¤. ì´ sidecar containerë“¤ì´ Volumeì„ ìƒì„±í•˜ê³ , ë…¸ë“œì— ë¶€ì°©í•˜ê³ , Host í˜¹ì€ container directoryì— mountí•˜ëŠ” ê²ƒì„ ì§„í–‰í•œë‹¤. ì´ê³¼ì •ì—ì„œ CSI driverë¡œ cloud vendorë§ˆë‹¤ ë‹¤ë¥¸ ë¡œì§ìœ¼ë¡œ ê·¸ë“¤ì˜ volumeì„ ì œì–´í•˜ê²Œ ëœë‹¤. ë„¤ì´ë²„ í´ë¼ìš°ë“œì—ì„œ storageê°€ ì²˜ìŒ ìƒì„±ë  ë•Œ ì„œë²„ì— ë¶€ì°©ì´ ë˜ì–´ì•¼ë§Œ í•˜ëŠ” ì œì•½ì‚¬í•­ì´ ìˆì–´ì„œ, PVCë¡œ PV ë™ì  í• ë‹¹ì„ í•  ë•Œ volumeBindingModeì´ Immediateì´ë©´ ìë™ìœ¼ë¡œ Nodeì— ë¶€ì°©ì´ ëœë‹¤.","slug":"20231021-csi-driver"},{"title":"ECR Credential-Provider ì‚¬ìš©í•´ë³´ê¸°","date":"2023-09-28T00:00:00.000Z","tags":["kubernetes"],"summary":"Kubeadmìœ¼ë¡œ ë§Œë“  Kubernetes Clusterì—ì„œ AWS ECRë¥¼ private container image repositoryë¥¼ ì‚¬ìš©í•˜ê³ ì í•˜ì˜€ë‹¤. private repositoryë¥¼ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ Kubernetes 1.26ë¶€í„° stable featureë¡œ ì œê³µí•˜ëŠ” kubelet crendential providerë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.","slug":"20230928-ecr-credential-provider"},{"title":"ì˜¤í”ˆì†ŒìŠ¤ Kubernetes External Secrets ì‚´í´ë³´ê¸°","date":"2023-07-30T00:00:00.000Z","tags":["kubernetes"],"summary":"CRDì™€ Custom Controllerë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ì— ëŒ€í•´ì„œ ë” ì•Œê³  ì‹¶ì€ ìƒí™©ì—ì„œ, External Secretsì´ë¼ëŠ” í”„ë¡œì íŠ¸ë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆë‹¤. External SecretsëŠ” Vault, AWS secret managerì™€ ê°™ì´ secret ê´€ë¦¬í•˜ëŠ” Toolë“¤ê³¼ Kubernetes secretì„ CRDì„ í†µí•´ì„œ syncí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” kubebuilderë¥¼ ì‚¬ìš©í•˜ì˜€ëŠ”ë°, ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ë©´ì„œ ì–´ë–»ê²Œ êµ¬í˜„í•œ ê±´ì§€ ìì„¸íˆ ì‚´í´ë³´ì•˜ë‹¤.","slug":"20230730-k8s-controller-external-secrets"},{"title":"Calico kube-controller ì´í•´í•˜ê¸°","date":"2023-07-22T00:00:00.000Z","tags":["kubernetes","calico"],"summary":"Calicoì—ì„œ ì–´ë–»ê²Œ CRDë¥¼ í™œìš©í•˜ëŠ”ì§€ ì´í•´í•˜ê¸° ìœ„í•´ì„œ Calico Opensource ë²„ì „ì˜ ê¹ƒí—™ ì†ŒìŠ¤ì½”ë“œë¥¼ ì‚´í´ë³´ê²Œ ë˜ì—ˆë‹¤. Calico archiectureì—ì„œ kube-controller ë¶€ë¶„ì´ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì†ŒìŠ¤ ì½”ë“œë¥¼ í†µí•´ì„œ ì´í•´í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. kube-controllerë“¤ì€ kubernetes native resourceì— ëŒ€í•œ ë³€ê²½ì„ calico data storeì™€ syncí•´ì£¼ëŠ” ì—­í• ì„ í•˜ê³  ìˆë‹¤. ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” Minikbue Kubernetes Clusterì—ì„œëŠ” Calicoì˜ data storeëŠ” kubernetesë¡œ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, CRDë¡œ Calico dataë“¤ì´ ì €ì¥ë˜ê³  Felixê°€ ì´ê²ƒì„ watchí•˜ì—¬ ë³€í™”ì— ëŒ€í•´ì„œ network ruleì„ ì—…ë°ì´íŠ¸ í•˜ê²Œ ëœë‹¤.","slug":"20230722-calico-kube-controller"},{"title":"if(kakao)2022 Testing Kubernetes Controller ë°œí‘œ ë”°ë¼ ë§Œë“¤ê¸°","date":"2023-07-16T00:00:00.000Z","tags":["kubernetes"],"summary":"ì–´ì œëŠ” Programming Kubernetesì— ë‚˜ì˜¤ëŠ” ì˜ˆì œë¥¼ kubebuilderë¡œ ì‘ì„±í•´ë³´ì•˜ë‹¤. if(kakao)2022ì—ì„œ controllerë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì„¤ëª…í•œ ë°œí‘œê°€ ìˆì—ˆë‹¤. ì–´ì œ ì´í•´í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì´ ë°œí‘œì—ì„œ ì‚¬ìš©í•œ BlueGreen controller ì˜ˆì œë¥¼ ë”°ë¼ì„œ ì‘ì„±í•´ë³´ì•˜ë‹¤.","slug":"20230716-if-kakao-2022-k8s-controller"},{"title":"Kubernetes custom controller ì‘ì„±í•´ë³´ê¸°","date":"2023-07-15T00:00:00.000Z","tags":["kubernetes"],"summary":"Programming Kubernetes ì±…ì—ì„œ ë‚˜ì˜¨ ì˜ˆì œë¥¼ ë”°ë¼ì„œ custom controllerë¥¼ ì‘ì„±í•´ë³´ì•˜ë‹¤. CustomResourceDefinitionë¥¼ ì–´ë–»ê²Œ ì •ì˜í•˜ê³ , kubebuilderë¡œ ì–´ë–»ê²Œ ë‚˜ë§Œì˜ business logicì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ”ì§€ ì˜ˆì œë¥¼ í†µí•´ì„œ ì´í•´í–ˆë‹¤.","slug":"20230715-k8s-controller"},{"title":"í‘ì—­ì‚¬ í•˜ë‚˜ ë” ë§Œë“¤ê¸°","date":"2023-07-03T00:00:00.000Z","tags":["kubernetes","presentation"],"summary":"ì˜¤ëŠ˜ ëŒ€ì™• í‘ì—­ì‚¬ë¥¼ ìƒì‚°í–ˆë‹¤. Kubernetes Community Daysì—ì„œ ë°œí‘œë¥¼ í•˜ê²Œ ë˜ì—ˆëŠ”ë°, 30ë¶„ ë°œí‘œì‹œê°„ì— ë§ì¶°ì„œ ë°œí‘œìë£Œë¥¼ ì˜ ì¤€ë¹„í•˜ì§€ ëª»í•´ì„œ ë¶€ë„ëŸ¬ì› ë‹¤. 30ë¶„ì— ë„ˆë¬´ ë§ì€ ë‚´ìš©ì„ ë‹´ì„ë ¤ê³  í–ˆê³ , ë¼ì´ë¸Œì½”ë”© í˜•ì‹ìœ¼ë¡œ í•´ì„œ ì‹œê°„ë„ ë§ì´ ê±¸ë ¸ë‹¤. ë‚˜ëŠ” ë°œí‘œë¥¼ ì™œ í• ê¹Œ?","slug":"20230703-k8s-community-days"}],"tag":"kubernetes"},"__N_SSG":true}