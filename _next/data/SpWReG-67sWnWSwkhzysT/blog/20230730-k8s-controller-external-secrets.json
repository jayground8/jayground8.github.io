{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=a=>t(a,\"__esModule\",{value:!0});var m=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=>{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let n of d(s))!h.call(a,n)&&n!==\"default\"&&t(a,n,{get:()=>s[n],enumerable:!(c=p(s,n))||c.enumerable});return a},g=a=>k(l(t(a!=null?r(u(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=m((v,i)=>{i.exports=_jsx_runtime});var S={};N(S,{default:()=>b,frontmatter:()=>f});var e=g(o()),f={title:\"\\uC624\\uD508\\uC18C\\uC2A4 Kubernetes External Secrets \\uC0B4\\uD3B4\\uBCF4\\uAE30\",date:\"2023-07-30\",tags:[\"kubernetes\"],summary:\"CRD\\uC640 Custom Controller\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uD504\\uB85C\\uC81D\\uD2B8\\uC5D0 \\uB300\\uD574\\uC11C \\uB354 \\uC54C\\uACE0 \\uC2F6\\uC740 \\uC0C1\\uD669\\uC5D0\\uC11C, External Secrets\\uC774\\uB77C\\uB294 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uBC1C\\uACAC\\uD558\\uAC8C \\uB418\\uC5C8\\uB2E4. External Secrets\\uB294 Vault, AWS secret manager\\uC640 \\uAC19\\uC774 secret \\uAD00\\uB9AC\\uD558\\uB294 Tool\\uB4E4\\uACFC Kubernetes secret\\uC744 CRD\\uC744 \\uD1B5\\uD574\\uC11C sync\\uD560 \\uC218 \\uC788\\uAC8C \\uD574\\uC900\\uB2E4. \\uC774 \\uD504\\uB85C\\uC81D\\uD2B8\\uB294 kubebuilder\\uB97C \\uC0AC\\uC6A9\\uD558\\uC600\\uB294\\uB370, \\uC18C\\uC2A4\\uCF54\\uB4DC\\uB97C \\uBCF4\\uBA74\\uC11C \\uC5B4\\uB5BB\\uAC8C \\uAD6C\\uD604\\uD55C \\uAC74\\uC9C0 \\uC790\\uC138\\uD788 \\uC0B4\\uD3B4\\uBCF4\\uC558\\uB2E4.\"};function y(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",code:\"code\",pre:\"pre\",blockquote:\"blockquote\",h3:\"h3\",ol:\"ol\",li:\"li\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"\\uC6B0\\uC5F0\\uD788 \",(0,e.jsx)(n.a,{href:\"https://github.com/external-secrets/external-secrets\",children:\"Kubernetes External Secrets\"}),\" \\uC774\\uB984\\uC758 \\uC624\\uD508\\uC18C\\uC2A4 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC54C\\uAC8C \\uB418\\uC5C8\\uB2E4. \\uC774 \\uD504\\uB85C\\uC81D\\uD2B8\\uB294 Valut, AWS Secret Manager \\uAC19\\uC740 tool\\uC744 single source of truth\\uB85C \\uB2E4\\uC218\\uC758 kubernetes cluster\\uAC00 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD574\\uC900\\uB2E4. custom controller\\uB85C \\uC774\\uB7EC\\uD55C tool\\uC758 secret \\uC815\\uBCF4\\uB97C Kubernetes secret\\uACFC Sync\\uB97C \\uD558\\uAC8C \\uB41C\\uB2E4. \\uC774\\uC81C tool\\uC758 secret rotation \\uAE30\\uB2A5\\uC744 \\uC0AC\\uC6A9\\uD55C\\uB2E4\\uBA74 \\uBC14\\uB010 secrets\\uC774 Kubernetes secrets\\uC5D0 \\uC801\\uC6A9\\uB418\\uACE0, Deployment resource\\uC5D0 \\uC788\\uB294 secret \\uC815\\uBCF4\\uAC00 \\uBC14\\uB00C\\uBA74\\uC11C \\uB2E4\\uC2DC \\uBC30\\uD3EC\\uAC00 \\uB420 \\uC218 \\uC788\\uACA0\\uB2E4.\"]}),(0,e.jsxs)(n.h2,{id:\"getting-started\\uB85C-\\uD30C\\uC545\\uD574\\uBCF4\\uAE30\",children:[(0,e.jsx)(n.a,{href:\"#getting-started\\uB85C-\\uD30C\\uC545\\uD574\\uBCF4\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Getting Started\\uB85C \\uD30C\\uC545\\uD574\\uBCF4\\uAE30\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://external-secrets.io/v0.8.5/introduction/getting-started/\",children:\"External Secrests \\uBB38\\uC11C\\uC758 Getting Started\"}),\"\\uC5D0\\uC11C AWS SecretManager\\uB97C \\uD65C\\uC6A9\\uD558\\uB294 \\uC608\\uC81C\\uB97C \\uBCF4\\uC5EC\\uC900\\uB2E4. \\uBA3C\\uC800 \",(0,e.jsx)(n.code,{children:\"SecretStore\"}),\" resource\\uB97C \\uC0DD\\uC131\\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` SecretStore\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secretstore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"provider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"aws\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` SecretsManager\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"region\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" us\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"east\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"auth\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"accessKeyIDSecretRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" awssm\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" access\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`key\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretAccessKeySecretRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" awssm\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"access\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`key\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \",(0,e.jsx)(n.code,{children:\"ExternalSecret\"}),\" \\uB9AC\\uC18C\\uC2A4\\uB97C \\uB9CC\\uB4E4\\uAC8C \\uB418\\uACE0, spec\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"secretStoreRef\"}),\"\\uB85C \\uC704\\uC5D0 \\uB9CC\\uB4E4\\uC5B4\\uC9C4 \",(0,e.jsx)(n.code,{children:\"SecretStore\"}),\" \\uB9AC\\uC18C\\uC2A4 \\uC624\\uBE0C\\uC81D\\uD2B8\\uB97C \\uAC00\\uB9AC\\uD0A4\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ExternalSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"refreshInterval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1h\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretStoreRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secretstore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` SecretStore\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"to\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"be\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`created\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"creationPolicy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Owner\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretKey\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"to\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"be\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`managed\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"remoteRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`key\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"version\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`version\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"property\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`property\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"dataFrom\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"extract\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" remote\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"in\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"the\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`provider\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"createPolicy: Owner\"}),\"\\uB85C \\uC124\\uC815\\uD588\\uB294\\uB370, \",(0,e.jsx)(n.a,{href:\"https://external-secrets.io/v0.8.5/guides/ownership-deletion-policy/\",children:\"External Secrets \\uBB38\\uC11C\"}),\"\\uB97C \\uBCF4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC124\\uBA85\\uC774 \\uB418\\uC5B4 \\uC788\\uB2E4. \",(0,e.jsx)(n.code,{children:\"Owner\"}),\"\\uB85C \\uC124\\uC815\\uC744 \\uD558\\uBA74 Kubernetes secret\\uC758 ownerReference\\uB97C \\uC124\\uC815\\uD558\\uAC8C \\uB41C\\uB2E4. \\uADF8\\uB9AC\\uACE0 ExternalSecret custom resource\\uAC00 \\uC0AD\\uC81C \\uB420\\uB54C Kubernetes secret resource\\uB3C4 \\uAC19\\uC774 \\uC0AD\\uC81C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:\"The External Secret Operator creates secret and sets the ownerReference field on the Secret. This secret is subject to garbage collection if the initial ExternalSecret is absent. If a secret with the same name already exists that is not owned by the controller it will result in a conflict. The operator will just error out, not claiming the ownership.\"})}),(0,e.jsxs)(n.h2,{id:\"\\uC18C\\uC2A4-\\uCF54\\uB4DC\\uB85C-\\uC774\\uD574\\uD558\\uAE30\",children:[(0,e.jsx)(n.a,{href:\"#\\uC18C\\uC2A4-\\uCF54\\uB4DC\\uB85C-\\uC774\\uD574\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC18C\\uC2A4 \\uCF54\\uB4DC\\uB85C \\uC774\\uD574\\uD558\\uAE30\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uC81C \\uC18C\\uC2A4\\uCF54\\uB4DC\\uB97C \\uD655\\uC778\\uD574\\uBCF4\\uC790. \\uD574\\uB2F9 \\uD504\\uB85C\\uC81D\\uD2B8\\uB294 kubebuilder\\uB97C \\uC0AC\\uC6A9\\uD588\\uACE0, \",(0,e.jsx)(n.code,{children:\"pkg/controllers\"}),\"\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"}),\"\\uB97C \\uCC3E\\uC744 \\uC218 \\uC788\\uC5C8\\uB2E4. \\uAC00\\uC7A5 \\uBA3C\\uC800 \\uBD10\\uC57C \\uD560 \\uAC83\\uC740 \\uC544\\uB798\\uCC98\\uB7FC register package\\uB97C import\\uD558\\uB294 \\uAC83\\uC774\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/register\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"register.go\"}),\"\\uB97C \\uD655\\uC778\\uD574\\uBCF4\\uBA74 \\uC544\\uB798\\uCC98\\uB7FC \\uB2E4\\uC591\\uD55C provider\\uB4E4\\uC5D0 \\uB300\\uD574\\uC11C \\uB4F1\\uB85D\\uD558\\uB294 package\\uB4E4\\uC774 import\\uB418\\uACE0 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"register.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"package\"}),` register\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/akeyless\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/alibaba\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/aws\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/azure/keyvault\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/conjur\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/delinea\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/doppler\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/fake\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/gcp/secretmanager\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/gitlab\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/ibm\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/keepersecurity\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/kubernetes\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/onepassword\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/oracle\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/scaleway\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/senhasegura\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/vault\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/webhook\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/yandex/certificatemanager\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"github.com/external-secrets/external-secrets/pkg/provider/yandex/lockbox\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC608\\uC81C\\uC5D0\\uC11C SecretManager\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0, \",(0,e.jsx)(n.code,{children:\"aws\"}),\" provider package\\uB97C \\uC0B4\\uD3B4\\uBCF4\\uC790. \",(0,e.jsx)(n.code,{children:\"aws.go\"}),\"\\uB97C \\uBCF4\\uBA74 \\uC544\\uB798\\uCC98\\uB7FC init \\uD568\\uC218\\uB85C Provider \\uAC1D\\uCCB4\\uB97C \\uB4F1\\uB85D\\uD558\\uACE0 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"pkg/provider/aws.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"init\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tesv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Register\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"Provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SecretStoreProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tAWS\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"AWSProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uB4F1\\uB85D\\uD558\\uB294 \\uB85C\\uC9C1\\uC740 \\uC544\\uB798\\uCC98\\uB7FC map type\\uC5D0 Provider\\uB97C value\\uB85C \\uC124\\uC815\\uD558\\uB294 \\uAC83\\uC774\\uB2E4. \",(0,e.jsx)(n.code,{children:\"builder\"}),\"\\uB77C\\uB294 map \\uB370\\uC774\\uD130 \\uAD6C\\uC870\\uC5D0 provider\\uB97C \\uC800\\uC7A5\\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"provider_scheme.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" builder \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`Provider\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" buildlock sync\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`RWMutex\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"init\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tbuilder \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"Provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Register\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s Provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" storeSpec \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"SecretStoreProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tstoreName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getProviderName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"storeSpec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token function\",children:\"panic\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Sprintf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"store error registering schema: %s\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tbuildlock\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Lock\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"defer\"}),\" buildlock\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Unlock\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" exists \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" builder\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"storeName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" exists \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token function\",children:\"panic\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Sprintf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"store %q already registered\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" storeName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tbuilder\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"storeName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC774\\uC81C ExternalSecret Controller\\uC758 \\uC911\\uC694 \\uB85C\\uC9C1\\uB4E4\\uC744 \\uC815\\uB9AC\\uD574\\uBCF4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Reconciler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Reconcile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" req ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// go-client\\uB85C Event\\uB85C \\uC804\\uB2EC\\uB41C ExternalSecret\\uC758 \\uAC12\\uC744 \\uAC00\\uC838\\uC628\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" externalSecret esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`ExternalSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" req\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"NamespacedName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// spec:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  refreshInterval: 1h\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  refreshInt \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`RequeueInterval\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshInterval \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\trefreshInt \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshInterval\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`Duration\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// spec:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  target:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//    name: secret-to-be-created\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  secretName \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`Name\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" secretName \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\"'}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tsecretName \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ObjectMeta\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`Name\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ExternalSecret\\uC758 spec\\uC5D0\\uC11C \\uAC00\\uC838\\uC628 name\\uACFC namespace\\uB85C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Kubernetest Secret resource\\uB97C \\uAC00\\uC838\\uC634\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" existingSecret v1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`Secret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" types\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"NamespacedName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"      secretName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tNamespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"existingSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"apierrors\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"IsNotFound\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tlog\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" errGetExistingSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// defer\\uB85C \\uB9C8\\uC9C0\\uB9C9\\uC5D0 ExternalSecret Status \\uC815\\uBCF4\\uB97C \\uB9C8\\uC9C0\\uB9C9\\uC5D0 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  p \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"MergeFrom\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"DeepCopy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"defer\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Status\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Patch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" p\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tlog\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" errPatchStatus\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Secret Manger\\uB85C\\uBD80\\uD130 secret data\\uB97C \\uAC00\\uC838\\uC628\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  dataMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getProviderSecretData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC608\\uC81C\\uC5D0\\uC11C\\uB294 deletionPolicy\\uB97C \\uC815\\uC758\\uD558\\uC9C0 \\uC54A\\uC558\\uC9C0\\uB9CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// default\\uB294 Retain\\uC73C\\uB85C Secret manager\\uC5D0 \\uD574\\uB2F9 \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uB354\\uB77C\\uB3C4\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Kubernetes secret\\uC740 \\uADF8\\uB0E5 \\uC720\\uC9C0\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Delete\\uB85C \\uC124\\uC815\\uD558\\uBA74 Secret manager\\uC5D0\\uB294 \\uC5C6\\uB294\\uB370, Kubernetes secret\\uC740 \\uC874\\uC7AC\\uD558\\uBA74\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC774 resource\\uB97C \\uC0AD\\uC81C \\uD560\\uC218 \\uC788\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"dataMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"switch\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicy \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// delete secret and return early.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicyDelete\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicyMerge\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicyRetain\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"RequeueAfter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" refreshInt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// spec:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// target:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//   creationPolicy: Owner\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// default\\uB85C createOrUpdate \\uD568\\uC218\\uAC00 \\uD638\\uCD9C\\uB41C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Kubernetes secret\\uC774 \\uC5C6\\uC73C\\uBA74 \\uC0DD\\uC131\\uD558\\uACE0, \\uC788\\uC73C\\uBA74 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uAC8C \\uB41C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"switch\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreationPolicy \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//nolint\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreatePolicyMerge\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"patchSecret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Scheme\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mutationFunc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\texternalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Binding \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" v1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"LocalObjectReference\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreatePolicyNone\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tlog\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"V\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Info\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"secret creation skipped due to creationPolicy=None\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"default\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createOrUpdate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mutationFunc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\texternalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Binding \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" v1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"LocalObjectReference\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uC774\\uC81C CRD\\uC5D0\\uC11C \\uC815\\uC758\\uB41C refreshInterval(1h) \\uB4A4\\uC5D0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB2E4\\uC2DC reconcilation\\uC774 \\uB41C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tRequeueAfter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" refreshInt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Secret manager\\uB85C\\uBD80\\uD130 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uB294 \",(0,e.jsx)(n.code,{children:\"getProviderSecretData\"}),\" \\uD568\\uC218\\uB294 \\uC774\\uC81C Provider specific\\uD55C \\uB85C\\uC9C1\\uC744 \\uC218\\uD589\\uD558\\uAC8C \\uB41C\\uB2E4. External Secret\\uC5D0\\uC11C\\uB294 Secret Manager\\uB85C \\uB9D0\\uACE0\\uB3C4 \\uB2E4\\uB978 Secret management tool \\uC5F0\\uB3D9\\uC744 \\uC81C\\uACF5\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC774\\uBD80\\uBD84\\uC5D0\\uC11C SecretStore\\uC5D0 \\uC815\\uC758\\uB41C provider\\uC5D0 \\uB530\\uB77C\\uC11C \\uB2E4\\uB978 \\uB85C\\uC9C1\\uC744 \\uC218\\uD589\\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\uC608\\uC81C\\uC5D0\\uC11C\\uB294 \\uC544\\uB798\\uCC98\\uB7FC dataForm\\uC758 Array\\uC5D0 extract\\uB85C \\uC815\\uC758\\uAC00 \\uB418\\uC5B4 \\uC788\\uC5C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ExternalSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"dataFrom\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"extract\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" remote\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"in\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"the\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`provider\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC774 \\uC124\\uC815\\uC5D0 \\uB530\\uB77C\\uC11C \\uB2E4\\uB978 \\uB85C\\uC9C1\\uC744 \\uC218\\uD589\\uD558\\uB294\\uB370, switch\\uBB38\\uC5D0 \\uC758\\uD574\\uC11C extract\\uB85C \\uC124\\uC815\\uB41C \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,e.jsx)(n.code,{children:\"handleExtractSecrets\"}),\"\\uC774 \\uD638\\uCD9C\\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller_secret.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Reconciler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getProviderSecretData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"\\uC0DD\\uB7B5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" remoteRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"range\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DataFrom \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" secretMap \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" err \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Find \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tsecretMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"handleFindAllSecrets\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mgr\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Extract \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tsecretMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"handleExtractSecrets\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mgr\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SourceRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SourceRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"GeneratorRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tsecretMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"handleGenerateSecrets\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uD568\\uC218\\uC758 \\uB85C\\uC9C1\\uC744 \\uD655\\uC778\\uD558\\uBA74 \",(0,e.jsx)(n.code,{children:\"cmgr *secretstore.Manager\"}),\"\\uC744 \\uD1B5\\uD574\\uC11C provider\\uC758 client\\uB97C \\uAC00\\uC838\\uC628\\uB2E4. \\uC774\\uC81C SecretsClient\\uC758 interface\\uB85C \\uC81C\\uACF5\\uD558\\uB294 \",(0,e.jsx)(n.code,{children:\"GetSecretMap\"}),\"\\uC744 \\uD638\\uCD9C\\uD558\\uACE0, \\uC774 \\uD568\\uC218\\uC5D0\\uB294 SecretStore\\uC5D0\\uC11C \\uC124\\uC815\\uB41C provider\\uC5D0 \\uB300\\uD55C \\uB85C\\uC9C1\\uC774 \\uAD6C\\uD604\\uB418\\uC5B4 \\uC788\\uB2E4. \\uC6B0\\uB9AC\\uB294 \\uC608\\uC81C\\uC5D0\\uC11C Secret Manager\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0, Secret manager\\uB85C\\uBD80\\uD130 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uB85C\\uC9C1\\uC774 \\uAD6C\\uD604\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller_secret.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Reconciler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"handleExtractSecrets\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"\\uC0DD\\uB7B5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" cmgr\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SecretStoreRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SourceRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  secretMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetSecretMap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"remoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Extract\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"SecretStore\"}),\"\\uC5D0\\uC11C \\uC815\\uC758\\uD55C provider\\uC5D0 \\uB9DE\\uAC8C SecretClient \\uAC1D\\uCCB4\\uB97C \\uC0DD\\uC131\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC9C4\\uD589\\uC774 \\uB41C\\uB2E4. ExternalSecret \\uB9AC\\uC18C\\uC2A4\\uC5D0\\uC11C secretStore\\uC5D0 \\uB300\\uD55C \\uC815\\uBCF4\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uB2E4. \\uC774 \\uC815\\uBCF4\\uB97C \\uAC00\\uC9C0\\uACE0 go-client\\uB85C \",(0,e.jsx)(n.code,{children:\"SecretStore\"}),\" \\uB9AC\\uC18C\\uC2A4 \\uC815\\uBCF4\\uB97C \\uAC00\\uC838\\uC628\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"refreshInterval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1h\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretStoreRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secretstore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` SecretStore\n`]})]})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"client_manager.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Manager\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"\\uC0DD\\uB7B5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SecretsClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"storeRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetFromStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Manager\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"\\uC0DD\\uB7B5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"GenericStore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ref \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" types\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"NamespacedName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" storeRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Namespace \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` namespace\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" store esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`SecretStore\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uADF8 \\uB2E4\\uC74C\\uC5D0\\uB294 \",(0,e.jsx)(n.code,{children:\"SecretStore\"}),\" \\uB9AC\\uC18C\\uC2A4 \\uC815\\uBCF4\\uB97C \\uBC14\\uD0D5\\uC73C\\uB85C \\uC801\\uD569\\uD55C provider\\uB97C \\uC120\\uD0DD\\uD558\\uAC8C \\uB41C\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC774\\uBBF8 \\uD574\\uB2F9 provider client\\uAC00 \\uD638\\uCD9C\\uB418\\uC5B4 map\\uC5D0 \\uC800\\uC7A5\\uB418\\uC5B4 \\uC788\\uC73C\\uBA74 \\uB2E4\\uC2DC \\uC0AC\\uC6A9\\uD558\\uACE0, \\uC544\\uB2C8\\uBA74 \",(0,e.jsx)(n.code,{children:\"NewClient\"}),\"\\uB85C \\uC0C8\\uB85C \\uC0DD\\uC131\\uD558\\uC5EC map\\uC5D0 \\uB2E4\\uC2DC \\uC800\\uC7A5\\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"client_manager.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Manager\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"GetFromStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"\\uC0DD\\uB7B5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SecretsClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  storeProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` err\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tsecretClient \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getStoredClient\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" storeProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" secretClient \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" secretClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  secretClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" storeProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"NewClient\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` err\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tidx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"storeKey\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"storeProvider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tm\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"clientMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"clientVal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tclient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" secretClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tstore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"  store\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" secretClient\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"SecretStore\"}),\"\\uC5D0 \\uC800\\uC7A5\\uB41C provider \\uC774\\uB984\\uC73C\\uB85C \\uC801\\uD569\\uD55C provider\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uAC83\\uC740 \\uC544\\uB798\\uCC98\\uB7FC builder\\uB77C\\uB294 map\\uC5D0\\uC11C \\uC774\\uB984\\uC73C\\uB85C \\uCC3E\\uC544\\uC624\\uB294 \\uAC83\\uC774\\uB2E4. \\uC6B0\\uB9AC\\uB294 \\uB9E8 \\uC704\\uC5D0\\uC11C import\\uD55C package\\uC758 init \\uD568\\uC218\\uB97C \\uD1B5\\uD574\\uC11C \",(0,e.jsx)(n.code,{children:\"builder\"}),\"\\uC5D0 \\uC9C0\\uC6D0\\uB418\\uB294 provider \\uAC1D\\uCCB4\\uB97C \\uB2E4 \\uB4F1\\uB85D\\uD558\\uC600\\uB2E4. \\uC5EC\\uAE30\\uC11C\\uB294 \\uC774\\uB807\\uAC8C \\uC815\\uC758\\uB41C map\\uC5D0\\uC11C \\uC774\\uB984\\uC73C\\uB85C \\uAC00\\uC838\\uC624\\uB294 \\uC791\\uC5C5\\uC744 \\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"provider_schema.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"GetProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s GenericStore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  buildlock\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"RLock\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tf\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" builder\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"storeName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tbuildlock\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"RUnlock\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"pkg/provider\"}),\"\\uACBD\\uB85C\\uC5D0\\uB294 \\uC9C0\\uC6D0\\uB418\\uB294 \\uB2E4\\uC591\\uD55C provider\\uC5D0 \\uAD00\\uD55C \\uB85C\\uC9C1\\uB4E4\\uC774 \\uAD6C\\uD604\\uB418\\uC5B4 \\uC788\\uB2E4. \\uCD5C\\uC885\\uC801\\uC73C\\uB85C \",(0,e.jsx)(n.code,{children:\"GetSecretMap\"}),\"\\uC774 \\uD638\\uCD9C\\uB418\\uBA74 \",(0,e.jsx)(n.code,{children:\"Secret Manager\"}),\"\\uC758 \\uAD6C\\uD604 \\uB85C\\uC9C1\\uC5D0 \\uC758\\uD574\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"secretmanager.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"sm \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"SecretsManager\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"GetSecretMap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ExternalSecretDataRemoteRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tlog\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Info\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"fetching secret map\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"key\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tdata\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" sm\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetSecret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` err\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tkv \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"json\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RawMessage\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" json\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Unmarshal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"kv\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"unable to unmarshal secret %s: %w\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tsecretData \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" v \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"range\"}),\" kv \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"var\"}),\" strVal \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" json\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Unmarshal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"v\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"strVal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tsecretData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"strVal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tsecretData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` v\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" secretData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"secretstore\\uC5D0-\\uC694\\uCCAD\\uC744-\\uCD5C\\uC18C\\uD654\",children:[(0,e.jsx)(n.a,{href:\"#secretstore\\uC5D0-\\uC694\\uCCAD\\uC744-\\uCD5C\\uC18C\\uD654\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"SecretStore\\uC5D0 \\uC694\\uCCAD\\uC744 \\uCD5C\\uC18C\\uD654\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB807\\uAC8C Valut, AWS Secret Manager\\uC5D0\\uC11C secret\\uC744 \\uAD00\\uB9AC\\uD558\\uACE0, \\uADF8\\uAC83\\uC774 \\uBCC0\\uACBD\\uB418\\uC5C8\\uC744 \\uB54C kubernetes\\uC758 secret\\uB97C External Secret\\uC758 CRD\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8\\uD574\\uC904 \\uC218 \\uC788\\uB2E4. \\uC774\\uC81C ExternalSecret kind\\uC5D0 \\uB300\\uD574\\uC11C Event\\uAC00 \\uC0DD\\uAE30\\uBA74 \\uADF8\\uAC83\\uC5D0 \\uB300\\uD574\\uC11C Reconciler\\uB97C \\uD638\\uCD9C\\uD558\\uAC8C \\uB41C\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\"\\uC5D0 \\uC124\\uC815\\uB41C \\uC2DC\\uAC04\\uB4A4\\uC5D0 \\uB2E4\\uC2DC work queue\\uC5D0 \\uCD94\\uAC00\\uD558\\uC5EC \\uB2E4\\uC2DC reconcile\\uC774 \\uD638\\uCD9C\\uB418\\uB3C4\\uB85D \\uD55C\\uB2E4. \\uADF8\\uB7EC\\uBA74 ExeternalSecret \\uC0DD\\uC131\\uC744 \\uD560 \\uB54C \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\"\\uB9C8\\uB2E4 queue\\uC5D0 \\uB123\\uB294 loop\\uAC00 \\uC0DD\\uAE30\\uACE0, ExeternalSecret\\uC744 \\uC218\\uC815\\uD558\\uBA74 \\uB2E4\\uB978 loop\\uAC00 \\uC0DD\\uAE30\\uB294 \\uAC83\\uC774 \\uC544\\uB2CC\\uAC00? \\u{1F914}\"]}),(0,e.jsx)(n.p,{children:\"(created event A) -> (event A after refreshInterval) -> (updated event B) -> (event A after refreshInterval) -> (event B after refreshInterval)\"}),(0,e.jsxs)(n.p,{children:[\"\\uADF8\\uB798\\uC11C \",(0,e.jsx)(n.code,{children:\"shouldRefresh\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574\\uC11C \\uBD88\\uD544\\uC694\\uD558\\uAC8C SecretStore\\uC5D0\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC624\\uC9C0 \\uC54A\\uB294 \\uAC83 \\uAC19\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"Reconciler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Reconcile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" req ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// refresh should be skipped if\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 1. resource generation hasn't changed\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 2. refresh interval is 0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 3. if we're still within refresh-interval\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"shouldRefresh\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isSecretValid\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"existingSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tlog\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"V\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Info\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"skipping refresh\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"rv\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getResourceVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"RequeueAfter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" refreshInt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"shouldRefresh\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC791\\uB3D9\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uC774\\uC804 refresh\\uB97C \\uD574\\uC11C SecretStore\\uC5D0\\uC11C data\\uB97C \\uAC00\\uC838\\uC624\\uACE0 status\\uC5D0 \\uC800\\uC7A5\\uB41C resource version\\uC774 \\uD604\\uC7AC resource version\\uACFC \\uB2E4\\uB974\\uBA74 refresh\\uB97C \\uD574\\uC57C \\uD55C\\uB2E4. (ExternalSecret resource\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8\\uD588\\uC744 \\uB54C)\"}),(0,e.jsx)(n.li,{children:\"\\uC774\\uC804\\uC5D0 Synced\\uAC00 \\uB418\\uC5C8\\uACE0, refreshInterval\\uC774 0\\uC73C\\uB85C \\uC124\\uC815\\uB418\\uC5B4 \\uC788\\uC73C\\uBA74 refresh\\uB97C \\uC548 \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"Resource\\uC758 status.RefreshTime\\uC774 0\\uC774\\uBA74 refresh\\uB97C \\uD574\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C status.RefreshTime\\uC774 \\uC544\\uC9C1 refreshInterval\\uB9CC\\uD07C \\uACBD\\uACFC\\uD558\\uC9C0 \\uC54A\\uC558\\uC73C\\uBA74 refresh\\uB97C \\uC548 \\uD55C\\uB2E4.\"})]}),(0,e.jsx)(n.p,{children:\"\\uB9C8\\uC9C0\\uB9C9 4\\uBC88\\uC9F8\\uAC00 work queue\\uC5D0 enqueue\\uB97C \\uACC4\\uC18D \\uD558\\uB294 loop\\uAC00 \\uB450 \\uAC1C \\uC774\\uC0C1 \\uC0DD\\uAE38 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0, status.RefreshTime\\uC744 \\uCCB4\\uD06C\\uD574\\uC11C \\uB2E4\\uC2DC SecretStore\\uC5D0\\uC11C \\uAC00\\uC838\\uC624\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC73C\\uB85C \\uD574\\uACB0\\uD55C \\uAC83\\uC778\\uAC00?\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"shouldRefresh\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ExternalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"bool\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// refresh if resource version changed\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SyncedResourceVersion \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getResourceVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// skip refresh if refresh interval is 0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshInterval\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Duration \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SyncedResourceVersion \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\"'}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshTime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"IsZero\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Status\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshTime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Add\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RefreshInterval\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Duration\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Before\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"time\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Now\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"immutable-secret\",children:[(0,e.jsx)(n.a,{href:\"#immutable-secret\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Immutable Secret\"]}),(0,e.jsx)(n.p,{children:\"\\uCF54\\uB4DC\\uB97C \\uBCF4\\uB2E4 \\uBCF4\\uB2C8 ExternalSecret\\uC758 spec\\uC5D0\\uC11C Immutable \\uC124\\uC815\\uC744 \\uD558\\uBA74, Kubernetes secret resource\\uB97C immutable true\\uB85C \\uC0DD\\uC131\\uD55C\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uB2E4\\uC74C reconcile\\uC5D0\\uC11C \\uC774\\uBBF8 \\uD55C\\uBC88 sync\\uD55C secret\\uC5D0 \\uB300\\uD574\\uC11C\\uB294 \\uB354 \\uC774\\uC0C1 reconcile\\uC744 \\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC73C\\uB85C Immutable\\uC744 \\uC801\\uC6A9\\uD558\\uACE0 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"shouldReconcile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  log\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"V\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Info\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"stopping reconciling\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"rv\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getResourceVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" ctrl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    RequeueAfter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Requeue\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"      \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"secret \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"v1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tObjectMeta\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" metav1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ObjectMeta\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"      secretName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\tNamespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Namespace\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tImmutable\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Immutable\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"byte\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"shouldReconcile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ExternalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"bool\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Immutable \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"hasSyncedCondition\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Secret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"...\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"...\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"immutable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"true\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"ownerreferces\",children:[(0,e.jsx)(n.a,{href:\"#ownerreferces\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"OwnerReferces\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC18C\\uC2A4\\uCF54\\uB4DC\\uB97C \\uBCF4\\uAE30 \\uC804\\uC5D0 CRD\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"CreationPolicy\"}),\"\\uC758 Owner \\uC124\\uC815\\uC774 \\uC5B4\\uB5A4 \\uC5ED\\uD560\\uC744 \\uD558\\uB294\\uC9C0 \\uC0B4\\uD3B4\\uBCF4\\uC558\\uB2E4. \\uC774\\uBD80\\uBD84\\uC740 \\uC544\\uB798\\uCC98\\uB7FC CreationPolicy\\uAC00 \",(0,e.jsx)(n.code,{children:\"Owner\"}),\"\\uC774\\uBA74, Metadata\\uC758 OwnerReferce\\uB97C \\uC124\\uC815\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_controller.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"mutationFunc \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreationPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" esv1beta1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreatePolicyOwner \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\terr \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" controllerutil\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"SetControllerReference\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"externalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"secret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ObjectMeta\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Scheme\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"errSetCtrlReference\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" err\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"controllerutil.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"SetControllerReference\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"owner\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" controlled metav1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" scheme \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"runtime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Scheme\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tref \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" metav1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"OwnerReference\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tAPIVersion\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"         gvk\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GroupVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tKind\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"               gvk\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Kind\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tName\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"               owner\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tUID\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"                owner\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"GetUID\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tBlockOwnerDeletion\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" pointer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Bool\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tController\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"         pointer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Bool\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"validator\",children:[(0,e.jsx)(n.a,{href:\"#validator\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Validator\"]}),(0,e.jsxs)(n.p,{children:[\"calico\\uC5D0\\uC11C\\uB294 calico apiserver\\uB97C \\uD1B5\\uD574\\uC11C kubectl\\uB85C resource\\uB97C \\uC0DD\\uC131\\uD560 \\uB54C, defaulting\\uACFC validation\\uC744 \\uD560 \\uC218\\uAC00 \\uC788\\uB2E4. \\uC544\\uB2C8\\uBA74 calicoctl command tool\\uC744 \\uD1B5\\uD574\\uC11C calico apiserver \\uC5C6\\uC774 resource\\uB97C \\uC0DD\\uC131\\uD560 \\uB54C \\uB3D9\\uC77C\\uD55C defaulting\\uACFC validation\\uC744 \\uD560\\uC218\\uAC00 \\uC788\\uB2E4. \",(0,e.jsx)(n.a,{href:\"https://book.kubebuilder.io/cronjob-tutorial/webhook-implementation.html\",children:\"kubebuilder\\uC5D0\\uC11C defaulting/validating webhook\\uC744 \\uC801\\uC6A9\"}),\"\\uD558\\uB294 \\uAC83\\uC744 \\uC0B4\\uD3B4\\uBCF4\\uBA74, External Secret\\uC5D0\\uC11C\\uB294 \",(0,e.jsx)(n.code,{children:\"apis/externalsecrets\"}),\"\\uC548\\uC5D0 \",(0,e.jsx)(n.code,{children:\"externalsecret_validator.go\"}),\"\\uB85C \\uC815\\uC758\\uB418\\uC5B4 \\uC788\\uC744 \\uAC83\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4. \",(0,e.jsx)(n.code,{children:\"CREATE\"}),\", \",(0,e.jsx)(n.code,{children:\"UPDATE\"}),\" \\uD558\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,e.jsx)(n.code,{children:\"validateExternalSecret\"}),\" \\uD568\\uC218\\uB97C \\uD638\\uCD9C\\uD558\\uC5EC validating\\uC744 \\uD558\\uACE0 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"externalsecret_validator.go\"})}),(0,e.jsx)(n.pre,{className:\"language-go\",children:(0,e.jsxs)(n.code,{className:\"language-go code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"ExternalSecretValidator\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ValidateCreate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" obj runtime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"admission\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Warnings\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"validateExternalSecret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"obj\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"ExternalSecretValidator\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ValidateUpdate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" newObj runtime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"admission\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Warnings\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"validateExternalSecret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"newObj\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"esv \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"ExternalSecretValidator\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ValidateDelete\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),\" runtime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"admission\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Warnings\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"validateExternalSecret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"obj runtime\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"admission\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Warnings\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tes\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" obj\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"ExternalSecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"ok \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"unexpected type\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" DeletionPolicyDelete \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreationPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" CreatePolicyMerge\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" DeletionPolicyDelete \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreationPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" CreatePolicyNone\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:`\"deletionPolicy=Delete must not be used when the controller doesn't own the secret. Please set creationPolcy=Owner\"`}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DeletionPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" DeletionPolicyMerge \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"CreationPolicy \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" CreatePolicyNone \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"deletionPolicy=Merge must not be used with creationPolcy=None. There is no Secret to merge with\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"_\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ref \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"range\"}),\" es\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Spec\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"DataFrom \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\tfindOrExtract \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":=\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Find \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Extract \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" findOrExtract \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SourceRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" ref\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SourceRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"GeneratorRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"Errorf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"generator can not be used with find or extract\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"nil\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uC81C \\uC774\\uB807\\uAC8C validating\\uC744 \\uCD94\\uAC00\\uD558\\uC5EC DeletionPolicy\\uAC00 Delete\\uB85C CreatePolicy\\uAC00 Merge\\uB85C \\uB3D9\\uC2DC\\uC5D0 \\uC124\\uC815\\uB418\\uC9C0 \\uBABB\\uD558\\uB3C4\\uB85D \\uD558\\uC600\\uB2E4. ExternalSecret Kind\\uC5D0\\uC11C SecretStore\\uB97C ref\\uAC12\\uC73C\\uB85C \\uAC00\\uB9AC\\uD0A4\\uB3C4\\uB85D \\uD558\\uACE0 \\uC788\\uB2E4. \\uD558\\uC9C0\\uB9CC ExternalSecret\\uC758 \",(0,e.jsx)(n.code,{children:\"secretStoreRef\"}),\"\\uAC00 \\uC720\\uD6A8\\uD55C \\uAC12\\uC778\\uC9C0\\uB294 validating\\uC5D0\\uC11C \\uCCB4\\uD06C\\uD558\\uC9C0 \\uC54A\\uB294\\uB2E4. \\uC774\\uBD80\\uBD84\\uC5D0 \\uB300\\uD574\\uC11C \\uCD94\\uAC00\\uD558\\uBA74 \\uC88B\\uC9C0 \\uC54A\\uC744\\uAE4C?\"]}),(0,e.jsxs)(n.h2,{id:\"\\uB2E4\\uB978-\\uAE30\\uB2A5\",children:[(0,e.jsx)(n.a,{href:\"#\\uB2E4\\uB978-\\uAE30\\uB2A5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB2E4\\uB978 \\uAE30\\uB2A5\"]}),(0,e.jsxs)(n.h3,{id:\"pushsecret\",children:[(0,e.jsx)(n.a,{href:\"#pushsecret\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"PushSecret\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB807\\uAC8C Valut, AWS Secret Manager\\uC5D0\\uC11C secret\\uC744 \\uAD00\\uB9AC\\uD558\\uACE0, \\uADF8\\uAC83\\uC774 \\uBCC0\\uACBD\\uB418\\uC5C8\\uC744 \\uB54C kubernetes\\uC758 secret\\uB97C External Secret\\uC758 CRD\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8\\uD574\\uC904 \\uC218 \\uC788\\uB2E4. \",(0,e.jsx)(n.code,{children:\"PushSecret\"}),\"\\uB77C\\uB294 kind\\uB294 \\uC774\\uC81C \\uBC18\\uB300\\uB85C Kubernetes secret\\uC744 SecretStore\\uC5D0 \\uC5C5\\uB370\\uC774\\uD2B8\\uD558\\uB294 \\uAC83\\uC744 \\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1alpha1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` PushSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" pushsecret\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"example \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Customisable\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"namespace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" default \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Same of the SecretStores\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"refreshInterval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 10s\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"generator\",children:[(0,e.jsx)(n.a,{href:\"#generator\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Generator\"]}),(0,e.jsxs)(n.p,{children:[\"\\uBA87\\uAC00\\uC9C0 secret value\\uB4E4\\uC744 \\uC0DD\\uC131\\uD560 \\uC218 \\uC788\\uB294 CRD\\uB97C \\uC81C\\uACF5\\uD55C\\uB2E4. \\uC608\\uB97C \\uB4E4\\uC5B4\\uC11C Vault Dynamic Secret\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uAC12\\uC744 \\uC0DD\\uC131\\uD558\\uB824\\uBA74 \\uC544\\uB798\\uCC98\\uB7FC \\uBCC4\\uB3C4\\uC758 Custom Resource\\uB97C \\uB9CC\\uB4E4\\uACE0, External Secret\\uC5D0 \",(0,e.jsx)(n.code,{children:\"generatorRef\"}),\"\\uB85C \\uC815\\uC758\\uD574\\uC900\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" generators.external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1alpha1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` VaultDynamicSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'pki-example'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'/pki/issue/example-dot-com'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"method\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'POST'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"parameters\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"common_name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'localhost'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ip_sans\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'127.0.0.1,127.0.0.11'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"provider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"server\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http://vault.default.svc.cluster.local:8200'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"auth\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kubernetes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'kubernetes'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"role\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'external-secrets-operator'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"serviceAccountRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'default'\"}),`\n`]})]})}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ExternalSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'pki-example-com'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"refreshInterval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'768h'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" pki\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"example\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`com\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"dataFrom\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"sourceRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"generatorRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" generators.external\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`secrets.io/v1alpha1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` VaultDynamicSecret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'pki-example'\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{id:\"\\uACB0\\uB860\",children:[(0,e.jsx)(n.a,{href:\"#\\uACB0\\uB860\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uACB0\\uB860\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC678\\uBD80 Secret management tool\\uACFC Kubernetes Secret\\uC758 Sync \\uB9DE\\uCD94\\uAE30 \\uC704\\uD574\\uC11C CRD\\uC640 Custom controller\\uB85C \\uD574\\uACB0\\uD55C External Secrets \\uD504\\uB85C\\uC81D\\uD2B8\\uC758 \\uCF54\\uB4DC\\uB97C \\uC0B4\\uD3B4\\uBCF4\\uAC8C \\uB418\\uC5C8\\uB2E4. CRD\\uC5D0 \\uC815\\uC758\\uB41C \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\" \\uC2DC\\uAC04\\uB9C8\\uB2E4 Polling \\uBC29\\uC2DD\\uC73C\\uB85C \\uC678\\uBD80 secret management tool\\uC758 \\uAC12\\uC744 \\uAC00\\uC838\\uC624\\uACE0, Kubernetes secret \\uB9AC\\uC18C\\uC2A4\\uC640 sync\\uB97C \\uD558\\uAC8C \\uB41C\\uB2E4. \\uBC18\\uBCF5\\uB418\\uB294 loop\\uC744 \\uB9CC\\uB4E4\\uAE30 \\uC704\\uD574\\uC11C \\uB85C\\uC9C1\\uC774 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\uC218\\uD589\\uD558\\uACE0 \\uB098\\uBA74, work queue\\uC5D0 \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\"\\uC774 \\uACBD\\uACFC\\uD55C \\uB4A4 enqueue\\uD558\\uB3C4\\uB85D Result\\uB97C \\uBC18\\uD658\\uD55C\\uB2E4. \\uADF8\\uB9AC\\uACE0 Custom Resource Status\\uC758 RefreshTime\\uC744 \\uBCF4\\uACE0 \\uC544\\uC9C1 \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\"\\uC774 \\uACBD\\uACFC\\uD558\\uC9C0 \\uC54A\\uC558\\uC73C\\uBA74 Secret management tool\\uC5D0 \\uC694\\uCCAD\\uD558\\uC9C0 \\uC54A\\uB294\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uC678\\uBD80 Secret management tool\\uC640 sync\\uAC00 \\uBE68\\uB9AC \\uB418\\uB3C4\\uB85D \",(0,e.jsx)(n.code,{children:\"refreshInterval\"}),\"\\uC744 \\uC9E7\\uAC8C \\uC124\\uC815\\uD558\\uBA74 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD\\uC774 \\uB354 \\uBE48\\uBC88\\uD558\\uAC8C \\uBC1C\\uC0DD\\uD558\\uAC8C \\uB418\\uACE0, ExternalSecret custom resource\\uAC00 \\uB9CE\\uC544 \\uC9C8\\uC218\\uB85D \\uC774\\uB7EC\\uD55C \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD\\uC740 \\uB354 \\uB9CE\\uC544\\uC9C0\\uAC8C \\uB420 \\uAC83\\uC774\\uB2E4. \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0\\uC11C Informer\\uB97C \\uD1B5\\uD574\\uC11C \\uCC98\\uC74C\\uC5D0 List\\uB97C \\uD574\\uC624\\uACE0 \\uCE90\\uC2DC\\uC640 Watch\\uB97C \\uD1B5\\uD574\\uC11C \\uBCC0\\uD654\\uB418\\uB294 Event\\uC5D0\\uB9CC \\uB85C\\uC9C1\\uC744 \\uC218\\uD589\\uD560 \\uC218 \\uC788\\uB294\\uB370, \\uC774\\uB807\\uAC8C Polling \\uBC29\\uC2DD\\uC740 \\uD655\\uC7A5\\uC131\\uC5D0\\uC11C \\uBB38\\uC81C\\uAC00 \\uC788\\uB2E4\\uB294 \\uC0DD\\uAC01\\uC774 \\uB4E4\\uC5C8\\uB2E4.\"]})]})}}var b=y;return S;})();\n;return Component;","toc":[{"value":"Getting Started로 파악해보기","url":"#getting-started로-파악해보기","depth":2},{"value":"소스 코드로 이해하기","url":"#소스-코드로-이해하기","depth":2},{"value":"SecretStore에 요청을 최소화","url":"#secretstore에-요청을-최소화","depth":3},{"value":"Immutable Secret","url":"#immutable-secret","depth":3},{"value":"OwnerReferces","url":"#ownerreferces","depth":3},{"value":"Validator","url":"#validator","depth":3},{"value":"다른 기능","url":"#다른-기능","depth":2},{"value":"PushSecret","url":"#pushsecret","depth":3},{"value":"Generator","url":"#generator","depth":3},{"value":"결론","url":"#결론","depth":2}],"frontMatter":{"readingTime":{"text":"22 min read","minutes":21.485,"time":1289100,"words":4297},"slug":"20230730-k8s-controller-external-secrets","fileName":"20230730-k8s-controller-external-secrets.md","title":"오픈소스 Kubernetes External Secrets 살펴보기","date":"2023-07-30T00:00:00.000Z","tags":["kubernetes"],"summary":"CRD와 Custom Controller를 사용하는 프로젝트에 대해서 더 알고 싶은 상황에서, External Secrets이라는 프로젝트를 발견하게 되었다. External Secrets는 Vault, AWS secret manager와 같이 secret 관리하는 Tool들과 Kubernetes secret을 CRD을 통해서 sync할 수 있게 해준다. 이 프로젝트는 kubebuilder를 사용하였는데, 소스코드를 보면서 어떻게 구현한 건지 자세히 살펴보았다."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"Jay","avatar":"profile.png","occupation":"Software Engineer","date":null}],"prev":{"title":"행동 설계 7단계를 내 실생활에 적용해보자","date":"2023-07-23T00:00:00.000Z","tags":["book"],"summary":"책 \"훅(Hooked)\"에서 포그 행동모델을 알게 되었다. 이번에는 포그가 쓴 책 \"습관의 디테일(Tiny Habits)\"을 읽어 보게 되었다. 내가 과거에 습관으로 잘 형성했던 행동들을 행동 모델 7단계 관점에서 생각을 해보았다. 그리고 내가 습관화 하지 못했던 행동들에 대해서도 생각해보면서 다시 한번 어떻게 꾸준히 할 수 있을까 고민해보았다. 알고리즘 꾸준히 공부하기는 내가 습관화 하고 싶었던 것 중에 하나였는데 매번 실패하는 행동이었다. 이번에 행동 모델 7단계에 내용들을 적용하여 다시 시도해본다.","slug":"20230723-book-review-tiny-habit"},"next":{"title":"내가 해결한 문제 중 가장 어려운 문제는 무엇이었나?","date":"2023-07-31T00:00:00.000Z","tags":["self-evalutaion"],"summary":"오늘 나를 돌이켜보면서 난해만 문제들을 정의하고 그것들을 해결해나가는 실질적인 경험이 너무 부족하다는 것을 느꼈다. \"나는 진짜 어려운 문제를 해결한 적이 없었는데... 이걸 어려운 문제라고 할 수 있을까...?\" 이러한 고민에 주저하지 않고 당당히 말할 수 있는 경험들을 앞으로라도 만들어 나가야겠다.","slug":"20230731-what-have-you-solved"}},"__N_SSG":true}