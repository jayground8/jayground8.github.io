{"pageProps":{"posts":[{"title":"Thanos Receiver의 empty attribute value 문제","date":"2024-10-26T00:00:00.000Z","tags":["Thanos","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"Opentelemetry Instrumentation 라이브러리 중에서 Str(), Empty()로 attribute value를 설정하여 Metric을 보내는 경우가 있었다. 문제는 Thanos Receiver를 통해서 Metric을 저장하려고 할 때, Attribute value 값이 빈문자열이면 에러가 발생하였다. Otel 1.38.0 규격 문서를 확인했을 때 Attribute value는 빈문자열도 의미를 가질 수 있고 정상적으로 저장되어야 하는 것으로 정의되어 있었다. 따라서 Attribute value가 빈문자열이 때도 정상적으로 저장될 수 있도록 Thanos 소스코드를 수정하여 Container Image 빌드하여 사용하였다.","slug":"20241026-thanos-prometheus-remote-write"}],"tag":"thanos"},"__N_SSG":true}