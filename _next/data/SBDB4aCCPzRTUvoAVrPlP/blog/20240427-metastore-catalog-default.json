{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=n=>l(n,\"__esModule\",{value:!0});var N=(n,s)=>()=>(s||n((s={exports:{}}).exports,s),s.exports),u=(n,s)=>{t(n);for(var c in s)l(n,c,{get:s[c],enumerable:!0})},k=(n,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of d(s))!m.call(n,a)&&a!==\"default\"&&l(n,a,{get:()=>s[a],enumerable:!(c=p(s,a))||c.enumerable});return n},g=n=>k(t(l(n!=null?r(h(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var o=N((x,i)=>{i.exports=_jsx_runtime});var y={};u(y,{default:()=>S,frontmatter:()=>v});var e=g(o()),v={title:\"Spark\\uC5D0\\uC11C Hive database\\uAC00 \\uC870\\uD68C\\uAC00 \\uC548 \\uB418\\uB294 \\uBB38\\uC81C\",date:\"2024-04-27\",tags:[\"spark\"],images:[\"/static/images/social-banner.png\"],summary:\"Spark\\uC5D0\\uC11C SparkSession\\uC5D0 hive \\uC124\\uC815\\uC744 \\uD574\\uC11C Hive\\uC758 \\uB370\\uC774\\uD130\\uB97C \\uC77D\\uAE30/\\uC4F0\\uAE30\\uAC00 \\uAC00\\uB2A5\\uD558\\uB2E4. \\uD558\\uC9C0\\uB9CC Hive\\uC5D0\\uC11C \\uC0DD\\uC131\\uD55C \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uAC00 Spark\\uC5D0\\uC11C\\uB294 \\uC870\\uD68C\\uAC00 \\uB418\\uC9C0 \\uC54A\\uC558\\uB2E4. Spark\\uC5D0\\uC11C Hive Metastore\\uB97C Catalog\\uB85C \\uC0AC\\uC6A9\\uD560 \\uB54C, hive-site.xml\\uC5D0 \\uC124\\uC815\\uB41C \\uAC12\\uC744 \\uC774\\uD574\\uD558\\uBA74 \\uC65C \\uC870\\uD68C\\uAC00 \\uB418\\uC9C0 \\uC54A\\uB294\\uC9C0 \\uC774\\uD574\\uD560 \\uC218 \\uC788\\uB2E4. hive-site.xml\\uC758 metadata.catalog.default \\uAC12\\uC774 \\uC5B4\\uB5BB\\uAC8C \\uC601\\uD5A5\\uC744 \\uBBF8\\uCE58\\uC9C0\\uB294 \\uC0B4\\uD3B4\\uBD24\\uB2E4.\"};function b(n={}){let{wrapper:s}=n.components||{};return s?(0,e.jsx)(s,Object.assign({},n,{children:(0,e.jsx)(c,{})})):c();function c(){let a=Object.assign({p:\"p\",a:\"a\",code:\"code\",pre:\"pre\",span:\"span\",ul:\"ul\",li:\"li\",h2:\"h2\"},n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(a.p,{children:[\"Spark SQL\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C, Hive\\uC758 \\uB370\\uC774\\uD130\\uC5D0 \\uB300\\uD574\\uC11C \\uC77D\\uAE30/\\uC4F0\\uAE30\\uB97C \\uD560 \\uC218 \\uC788\\uB2E4. \",(0,e.jsx)(a.a,{href:\"https://spark.apache.org/docs/2.4.8/sql-data-sources-hive-tables.html\",children:\"Spark 2.4.8\\uC758 \\uBB38\\uC11C\"}),\"\\uB97C \\uBCF4\\uBA74, \\uC544\\uB798\\uC640 \\uAC19\\uC774. \",(0,e.jsx)(a.code,{children:\"SparkSession\"}),\"\\uC5D0 hive \\uC124\\uC815\\uC744 \\uD574\\uC11C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-java\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"val spark \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(a.span,{className:\"token class-name\",children:\"SparkSession\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"appName\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"Spark Hive Example\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"config\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"spark.sql.warehouse.dir\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" warehouseLocation\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"enableHiveSupport\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"getOrCreate\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(a.p,{children:[\"\\uC774\\uB807\\uAC8C hive \\uC124\\uC815\\uC744 \\uD588\\uC744 \\uB54C, \",(0,e.jsx)(a.code,{children:\"/etc/spark2/conf/hive-site.xml\"}),\"\\uC5D0 \\uC124\\uC815\\uD30C\\uC77C\\uC774 \\uC788\\uC73C\\uBA74 \\uD574\\uB2F9 \\uC124\\uC815\\uD30C\\uC77C\\uC5D0 \\uC758\\uD574\\uC11C Hive Metastore\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4. \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\"\\uC744 \\uBCF4\\uBA74 \",(0,e.jsx)(a.code,{children:\"hive.metastore.uris\"}),\"\\uB294 Metastore Thrift server\\uC5D0 \\uC811\\uADFC\\uD558\\uAE30 \\uC704\\uD574\\uC11C thrift protocol\\uB85C \\uC815\\uC758\\uAC00 \\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-xml\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"hive.metastore.uris\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"thrift://{manager node1},thrift://{manager node2}\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,e.jsxs)(a.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\"\\uB3C4 \\uC124\\uC815\\uB418\\uC5B4 \\uC788\\uB2E4. \\uC774\\uBC88 \\uAE00\\uC5D0\\uC11C\\uB294 \\uC774 \\uC124\\uC815\\uAC12\\uC774 \\uC5B4\\uB5A4 \\uC601\\uD5A5\\uC744 \\uBBF8\\uCE58\\uB294\\uC9C0 \\uC0B4\\uD3B4\\uBCF4\\uB824\\uACE0 \\uD55C\\uB2E4.\\u{1F9D0}\"]}),(0,e.jsx)(a.pre,{className:\"language-xml\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"metastore.catalog.default\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spark\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,e.jsx)(a.p,{children:\"\\uC0AC\\uC6A9 \\uD658\\uACBD\"}),(0,e.jsxs)(a.ul,{children:[(0,e.jsx)(a.li,{children:\"Hive: 3.1.2\"}),(0,e.jsx)(a.li,{children:\"Spark: 2.4.8\"})]}),(0,e.jsxs)(a.h2,{id:\"catalog\\uB780\",children:[(0,e.jsx)(a.a,{href:\"#catalog\\uB780\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"catalog\\uB780?\"]}),(0,e.jsx)(a.p,{children:\"Hive\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C Database\\uB098 Table\\uC744 \\uC0DD\\uC131\\uD558\\uBA74 Hive catalog\\uC5D0 \\uC874\\uC7AC\\uD558\\uACE0, Spark\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C Database\\uB098 Table\\uB97C \\uC0DD\\uC131\\uD558\\uBA74 Spark catalog\\uC5D0 \\uC874\\uC7AC\\uD558\\uAC8C \\uB41C\\uB2E4. Catalog\\uB294 \\uC5B4\\uB5A4 \\uC758\\uBBF8\\uB97C \\uAC00\\uC9C0\\uB294 \\uAC83\\uC77C\\uAE4C?\\u{1F9D0} Catalog\\uB294 \\uB370\\uC774\\uD130\\uB4E4\\uC758 \\uAD00\\uACC4, \\uC815\\uC758, \\uC124\\uBA85\\uB4F1\\uC774 \\uBCF4\\uAD00\\uB418\\uC5B4 \\uC788\\uB294 \\uACF3\\uC774\\uB77C\\uACE0 \\uC0DD\\uAC01\\uD560 \\uC218 \\uC788\\uACA0\\uB2E4. \\uADF8\\uB798\\uC11C Catalog\\uAC00 \\uB354 \\uD070 \\uBC94\\uC8FC\\uB97C \\uAC00\\uC9C0\\uACE0, \\uADF8 \\uC548\\uC5D0 Hive Metastore\\uC774 \\uB4E4\\uC5B4\\uAC04\\uB2E4\\uACE0 \\uBCFC \\uC218 \\uC788\\uACA0\\uB2E4(?).\"}),(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.code,{children:\"Hive\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C Database\\uB098 Table\\uC744 \\uC0DD\\uC131\\uD558\\uBA74 Hive catalog\\uC5D0 \\uC874\\uC7AC\\uD558\\uAC8C \\uB41C\\uB2E4\"}),\"\\uB294 \\uAC83\\uC740 \\uB370\\uC774\\uD130\\uC758 \\uAD00\\uACC4, \\uB370\\uC774\\uD130\\uAC00 \\uC800\\uC7A5\\uB41C \\uC704\\uCE58, \\uB370\\uC774\\uD130\\uC758 schema\\uB4F1 \\uB2E4\\uC591\\uD55C \\uC815\\uBCF4\\uB4E4\\uC774 Hive catalog\\uC5D0 \\uC874\\uC7AC\\uD558\\uAC8C \\uB418\\uB294\\uB370, \\uADF8\\uAC83\\uC744 Hive Metastore\\uAC00 \\uB2F4\\uB2F9\\uD558\\uACE0 \\uC788\\uB2E4\\uB294 \\uAC83\\uC73C\\uB85C \\uC0DD\\uAC01\\uD560 \\uC218 \\uC788\\uACA0\\uB2E4. Spark\\uB294 catalog\\uB97C \",(0,e.jsx)(a.code,{children:\"in-memory\"}),\" \\uBC29\\uC2DD\\uC73C\\uB85C \\uAD00\\uB9AC\\uD558\\uC5EC Spark session\\uB3D9\\uC548\\uB9CC \\uC720\\uC9C0\\uD558\\uAC8C \\uD558\\uAC70\\uB098, \",(0,e.jsx)(a.code,{children:\"Hive metastore\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC9C0\\uC18D \\uAC00\\uB2A5\\uD55C catalog \\uC124\\uC815\\uC744 \\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB9AC\\uACE0 \",(0,e.jsx)(a.code,{children:\"Hive\"}),\" \\uD658\\uACBD\\uC774 \\uC5C6\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 Spark \\uC790\\uCCB4\\uC801\\uC73C\\uB85C Derby\\uB97C \\uC774\\uC6A9\\uD574\\uC11C Hive metastore\\uB97C \\uAD6C\\uC131\\uD55C\\uB2E4\\uACE0 \\uD55C\\uB2E4. \",(0,e.jsx)(a.code,{children:\"Spark catalog\\uC5D0 \\uC874\\uC7AC\"}),\"\\uB294 \\uC124\\uC815\\uC5D0 \\uB530\\uB77C\\uC11C in-memory, local metastore with Derby, external hive metastore \\uB4F1\\uC5D0 \\uC800\\uC7A5\\uB420 \\uC218 \\uC788\\uB2E4\\uB77C\\uB294 \\uAC83\\uC744 \\uC758\\uBBF8\\uD55C\\uB2E4. \\uB530\\uB77C\\uC11C \\uC704\\uC5D0\\uC11C \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\"\\uC5D0 Hive metastore\\uC5D0 \\uB300\\uD55C \\uC124\\uC815\\uB4E4\\uC774 \\uB418\\uC5B4 \\uC788\\uB294 Spark\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,e.jsx)(a.code,{children:\"External hive metastore\"}),\"\\uAC00 Spark catalog\\uAC00 \\uB418\\uB294 \\uAC83\\uC774\\uB2E4.\"]}),(0,e.jsxs)(a.h2,{id:\"spark\\uC5D0\\uC11C-\\uC0DD\\uC131\\uD55C-database\\uAC00-hive\\uC5D0\\uC11C-\\uC870\\uD68C\\uB418\\uC9C0\\uAC00-\\uC54A\\uB294\\uB2E4\",children:[(0,e.jsx)(a.a,{href:\"#spark\\uC5D0\\uC11C-\\uC0DD\\uC131\\uD55C-database\\uAC00-hive\\uC5D0\\uC11C-\\uC870\\uD68C\\uB418\\uC9C0\\uAC00-\\uC54A\\uB294\\uB2E4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Spark\\uC5D0\\uC11C \\uC0DD\\uC131\\uD55C Database\\uAC00 Hive\\uC5D0\\uC11C \\uC870\\uD68C\\uB418\\uC9C0\\uAC00 \\uC54A\\uB294\\uB2E4\"]}),(0,e.jsxs)(a.p,{children:[\"Spark\\uB97C Python\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uB54C, \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC791\\uC131\\uD560 \\uC218 \\uC788\\uB2E4. SparkSession\\uC5D0\\uC11C \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\"\\uC758 \\uC124\\uC815\\uD30C\\uC77C\\uC5D0 \\uC758\\uD574\\uC11C Hive Metastore\\uB97C \\uC0AC\\uC6A9\\uD558\\uB3C4\\uB85D \\uC790\\uB3D9 \\uC124\\uC815\\uB41C\\uB2E4. \\uAC04\\uB2E8\\uD558\\uAC8C database\\uB97C \\uC0DD\\uC131\\uD558\\uACE0, database \\uBAA9\\uB85D \\uC870\\uD68C\\uB97C \\uD55C\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-py\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-py\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" os\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"path \",(0,e.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),` abspath\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" pyspark\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"sql \",(0,e.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),` SparkSession\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" pyspark\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"sql \",(0,e.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),` Row\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"warehouse_location \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" abspath\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:\"'spark-warehouse'\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"spark \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),` SparkSession \\\\\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),`builder \\\\\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"appName\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"Python Spark SQL Hive integration example\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),` \\\\\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"config\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"spark.sql.warehouse.dir\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" warehouse_location\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),` \\\\\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"enableHiveSupport\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),` \\\\\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"getOrCreate\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"spark\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"sql\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"create database example\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"spark\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"sql\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token string\",children:'\"show databases\"'}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"show\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.code,{children:\"pyspark\"}),\"\\uB85C \\uD574\\uB2F9 python script\\uB97C \\uC2E4\\uD589\\uD558\\uBA74 Console\\uC5D0 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uB0B4\\uC6A9\\uC774 \\uCD9C\\uB825\\uB418\\uB294 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-bash\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"      databaseName\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"           default\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"        \t\texample\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+\n`})]})}),(0,e.jsxs)(a.p,{children:[\"\\uADF8\\uB7F0\\uB370 Hive shell\\uC744 \\uD1B5\\uD574\\uC11C \\uD655\\uC778\\uD558\\uBA74 \\uC0C8\\uB85C \\uC0DD\\uC131\\uD55C database \",(0,e.jsx)(a.code,{children:\"example\"}),\"\\uC774 \\uC870\\uD68C\\uB418\\uC9C0 \\uC54A\\uB294\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-bash\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`$ hive\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" show databases\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`OK\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`default\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`information_schema\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`sys\n`})]})}),(0,e.jsxs)(a.p,{children:[\"\\uC5EC\\uAE30\\uC11C \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\"\\uC758 \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\" \\uC124\\uC815\\uAC12\\uC744 \\uC0DD\\uAC01\\uD574 \\uBCFC \\uD544\\uC694\\uAC00 \\uC788\\uB2E4. \\uC704\\uC5D0\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \",(0,e.jsx)(a.code,{children:\"spark\"}),\"\\uB85C \\uC124\\uC815\\uB418\\uC5B4 \\uC788\\uB2E4\\uACE0 \\uC124\\uBA85\\uD588\\uC5C8\\uB2E4. Hive\\uC5D0\\uC11C\\uB294 \\uD574\\uB2F9 \\uAC12\\uC774 \\uAE30\\uBCF8\\uAC12 \",(0,e.jsx)(a.code,{children:\"hive\"}),\"\\uB85C \\uC124\\uC815\\uB418\\uC5B4 \\uC788\\uB2E4. \\uB530\\uB77C\\uC11C \\uD574\\uB2F9 \\uC124\\uC815\\uAC12\\uC744 \",(0,e.jsx)(a.code,{children:\"spark\"}),\" -> \",(0,e.jsx)(a.code,{children:\"hive\"}),\"\\uB85C \\uBCC0\\uACBD \\uC801\\uC6A9\\uD558\\uACE0, Spark\\uC744 \\uC7AC\\uC2DC\\uC791\\uD55C\\uB2E4. \\uB2E4\\uC2DC spark\\uC5D0\\uC11C database\\uB97C \\uC870\\uD68C\\uD558\\uBA74 \\uB3D9\\uC77C\\uD55C \\uBAA9\\uB85D\\uC774 \\uBCF4\\uC774\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-xml\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"metastore.catalog.default\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spark\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,e.jsxs)(a.h2,{id:\"metastore-catalog\\uB294-\\uBB34\\uC5C7\\uC778\\uAC00\",children:[(0,e.jsx)(a.a,{href:\"#metastore-catalog\\uB294-\\uBB34\\uC5C7\\uC778\\uAC00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"metastore catalog\\uB294 \\uBB34\\uC5C7\\uC778\\uAC00?\"]}),(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.code,{children:\"Catalog\"}),\", \",(0,e.jsx)(a.code,{children:\"Hive Metastore\"}),\", \",(0,e.jsx)(a.code,{children:\"Metastore Catalog\"}),\"\\uB4F1 \\uC6A9\\uC5B4\\uB4E4\\uC774 \\uB0B4 \\uBA38\\uB9BF\\uC18D\\uC5D0 \\uD63C\\uC7AC\\uB418\\uC5B4\\uC11C \\uD5DB\\uAC08\\uB838\\uB2E4. \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\" \\uC124\\uC815\\uAC12\\uC5D0\\uC11C \",(0,e.jsx)(a.code,{children:\"metastore.catalog\"}),\"\\uB294 \\uBB34\\uC5C7\\uC774\\uB780 \\uB9D0\\uC778\\uAC00?\\u{1F928} Hive Metastore Thrift Server\\uAC00 \\uC788\\uACE0, \\uC800\\uC7A5\\uC18C\\uB85C Derby, MySQL, PostgreSQL\\uB4F1 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uAC00 \\uC0AC\\uC6A9\\uB41C\\uB2E4. \",(0,e.jsx)(a.code,{children:\"metastore.catalog\"}),\"\\uB294 Metastore\\uAC00 \\uC800\\uC7A5\\uC18C\\uC5D0 \\uC800\\uC7A5\\uD560 \\uB54C, Metastore\\uC5D0 \\uC800\\uC7A5\\uB41C \\uB370\\uC774\\uD130\\uB97C namespace\\uCC98\\uB7FC \\uAD6C\\uBD84\\uD558\\uAE30 \\uC704\\uD55C \\uC774\\uB984\\uC774\\uB77C\\uACE0 \\uC0DD\\uAC01\\uB41C\\uB2E4.\"]}),(0,e.jsxs)(a.p,{children:[\"\\uB124\\uC774\\uBC84 \\uD074\\uB77C\\uC6B0\\uB4DC\\uC5D0\\uC11C \\uC81C\\uACF5\\uD558\\uB294 \\uAD00\\uB9AC\\uD615 Hadoop Service\\uC5D0\\uC11C\\uB294 MySQL\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB294\\uB370, \\uD574\\uB2F9 \\uD658\\uACBD\\uC5D0\\uC11C \\uD655\\uC778\\uC744 \\uD574\\uBCF4\\uC558\\uB2E4. \\uBA3C\\uC800 \",(0,e.jsx)(a.code,{children:\"/etc/hive/conf\"}),\" \\uACBD\\uB85C\\uC5D0\\uC11C \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\" \\uD30C\\uC77C\\uC744 \\uD655\\uC778\\uD574\\uBCF4\\uBA74 \\uC544\\uB798\\uCC98\\uB7FC \\uC124\\uC815\\uC774 \\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,e.jsx)(a.p,{children:(0,e.jsx)(a.code,{children:\"hive-site.xml\"})}),(0,e.jsx)(a.pre,{className:\"language-xml\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"javax.jdo.option.ConnectionURL\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"jdbc:mysql://mysql.local:3306/hive_9880\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"javax.jdo.option.ConnectionUserName\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"{username}\",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"value\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"property\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,e.jsx)(a.p,{children:\"\\uC774\\uC81C mysql client\\uB97C \\uD1B5\\uD574\\uC11C MySQL \\uC811\\uC18D\\uD558\\uC5EC Schema\\uB97C \\uD655\\uC778\\uD574\\uBCF8\\uB2E4.\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"mysql -h mysql.local -u \",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"username\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),` -p\n`]})})}),(0,e.jsx)(a.p,{children:\"\\uC800\\uC7A5\\uB41C \\uB370\\uC774\\uD130\\uB97C \\uD655\\uC778\\uD574\\uBCF4\\uBA74 Hive Metastore\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB294 \\uB2E4\\uC591\\uD55C service\\uB4E4\\uC5D0 \\uB300\\uD55C Database\\uAC00 \\uBCF4\\uC778\\uB2E4.\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"mysql\",(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" show databases\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+--------------------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" Database           \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+--------------------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" information_schema \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" ambari_9880        \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" grafana_9880       \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" hive_9880          \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" hue_9880           \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" logsearch_9880     \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" oozie_9880         \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" ranger_9880        \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" ranger_kms_9880    \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+--------------------+\n`})]})}),(0,e.jsxs)(a.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \",(0,e.jsx)(a.code,{children:\"hive_9880\"}),\" Database\\uC5D0 \\uC788\\uB294 \",(0,e.jsx)(a.code,{children:\"DBS\"}),\" table\\uC758 \\uB808\\uCF54\\uB4DC\\uB4E4\\uC744 \\uD655\\uC778\\uD574\\uBCF8\\uB2E4.\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"mysql\",(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" use hive_9880\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"mysql\",(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(a.span,{className:\"token keyword\",children:\"select\"}),\" * from DBS\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(a.p,{children:[\"\\uADF8\\uB7EC\\uBA74 Hive\\uC5D0\\uC11C \\uB9CC\\uB4E4\\uC5B4\\uC9C4 database\\uC640 Spark\\uC5D0\\uC11C \\uC0DD\\uC131\\uD55C \",(0,e.jsx)(a.code,{children:\"example\"}),\"\\uC774 \\uC870\\uD68C\\uB418\\uB294 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \\uC774\\uB807\\uAC8C \",(0,e.jsx)(a.code,{children:\"metadata.catalog.default\"}),\"\\uC5D0 \\uC124\\uC815\\uB41C \\uAC12\\uC73C\\uB85C \\uAD6C\\uBD84\\uC774 \\uB418\\uC5B4 \\uC788\\uACE0, Metastore Thrift Server\\uAC00 MySQL \\uC800\\uC7A5\\uC18C\\uC5D0 Query\\uB97C \\uD560 \\uB54C \\uC774 \\uAC12\\uC73C\\uB85C \\uAD6C\\uBD84\\uD574\\uC11C \\uAC00\\uC838\\uC624\\uB294 \\uAC83\\uC73C\\uB85C \\uC0DD\\uAC01\\uB41C\\uB2E4. (\\uC800\\uC7A5\\uC18C\\uB97C MySQL\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACFC\\uC815\\uC5D0\\uC11C general_log\\uB97C \\uBCF4\\uBA74 Query\\uBB38\\uC774 \\uC5B4\\uB5BB\\uAC8C \\uB418\\uB294\\uC9C0 \\uD655\\uC778\\uD558\\uBA74 \\uD655\\uC2E4\\uD558\\uAC8C \\uC54C \\uC218 \\uC788\\uC744 \\uAC83\\uC774\\uB2E4.)\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-bash\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+----------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"NAME              \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"CTLG_NAME \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+----------+\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"default           \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"hive      \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"sys               \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"hive      \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"information_schema\",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"hive      \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"example           \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\"spark     \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`+------------------+----------+\n`})]})}),(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.a,{href:\"https://github.com/apache/hive/pull/320\",children:\"Github Pull Request \\uAE30\\uB85D\"}),\"\\uC744 \\uBCF4\\uBA74, catalog \\uBCC0\\uC218\\uB97C \\uCD94\\uAC00\\uD558\\uBA74\\uC11C default\\uB85C \",(0,e.jsx)(a.code,{children:\"hive\"}),\"\\uB97C \\uD558\\uB3C4\\uB85D \\uD558\\uACE0, Server side\\uC5D0\\uC11C \\uC124\\uC815\\uAC12\\uC73C\\uB85C \\uBCC0\\uACBD\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uBCC0\\uACBD\\uC774 \\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB9AC\\uACE0 Query\\uB97C \\uD560 \\uB54C catalog \\uAC12\\uC744 \\uC0AC\\uC6A9\\uD574\\uC11C \\uAC00\\uC838\\uC624\\uB294 \\uAC83\\uB3C4 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(a.h2,{id:\"\\uACB0\\uB860\",children:[(0,e.jsx)(a.a,{href:\"#\\uACB0\\uB860\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\uACB0\\uB860\"]}),(0,e.jsxs)(a.p,{children:[\"Hive Metastore\\uB294 \\uB2E4\\uC591\\uD55C \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C Metadata\\uB97C \\uC800\\uC7A5\\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uB2E4. Spark\\uC5D0\\uC11C\\uB3C4 \\uBA54\\uBAA8\\uB9AC\\uC5D0 Metadata\\uB97C \\uBCF4\\uAD00\\uD558\\uB294 \\uB300\\uC2E0\\uC5D0 Hive Metastore\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC800\\uC7A5\\uC18C\\uC5D0 \\uBCF4\\uAD00\\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB9AC\\uACE0 Spark\\uC5D0\\uC11C Hive support option\\uC744 \\uD1B5\\uD574\\uC11C Hive\\uC758 \\uB370\\uC774\\uD130\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB7F0\\uB370 Hive\\uC5D0\\uC11C \\uC0DD\\uC131\\uD55C \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB294 \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\"\\uAC00 \",(0,e.jsx)(a.code,{children:\"hive\"}),\"\\uB85C \\uC124\\uC815\\uB418\\uC5B4 \\uC800\\uC7A5\\uB418\\uACE0, Spark\\uC5D0\\uC11C \\uC0DD\\uC131\\uD55C \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB294 \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\"\\uAC00 \",(0,e.jsx)(a.code,{children:\"spark\"}),\"\\uB85C \\uC124\\uC815\\uB418\\uC5B4 \\uC800\\uC7A5\\uB41C\\uB2E4. \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uB54C\\uB3C4 \\uC774 catalog \\uC774\\uB984\\uC73C\\uB85C \\uAD6C\\uBD84\\uB418\\uC5B4 \\uAC00\\uC838\\uC624\\uAC8C \\uB41C\\uB2E4. \\uB530\\uB77C\\uC11C Spark\\uC5D0\\uC11C Hive\\uC5D0\\uC11C \\uC0DD\\uC131\\uB41C \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB97C \\uC870\\uD68C\\uD558\\uC9C0 \\uBABB\\uD558\\uAC8C \\uB41C\\uB2E4. Spark\\uC758 \",(0,e.jsx)(a.code,{children:\"hive-site.xml\"}),\" \\uC124\\uC815\\uAC12\\uC744 \\uD1B5\\uD574\\uC11C \",(0,e.jsx)(a.code,{children:\"metastore.catalog.default\"}),\"\\uB97C \",(0,e.jsx)(a.code,{children:\"hive\"}),\"\\uB85C \\uC124\\uC815\\uD558\\uBA74, Hive\\uC5D0\\uC11C \\uC0DD\\uC131\\uB41C \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB97C \\uC870\\uD68C\\uD560 \\uC218 \\uC788\\uAC8C \\uB41C\\uB2E4.\"]})]})}}var S=b;return y;})();\n;return Component;","toc":[{"value":"catalog란?","url":"#catalog란","depth":2},{"value":"Spark에서 생성한 Database가 Hive에서 조회되지가 않는다","url":"#spark에서-생성한-database가-hive에서-조회되지가-않는다","depth":2},{"value":"metastore catalog는 무엇인가?","url":"#metastore-catalog는-무엇인가","depth":2},{"value":"결론","url":"#결론","depth":2}],"frontMatter":{"readingTime":{"text":"6 min read","minutes":5.325,"time":319500,"words":1065},"slug":"20240427-metastore-catalog-default","fileName":"20240427-metastore-catalog-default.md","title":"Spark에서 Hive database가 조회가 안 되는 문제","date":"2024-04-27T00:00:00.000Z","tags":["spark"],"images":["/static/images/social-banner.png"],"summary":"Spark에서 SparkSession에 hive 설정을 해서 Hive의 데이터를 읽기/쓰기가 가능하다. 하지만 Hive에서 생성한 데이터베이스가 Spark에서는 조회가 되지 않았다. Spark에서 Hive Metastore를 Catalog로 사용할 때, hive-site.xml에 설정된 값을 이해하면 왜 조회가 되지 않는지 이해할 수 있다. hive-site.xml의 metadata.catalog.default 값이 어떻게 영향을 미치지는 살펴봤다."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"Jay","avatar":"profile.png","occupation":"Software Engineer","date":null}],"prev":{"title":"Kubelet imageGC","date":"2024-04-20T00:00:00.000Z","tags":["kubernetes","ncloud"],"images":["/static/images/social-banner.png"],"summary":"사이즈가 큰 컨테이너 이미지를 내려받기 위해서 Containerd의 설정값 root을 새로운 스토리지를 추가한 경로로 수정하였다. Kubelet은 imageGCHighThresholdPercent로 설정된 임계치보다 disk 사용량이 많으면, 컨테이너 이미지를 정리하여 disk 공간을 확보하려고 한다. imageGCHighThresholdPercent이 기본값으로 85로 설정되어 있고, disk의 85 퍼센트 이상 사용했을 때 정리 프로세스가 실행된다. 문제는 Containerd root 경로의 volume이 거의 꽉 차더라도, 전체 volume의 사용량은 85 퍼센트가 되지 않을 수 있다는 것이다. Containerd root 경로의 volume에 여유가 없어서 새로 스케쥴된 Pod의 컨테이너 이미지를 내려 받지 못하는 문제가 발생할 수 있다. imageGCHighThresholdPercent 설정값을 조절하여 이 문제를 해결할 수 있다.","slug":"20240420-kubelet-imagegc"},"next":{"title":"OpenTelmetry로 auth.log와 syslog 수집하기","date":"2024-05-01T00:00:00.000Z","tags":["kubernetes","opentelemetry","devsecops"],"images":["/static/images/social-banner.png"],"summary":"Ubuntu 20.04 서버의 auth.log, syslog 로그 값들을 OpenTelemetry를 통해서 수집하고 싶었다. 처음에는 Filelog Receiver를 통해서 수집하려고 하였고, rsyslog의 설정값을 변경하여 Filelog로 수집하도록 구성했다. 그런데 이후에 Syslog Receiver가 존재하는 것을 확인하게 되었고, 훨씬 간단하게 syslog를 수집할 수 있었다.","slug":"20240501-opentelemetry-syslog"}},"__N_SSG":true}