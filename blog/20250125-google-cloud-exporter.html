<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="manifest" href="/jayground8/static/favicons/manifest.json"/><link rel="manifest" href="/jayground8/static/favicons/site.webmanifest"/><link rel="shortcut icon" href="/jayground8/static/favicons/favicon.ico"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8773084925406986" crossorigin="anonymous"></script><title>Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?</title><meta name="robots" content="follow, index"/><meta name="description" content="OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 Google Cloud Exporter를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수도 있다. 따라서 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다."/><meta property="og:url" content="https://jayground8.github.io/blog/20250125-google-cloud-exporter"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Jayground8"/><meta property="og:description" content="OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 Google Cloud Exporter를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수도 있다. 따라서 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다."/><meta property="og:title" content="Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?"/><meta property="og:image" content="https://jayground8.github.io/static/images/social-banner.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?"/><meta name="twitter:description" content="OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 Google Cloud Exporter를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수도 있다. 따라서 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다."/><meta name="twitter:image" content="https://jayground8.github.io/static/images/social-banner.png"/><link rel="canonical" href="https://jayground8.github.io/blog/20250125-google-cloud-exporter"/><meta property="article:published_time" content="2025-01-25T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jayground8.github.io/blog/20250125-google-cloud-exporter"
  },
  "headline": "Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://jayground8.github.io/static/images/social-banner.png"
    }
  ],
  "datePublished": "2025-01-25T00:00:00.000Z",
  "dateModified": "2025-01-25T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Jay"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Jay",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jayground8.github.ioplayground.png"
    }
  },
  "description": "OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 Google Cloud Exporter를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수도 있다. 따라서 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다."
}</script><meta name="next-head-count" content="24"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/414f98a58444a4f1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/414f98a58444a4f1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-690364db8bfb1f01.js" defer=""></script><script src="/_next/static/chunks/main-eea1c213342d95c3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a20e716e34f45894.js" defer=""></script><script src="/_next/static/chunks/675-70b09cbf0a5309ea.js" defer=""></script><script src="/_next/static/chunks/410-35c4fb535edd9439.js" defer=""></script><script src="/_next/static/chunks/712-376d32740a4ac813.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-8ab66ff6ebabec4c.js" defer=""></script><script src="/_next/static/eTW9XuFSVMe8lYZ3vb4VJ/_buildManifest.js" defer=""></script><script src="/_next/static/eTW9XuFSVMe8lYZ3vb4VJ/_ssgManifest.js" defer=""></script><script src="/_next/static/eTW9XuFSVMe8lYZ3vb4VJ/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Jayground8" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="53.87" height="43.61" viewBox="0 0 512 512" class="fill-black dark:fill-white"><path d="M368.4 17c-8.8 1.3-18.3 5-25.3 9.9-3.8 2.5-22.6 16.1-41.9 30.1-37.1 26.9-38.6 28.3-36.3 33.9 1.7 4 4.9 5.1 14.6 5.1h8.5v128h-17.9c-18.2 0-22.2.6-27.3 4.2l-2.8 1.9V116.9l2.5-2.4c1.5-1.6 3.6-2.5 5.5-2.5s4 .9 5.5 2.5l2.5 2.4v42c0 29.1.3 42.8 1.1 44.5 2.6 5.7 11.5 5.5 13.9-.3.7-1.9 1-15.6.8-46.2-.3-40.1-.4-43.7-2.2-46.9-4.8-9-11.9-13.4-21.6-13.4-13.8 0-22.8 9.1-23.8 24.1l-.5 7.3h-31.5l-1.2-2.9c-1.6-3.9-6-5.8-9.9-4.1-1.6.6-3.5 2.5-4.1 4.1l-1.2 2.9h-63.6l-1.2-2.9c-2.5-6.2-11.5-6.2-14 0l-1.2 2.9H64.3l-.5-7.3c-1-15-10-24.1-23.8-24.1-9.7 0-16.8 4.4-21.6 13.4-1.8 3.3-1.9 7.5-2.2 75-.2 50 .1 72.3.8 74.1 2.1 5.1 8.6 6.3 12.5 2.4l2.5-2.4V116.9l2.5-2.4c3.2-3.3 7.8-3.3 11 0l2.5 2.4V448H32V284.9l-2.5-2.4c-3.8-3.9-10.2-2.7-12.4 2.2-1.6 3.4-1.6 171.2 0 174.6.6 1.4 2.2 3 3.6 3.6 1.6.7 15.6 1.1 43.7 1.1 38 0 41.5-.1 43.4-1.8 1.2-.9 33.4-50.5 71.7-110.2 38.3-59.7 70.5-109.3 71.7-110.3 1.8-1.5 4.3-1.7 19.4-1.7H288v16h-12.5c-13.1 0-16.6.8-18.3 4.4-2 4.5-138.5 216.2-140.4 217.9-1.9 1.6-5.6 1.7-47.9 1.7-31.9 0-46.6.3-48.3 1.1-5.7 2.6-5.5 11.5.3 13.9 1.9.7 16.7 1 50.1.8 46.4-.3 47.6-.3 51.5-2.5 2.2-1.1 5.1-3.3 6.5-4.7 1.3-1.5 10.1-14.7 19.6-29.4l17.1-26.7 18.4-.5c10.1-.3 19.1-.9 20-1.3.9-.5 2.1-1.9 2.8-3.3 1.5-3.4 1.5-35.4 0-38.8-1.1-2.3-4-4-8-4.8-1.3-.2 1.5-5.2 11.5-20.7l13.1-20.5.5 56.5c.3 31 .9 57.1 1.3 58 1.5 3 5.6 3.9 18.2 3.9H256v14c0 14.9.7 18.1 4.7 19.9 1.7.8 34.7 1.1 115.3 1.1s113.6-.3 115.3-1.1c1.4-.6 3-2.2 3.6-3.6 1.5-3.4 1.5-83.2 0-86.6-2.2-4.9-8.6-6.1-12.4-2.2l-2.5 2.4V480H272V272h208v107.1l2.5 2.4c3.8 3.9 10.2 2.7 12.4-2.2 1.5-3.4 1.5-115.2 0-118.6-1.8-3.9-5-4.7-18.4-4.7H464v-40.5c0-27.9-.3-41.2-1.1-42.9-2.6-5.5-11.2-5.5-13.8 0-.8 1.7-1.1 15-1.1 42.9V256h-24v-34.5c0-21.3-.4-36.4-1.1-39.7-3.6-17.3-19.3-32.9-36.7-36.7-16.2-3.4-31.4 1.1-43.3 12.9-7.4 7.3-11.2 13.9-13.4 23.2-1.8 7.9-2.1 50.3-.4 54.2 1.6 3.5 6.1 5.2 9.8 3.7 4.7-2 5.1-4.2 5.1-29.6 0-21.5.2-23.9 2.2-29.2C350.6 168.4 363 160 376 160s25.4 8.4 29.8 20.3c2.1 5.5 2.2 7.4 2.2 40.7v35H304V96h144v24.5c0 16 .4 25.3 1.1 26.9 2.6 5.5 11.2 5.5 13.8 0 .7-1.6 1.1-10.9 1.1-26.9V96h8.5c9.7 0 12.9-1.1 14.6-5.1 2.1-5.2.1-7.5-17.7-20.4C446.2 53.8 445 53 442.1 53c-4.1.1-7.5 3.5-7.5 7.7 0 4 2.2 6.3 14.8 15.3l4.8 3.5-39.1.3c-21.5.1-56.7.1-78.2 0l-39.1-.3 14.9-10.7c8.2-5.9 20.7-15.1 27.8-20.4 14.5-10.8 20.5-14 29.4-15.5 11.6-2.1 22.4 1.3 36.5 11.4 4.3 3.1 9 5.7 10.3 5.7 3.9 0 7.5-4.4 7.1-8.7-.3-3.3-1.1-4.4-7.8-9.6-15.3-11.8-32.3-17.1-47.6-14.7zM96 152v8H64v-16h32v8zm80 0v8h-64v-16h64v8zm48 0v8h-32v-16h32v8zM96 280v104h-4.5c-5.5 0-9 1.5-10.4 4.7-1.5 3.3-1.5 35.4 0 38.7 1.7 3.6 3.1 4 16.2 4.6l11.9.5-5.1 7.7L99 448H64V176h32v104zm80-27.8v76.3l-17.8 27.7-17.7 27.7-14.2.1H112V176h64v76.2zm48-37.3v38.9l-15.6 24.4c-8.6 13.3-15.8 24.5-16 24.7-.2.2-.4-28.2-.4-63.2V176h32v38.9zM256 369v76h-16V317.1l7.8-12c4.2-6.7 7.8-12.1 8-12.1.1 0 .2 34.2.2 76zm-129.1 34.7c-1.2 2.1-3.6 5.7-5.1 8l-2.9 4.3H96v-16h33.2l-2.3 3.7zM192 408v8h-15.1l3.7-5.8c2-3.1 4.4-6.7 5.2-8 .8-1.2 2.4-2.2 3.8-2.2 2.3 0 2.4.2 2.4 8z"></path><path d="M322.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM418.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM290.2 290.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.5 290.5c-5 4.9-1.5 13.5 5.5 13.5 4.1 0 8-3.9 8-8s-3.9-8-8-8c-1.9 0-4 .9-5.5 2.5zM358.1 322c-8.3 2.2-16.5 5.7-19.8 8.6-3.3 2.8-3.9 7.3-1.4 10.6 3.3 4.1 6.4 4.3 13.8.8 23.3-10.9 47.3-7 64.8 10.5 11.5 11.4 16.5 23.6 16.5 39.7 0 15.9-5.1 28.1-16.4 39.4C404.2 443 392.1 448 376 448s-28.1-5-39.5-16.5c-11-11.1-16.5-24.2-16.5-39.5.1-9.5 1.2-14.5 5.6-24.3 3.8-8.3 3.8-10.4.1-14.5-4.7-5.1-10.8-1.7-15.4 8.6-8.6 19.5-8.4 42.7.6 61.7 9.1 19.3 28.3 34.5 49.5 39 11.9 2.6 28.4 1.7 39.3-2.2 23.9-8.6 41.3-27.9 46.9-51.9 1.9-8.5 1.9-24.4-.1-33.1-5.9-25.5-26.7-46.6-52.5-53.3-10.1-2.6-25.8-2.6-35.9 0zM290.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6z"></path></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Jayground8</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">블로그</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">블로그</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2025-01-25T00:00:00.000Z">2025년 1월 25일 토요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="h-10 w-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="https://jayground8.github.io/static/images/profile.png?w=48&amp;q=75 1x, https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75 2x" src="https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="h-10 w-10 rounded-full" loading="lazy"/></noscript></span><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Jay</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p>OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 <a target="_blank" rel="noopener noreferrer" href="https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/googlecloudexporter/README.md">Google Cloud Exporter</a>를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수 있다. 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다.</p><h2 id="예제"><a href="#예제" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>예제</h2><p>환경</p><ul><li>GKE</li><li>Python / FastApi</li><li>OpenTelemetry Collector로 Telemetry data 수집</li></ul><h3 id="컨테이너-이미지-빌드"><a href="#컨테이너-이미지-빌드" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>컨테이너 이미지 빌드</h3><p>먼저 예제로 사용할 Python Application을 Container Image로 빌드한다.</p><p><code>app/main.py</code></p><div class="relative"><pre><code class="code-highlight language-python"><span class="code-line"><span class="token keyword">import</span> logging
</span><span class="code-line"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> FastAPI
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry <span class="token keyword">import</span> trace
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>trace <span class="token keyword">import</span> TracerProvider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>trace_exporter <span class="token keyword">import</span> OTLPSpanExporter
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>trace<span class="token punctuation">.</span>export <span class="token keyword">import</span> BatchSpanProcessor
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry <span class="token keyword">import</span> metrics
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> MeterProvider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>metrics<span class="token punctuation">.</span>export <span class="token keyword">import</span> PeriodicExportingMetricReader
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>metric_exporter <span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line">    OTLPMetricExporter<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>_logs <span class="token keyword">import</span> set_logger_provider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>_logs <span class="token keyword">import</span> LoggerProvider<span class="token punctuation">,</span> LoggingHandler
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>_logs<span class="token punctuation">.</span>export <span class="token keyword">import</span> BatchLogRecordProcessor
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>_log_exporter <span class="token keyword">import</span> OTLPLogExporter
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>resources <span class="token keyword">import</span> get_aggregated_resources
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>instrumentation<span class="token punctuation">.</span>fastapi <span class="token keyword">import</span> FastAPIInstrumentor
</span><span class="code-line">
</span><span class="code-line">trace<span class="token punctuation">.</span>set_tracer_provider<span class="token punctuation">(</span>TracerProvider<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">tracer <span class="token operator">=</span> trace<span class="token punctuation">.</span>get_tracer<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
</span><span class="code-line">trace<span class="token punctuation">.</span>get_tracer_provider<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_span_processor<span class="token punctuation">(</span>
</span><span class="code-line">    BatchSpanProcessor<span class="token punctuation">(</span>OTLPSpanExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">exporter <span class="token operator">=</span> OTLPMetricExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</span><span class="code-line">reader <span class="token operator">=</span> PeriodicExportingMetricReader<span class="token punctuation">(</span>exporter<span class="token punctuation">)</span>
</span><span class="code-line">provider <span class="token operator">=</span> MeterProvider<span class="token punctuation">(</span><span class="token punctuation">,</span> metric_readers<span class="token operator">=</span><span class="token punctuation">[</span>reader<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">metrics<span class="token punctuation">.</span>set_meter_provider<span class="token punctuation">(</span>provider<span class="token punctuation">)</span>
</span><span class="code-line">meter <span class="token operator">=</span> metrics<span class="token punctuation">.</span>get_meter_provider<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_meter<span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">logger_provider <span class="token operator">=</span> LoggerProvider<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">set_logger_provider<span class="token punctuation">(</span>logger_provider<span class="token punctuation">)</span>
</span><span class="code-line">logger_provider<span class="token punctuation">.</span>add_log_record_processor<span class="token punctuation">(</span>BatchLogRecordProcessor<span class="token punctuation">(</span>OTLPLogExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">handler <span class="token operator">=</span> LoggingHandler<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>NOTSET<span class="token punctuation">,</span> logger_provider<span class="token operator">=</span>logger_provider<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">app <span class="token operator">=</span> FastAPI<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&quot;uvicorn.access&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&quot;uvicorn.error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
</span><span class="code-line">counter <span class="token operator">=</span> meter<span class="token punctuation">.</span>create_counter<span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation annotation decorator">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    counter<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">FastAPIInstrumentor<span class="token punctuation">.</span>instrument_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</span></code></pre></div><p><code>requirements.txt</code></p><div class="relative"><pre><code class="code-highlight"><span class="code-line">fastapi
</span><span class="code-line">uvicorn[standard]
</span><span class="code-line">opentelemetry-api
</span><span class="code-line">opentelemetry-sdk
</span><span class="code-line">opentelemetry.instrumentation.fastapi
</span><span class="code-line">opentelemetry-exporter-otlp-proto-grpc
</span><span class="code-line">opentelemetry-resourcedetector-gcp
</span></code></pre></div><p><code>Dockerfile</code></p><div class="relative"><pre><code class="code-highlight language-Dockerfile"><span class="code-line"><span class="token instruction"><span class="token keyword">FROM</span> debian:12-slim <span class="token keyword">AS</span> build</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; <span class="token operator">\</span>
</span></span><span class="code-line"><span class="token instruction">    apt-get install --no-install-suggests --no-install-recommends --yes python3-venv gcc libpython3-dev &amp;&amp; <span class="token operator">\</span>
</span></span><span class="code-line"><span class="token instruction">    python3 -m venv /venv &amp;&amp; <span class="token operator">\</span>
</span></span><span class="code-line"><span class="token instruction">    /venv/bin/pip install --upgrade pip setuptools wheel</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token instruction"><span class="token keyword">FROM</span> build <span class="token keyword">AS</span> build-venv</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">COPY</span> requirements.txt /requirements.txt</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">RUN</span> /venv/bin/pip install --disable-pip-version-check --default-timeout=100 -r /requirements.txt</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token instruction"><span class="token keyword">FROM</span> gcr.io/distroless/python3-debian12:debug-nonroot</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-venv</span></span> /venv /venv</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">COPY</span> /app /app</span>
</span><span class="code-line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/venv/bin/python3&quot;</span>, <span class="token string">&quot;-m&quot;</span>, <span class="token string">&quot;uvicorn&quot;</span>, <span class="token string">&quot;main:app&quot;</span>, <span class="token string">&quot;--host&quot;</span>,  <span class="token string">&quot;0.0.0.0&quot;</span>]</span>
</span></code></pre></div><h3 id="쿠버네티스에-배포"><a href="#쿠버네티스에-배포" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>쿠버네티스에 배포</h3><p>kubectl cli로 Service와 Pod를 배포한다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token punctuation bash"> <span class="token operator">|</span> kubectl apply -f -</span>
</span></span><span class="code-line"><span class="token string">apiVersion: v1
</span></span><span class="code-line"><span class="token string">kind: Pod
</span></span><span class="code-line"><span class="token string">metadata:
</span></span><span class="code-line"><span class="token string">  name: sample
</span></span><span class="code-line"><span class="token string">  labels:
</span></span><span class="code-line"><span class="token string">    app: sample
</span></span><span class="code-line"><span class="token string">spec:
</span></span><span class="code-line"><span class="token string">  containers:
</span></span><span class="code-line"><span class="token string">  - name: sample
</span></span><span class="code-line"><span class="token string">    image: sample
</span></span><span class="code-line"><span class="token string">    imagePullPolicy: Always
</span></span><span class="code-line"><span class="token string">    env:
</span></span><span class="code-line"><span class="token string">      - name: OTEL_EXPORTER_OTLP_PROTOCOL
</span></span><span class="code-line"><span class="token string">        value: grpc
</span></span><span class="code-line"><span class="token string">      - name: OTEL_EXPORTER_OTLP_ENDPOINT
</span></span><span class="code-line"><span class="token string">        value: &quot;http://otel-collector:4317&quot;
</span></span><span class="code-line"><span class="token string">      - name: OTEL_SERVICE_NAME
</span></span><span class="code-line"><span class="token string">        value: sample
</span></span><span class="code-line"><span class="token string">      - name: OTEL_RESOURCE_ATTRIBUTES
</span></span><span class="code-line"><span class="token string">        value: k8s.container.name=sample,k8s.namespace.name=tutorial
</span></span><span class="code-line"><span class="token string">    ports:
</span></span><span class="code-line"><span class="token string">      - name: container-port
</span></span><span class="code-line"><span class="token string">        containerPort: 8000
</span></span><span class="code-line"><span class="token string">---
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">apiVersion: v1
</span></span><span class="code-line"><span class="token string">kind: Service
</span></span><span class="code-line"><span class="token string">metadata:
</span></span><span class="code-line"><span class="token string">  name: sample
</span></span><span class="code-line"><span class="token string">spec:
</span></span><span class="code-line"><span class="token string">  type: ClusterIP
</span></span><span class="code-line"><span class="token string">  selector:
</span></span><span class="code-line"><span class="token string">    app: sample
</span></span><span class="code-line"><span class="token string">  ports:
</span></span><span class="code-line"><span class="token string">    - name: service-port
</span></span><span class="code-line"><span class="token string">      port: 80
</span></span><span class="code-line"><span class="token string">      targetPort: container-port
</span></span><span class="code-line"><span class="token string">EOF</span>
</span></code></pre></div><h3 id="cloud-logging-확인"><a href="#cloud-logging-확인" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Cloud Logging 확인</h3><p>GCP Console에서 아래와 같이 OpenTelemetry에 의해서 쌓인 로그 데이터를 확인할 수 있다.</p><img src="/static/images/cloud-logging.png" alt="Cloud Logs Explorer"/><p>그런데 데이터의 label을 확인하면, 아래와 같이 남는다.</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;generic_node&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;project_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-prj&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;location&quot;</span><span class="token operator">:</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>Application에서 OpenTelemetry SDK를 통해서 Resource Attribute를 아래와 같이 설정하고 있다. 그런데 k8s.namespace.name에 의해서 Cloud Logging label에 해당 값이 반영될거라 기대했겠지만, 빈문자열로 나온다.</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;telemetry.sdk.language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;python&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;telemetry.sdk.name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opentelemetry&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;telemetry.sdk.version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.29.0&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;k8s.container.name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;k8s.namespace.name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tutorial&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;service.name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;schema_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h3 id="resource-detector-설정"><a href="#resource-detector-설정" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Resource Detector 설정</h3><p>위에서 namespace, container 이름들이 Cloud Logging label에 남지 않는 것을 확인하였다. <code>main.py</code> 샘플 코드에 아래와 같이 GoogleCloudResourceDetector를 통해서 Resource를 초기화하도록 변경한다.</p><div class="relative"><pre><code class="code-highlight language-python"><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>resourcedetector<span class="token punctuation">.</span>gcp_resource_detector <span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line">    GoogleCloudResourceDetector<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">resource <span class="token operator">=</span> get_aggregated_resources<span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">[</span>GoogleCloudResourceDetector<span class="token punctuation">(</span>raise_on_error<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">logger_provider <span class="token operator">=</span> LoggerProvider<span class="token punctuation">(</span>resource<span class="token operator">=</span>resource<span class="token punctuation">)</span>
</span></code></pre></div><p>전체 수정된 코드는 아래와 같다.</p><p><code>app/main.py</code></p><div class="relative"><pre><code class="code-highlight language-python"><span class="code-line"><span class="token keyword">import</span> logging
</span><span class="code-line"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> FastAPI
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry <span class="token keyword">import</span> trace
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>trace <span class="token keyword">import</span> TracerProvider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>trace_exporter <span class="token keyword">import</span> OTLPSpanExporter
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>trace<span class="token punctuation">.</span>export <span class="token keyword">import</span> BatchSpanProcessor
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry <span class="token keyword">import</span> metrics
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> MeterProvider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>metrics<span class="token punctuation">.</span>export <span class="token keyword">import</span> PeriodicExportingMetricReader
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>metric_exporter <span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line">    OTLPMetricExporter<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>_logs <span class="token keyword">import</span> set_logger_provider
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>_logs <span class="token keyword">import</span> LoggerProvider<span class="token punctuation">,</span> LoggingHandler
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>_logs<span class="token punctuation">.</span>export <span class="token keyword">import</span> BatchLogRecordProcessor
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>exporter<span class="token punctuation">.</span>otlp<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>grpc<span class="token punctuation">.</span>_log_exporter <span class="token keyword">import</span> OTLPLogExporter
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>_logs<span class="token punctuation">.</span>export <span class="token keyword">import</span> ConsoleLogExporter
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>resources <span class="token keyword">import</span> get_aggregated_resources
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>resourcedetector<span class="token punctuation">.</span>gcp_resource_detector <span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line">    GoogleCloudResourceDetector<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">from</span> opentelemetry<span class="token punctuation">.</span>instrumentation<span class="token punctuation">.</span>fastapi <span class="token keyword">import</span> FastAPIInstrumentor
</span><span class="code-line">
</span><span class="code-line">resource <span class="token operator">=</span> get_aggregated_resources<span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">[</span>GoogleCloudResourceDetector<span class="token punctuation">(</span>raise_on_error<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">trace<span class="token punctuation">.</span>set_tracer_provider<span class="token punctuation">(</span>TracerProvider<span class="token punctuation">(</span>resource<span class="token operator">=</span>resource<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">tracer <span class="token operator">=</span> trace<span class="token punctuation">.</span>get_tracer<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
</span><span class="code-line">trace<span class="token punctuation">.</span>get_tracer_provider<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_span_processor<span class="token punctuation">(</span>
</span><span class="code-line">    BatchSpanProcessor<span class="token punctuation">(</span>OTLPSpanExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">exporter <span class="token operator">=</span> OTLPMetricExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</span><span class="code-line">reader <span class="token operator">=</span> PeriodicExportingMetricReader<span class="token punctuation">(</span>exporter<span class="token punctuation">)</span>
</span><span class="code-line">provider <span class="token operator">=</span> MeterProvider<span class="token punctuation">(</span>resource<span class="token operator">=</span>resource<span class="token punctuation">,</span> metric_readers<span class="token operator">=</span><span class="token punctuation">[</span>reader<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">metrics<span class="token punctuation">.</span>set_meter_provider<span class="token punctuation">(</span>provider<span class="token punctuation">)</span>
</span><span class="code-line">meter <span class="token operator">=</span> metrics<span class="token punctuation">.</span>get_meter_provider<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_meter<span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">logger_provider <span class="token operator">=</span> LoggerProvider<span class="token punctuation">(</span>resource<span class="token operator">=</span>resource<span class="token punctuation">)</span>
</span><span class="code-line">set_logger_provider<span class="token punctuation">(</span>logger_provider<span class="token punctuation">)</span>
</span><span class="code-line">logger_provider<span class="token punctuation">.</span>add_log_record_processor<span class="token punctuation">(</span>BatchLogRecordProcessor<span class="token punctuation">(</span>OTLPLogExporter<span class="token punctuation">(</span>insecure<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">handler <span class="token operator">=</span> LoggingHandler<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>NOTSET<span class="token punctuation">,</span> logger_provider<span class="token operator">=</span>logger_provider<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">app <span class="token operator">=</span> FastAPI<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&quot;uvicorn.access&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&quot;uvicorn.error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
</span><span class="code-line">logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
</span><span class="code-line">counter <span class="token operator">=</span> meter<span class="token punctuation">.</span>create_counter<span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation annotation decorator">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    counter<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">FastAPIInstrumentor<span class="token punctuation">.</span>instrument_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</span></code></pre></div><p>이제 Cloud Logging 데이터의 Label을 보면 아래와 같이 우리가 원하는 Kubernetes 관련 정보들이 남겨진 것을 확인할 수 있다.</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;k8s_container&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;project_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-prj&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;container_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;location&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;pod_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;cluster_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tutorial-cluster&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;namespace_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tutorial&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>GCP Resource Detector가 Resource Attribute들을 추가하였고, 그것이 Cloud Logging Label로 변환된 것이다. <a target="_blank" rel="noopener noreferrer" href="https://github.com/GoogleCloudPlatform/opentelemetry-operations-go/blob/v0.49.0/internal/resourcemapping/resourcemapping.go">어떻게 Label로 변환되는지 소스코드</a>을 살펴보자. 우리가 눈여겨 봐야할 부분은 아래와 같다.</p><div class="relative"><pre><code class="code-highlight language-go"><span class="code-line"><span class="token comment">// ResourceAttributesToLoggingMonitoredResource converts from a set of OTEL resource attributes into a</span>
</span><span class="code-line"><span class="token comment">// GCP monitored resource type and label set for Cloud Logging.</span>
</span><span class="code-line"><span class="token comment">// E.g.</span>
</span><span class="code-line"><span class="token comment">// This may output `gce_instance` type with appropriate labels.</span>
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">ResourceAttributesToLoggingMonitoredResource</span><span class="token punctuation">(</span>attrs ReadOnlyAttributes<span class="token punctuation">)</span> <span class="token operator">*</span>monitoredrespb<span class="token punctuation">.</span>MonitoredResource <span class="token punctuation">{</span>
</span><span class="code-line">	cloudPlatform<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudPlatformKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">switch</span> cloudPlatform <span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token keyword">case</span> semconv<span class="token punctuation">.</span>CloudPlatformGCPAppEngine<span class="token punctuation">.</span>Value<span class="token punctuation">.</span><span class="token function">AsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>gaeApp<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">default</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">commonResourceAttributesToMonitoredResource</span><span class="token punctuation">(</span>cloudPlatform<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">commonResourceAttributesToMonitoredResource</span><span class="token punctuation">(</span>cloudPlatform <span class="token builtin">string</span><span class="token punctuation">,</span> attrs ReadOnlyAttributes<span class="token punctuation">)</span> <span class="token operator">*</span>monitoredrespb<span class="token punctuation">.</span>MonitoredResource <span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token keyword">switch</span> cloudPlatform <span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token keyword">case</span> semconv<span class="token punctuation">.</span>CloudPlatformGCPComputeEngine<span class="token punctuation">.</span>Value<span class="token punctuation">.</span><span class="token function">AsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>gceInstance<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">case</span> semconv<span class="token punctuation">.</span>CloudPlatformAWSEC2<span class="token punctuation">.</span>Value<span class="token punctuation">.</span><span class="token function">AsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>awsEc2Instance<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token comment">// TODO(alex-basinov): replace this string literal with semconv.CloudPlatformGCPBareMetalSolution</span>
</span><span class="code-line">	<span class="token comment">// once https://github.com/open-telemetry/semantic-conventions/pull/64 makes its way</span>
</span><span class="code-line">	<span class="token comment">// into the semconv module.</span>
</span><span class="code-line">	<span class="token keyword">case</span> <span class="token string">&quot;gcp_bare_metal_solution&quot;</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>bmsInstance<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">default</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token comment">// if k8s.cluster.name is set, pattern match for various k8s resources.</span>
</span><span class="code-line">		<span class="token comment">// this will also match non-cloud k8s platforms like minikube.</span>
</span><span class="code-line">		<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token comment">// Try for most to least specific k8s_container, k8s_pod, etc</span>
</span><span class="code-line">			<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SContainerNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>k8sContainer<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SPodNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>k8sPod<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SNodeNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>k8sNode<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">}</span>
</span><span class="code-line">			<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>k8sCluster<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token comment">// Fallback to generic_task</span>
</span><span class="code-line">		<span class="token boolean">_</span><span class="token punctuation">,</span> hasServiceName <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token boolean">_</span><span class="token punctuation">,</span> hasFaaSName <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token boolean">_</span><span class="token punctuation">,</span> hasServiceInstanceID <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceInstanceIDKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token boolean">_</span><span class="token punctuation">,</span> hasFaaSInstance <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSInstanceKey<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token keyword">if</span> <span class="token punctuation">(</span>hasServiceName <span class="token operator">&amp;&amp;</span> hasServiceInstanceID<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>hasFaaSInstance <span class="token operator">&amp;&amp;</span> hasFaaSName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>genericTask<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">		<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token comment">// Everything else fallback to generic_node</span>
</span><span class="code-line">		<span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>genericNode<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>조건문에서 <code>k8s.cluster.name</code>이 Resource Attribute에 있는지 확인한다. GCP Resource Detector를 설정하지 않았을 때는 <code>k8s.cluster.name</code>이 Resource Attribute에 설정되지 않았다.</p><div class="relative"><pre><code class="code-highlight language-go"><span class="code-line"><span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> attrs<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span></code></pre></div><p>따라서 이 조건문은 실행되지 못하고, 최종적으로 아래와 같이 return 된다.</p><div class="relative"><pre><code class="code-highlight language-go"><span class="code-line"><span class="token keyword">return</span> <span class="token function">createMonitoredResource</span><span class="token punctuation">(</span>genericNode<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span>
</span></code></pre></div><p>우리가 위에서 GCP Resource Dectector가 설정되지 않았을 때 남은 label를 다시 살펴보자. <code>type</code>을 보면 generic_node인 것을 확인할 수 있는데, 위에서 함수가 Return 될 때 genericNode가 인자로 호출 되었다.</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;generic_node&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;project_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-prj&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;location&quot;</span><span class="token operator">:</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>그럼 GCP Resource Detector를 설정했을 때의 label 정보를 다시 확인해보자. <code>k8s.container.name</code>도 Resource Attribute에 있었기 때문에, 아래와 같이 <code>type</code>이 k8s_container로 설정된 것을 확인할 수 있다.</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;k8s_container&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;project_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-prj&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;container_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;location&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;pod_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sample&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;cluster_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tutorial-cluster&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;namespace_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tutorial&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>해당 인자가 어떤 것인지에 따라서 label로 변환할 Resource Attribute key가 결정이 된다. <code>k8sContainer</code>로 인자와 함께 호출되었기 때문에, Kubernetes 관련한 Resource Attribute들이 Label로 변환될 수 있었던 것이다.</p><div class="relative"><pre><code class="code-highlight language-go"><span class="code-line"><span class="token keyword">var</span> <span class="token punctuation">(</span>
</span><span class="code-line">	<span class="token comment">// monitoredResourceMappings contains mappings of GCM resource label keys onto mapping config from OTel</span>
</span><span class="code-line">	<span class="token comment">// resource for a given monitored resource type.</span>
</span><span class="code-line">	monitoredResourceMappings <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token comment">// If none of the otelKeys are present in the Resource, fallback to this literal value</span>
</span><span class="code-line">		fallbackLiteral <span class="token builtin">string</span>
</span><span class="code-line">		<span class="token comment">// OTel resource keys to try and populate the resource label from. For entries with</span>
</span><span class="code-line">		<span class="token comment">// multiple OTel resource keys, the keys&#x27; values will be coalesced in order until there</span>
</span><span class="code-line">		<span class="token comment">// is a non-empty value.</span>
</span><span class="code-line">		otelKeys <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
</span><span class="code-line">	<span class="token punctuation">}</span><span class="token punctuation">{</span>
</span><span class="code-line">		gceInstance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			zone<span class="token punctuation">:</span>       <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			instanceID<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>HostIDKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		k8sContainer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			clusterName<span class="token punctuation">:</span>   <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			namespaceName<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SNamespaceNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			podName<span class="token punctuation">:</span>       <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SPodNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			containerName<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SContainerNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		k8sPod<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			clusterName<span class="token punctuation">:</span>   <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			namespaceName<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SNamespaceNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			podName<span class="token punctuation">:</span>       <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SPodNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		k8sNode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			clusterName<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			nodeName<span class="token punctuation">:</span>    <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SNodeNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		k8sCluster<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			clusterName<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>K8SClusterNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		gaeInstance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			gaeModuleID<span class="token punctuation">:</span>  <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			gaeVersionID<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSVersionKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			instanceID<span class="token punctuation">:</span>   <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSInstanceKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		gaeApp<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			gaeModuleID<span class="token punctuation">:</span>  <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			gaeVersionID<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSVersionKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		awsEc2Instance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			instanceID<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>HostIDKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			region<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">				otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			awsAccount<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAccountIDKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		bmsInstance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span>   <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			instanceID<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>HostIDKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		genericTask<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">				otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">				fallbackLiteral<span class="token punctuation">:</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			namespace<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceNamespaceKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			job<span class="token punctuation">:</span>       <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceNameKey<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			taskID<span class="token punctuation">:</span>    <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceInstanceIDKey<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>FaaSInstanceKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		genericNode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			location<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">				otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudAvailabilityZoneKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">					<span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>CloudRegionKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">				fallbackLiteral<span class="token punctuation">:</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			namespace<span class="token punctuation">:</span> <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>ServiceNamespaceKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">			nodeID<span class="token punctuation">:</span>    <span class="token punctuation">{</span>otelKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>HostIDKey<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>semconv<span class="token punctuation">.</span>HostNameKey<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre></div><h2 id="해결-방법"><a href="#해결-방법" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>해결 방법</h2><p>Google Cloud Exporter를 사용하여 Cloud Monitoring Service에 Log를 남길 때, Resource Attribute들이 어떻게 Cloud Log의 Label로 변환되는지 소스코드로 이해했다. 우리는 Kubernetes의 기본적인 정보들을 Label로 전환하기 위하여, GCP Resource Detector를 사용했다. 예제에서는 Python 코드에 직접 GCP Resource Detector를 추가하여 <code>k8s.cluster.name</code>를 포함하여 필요한 여러가지 Resource Attribute를 설정하도록 하였다.</p><p>OpenTelemetry Collector를 사용하는 경우에는 소소코드를 수정하지 않고, 필요한 Resource Attribute를 추가할 수 있다. 아래와 같이 Processor에 resourcedetection을 추가하여 OpenTelemetry Collector가 Resource Attribute를 추가하도록 설정하면 된다. GKE가 아니라 다른 환경에서 사용한 Container Image를 사용한다면, 코드 변경 없이 OpenTelemetry Collector단에서 필요한 Resource Attribute를 추가하면 된다.</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">processors</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token atrule key">resourcedetection</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token atrule key">detectors</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>gcp<span class="token punctuation">]</span>
</span><span class="code-line">	<span class="token atrule key">timeout</span><span class="token punctuation">:</span> 10s
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">pipelines</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">logs</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token atrule key">exporters</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token punctuation">-</span> googlecloud
</span><span class="code-line">		<span class="token atrule key">processors</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token punctuation">-</span> k8sattributes
</span><span class="code-line">		<span class="token punctuation">-</span> memory_limiter
</span><span class="code-line">		<span class="token punctuation">-</span> resourcedetection
</span><span class="code-line">		<span class="token punctuation">-</span> batch
</span><span class="code-line">		<span class="token atrule key">receivers</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token punctuation">-</span> otlp
</span></code></pre></div><p>아니면 환경변수 <code>OTEL_RESOURCE_ATTRIBUTES</code>를 통해서 <code>k8s.cluster.name</code>과 더불어 필요한 Kubernetes Resource Attribute 정보들을 추가해도 동일한 결과를 얻을 수 있다. 물론 여러 Cluster에서 사용될 수 있는 경우라면, <code>k8s.cluster.name</code>을 수동으로 설정하는 것보다는 GCP Resource Detector로 설정하는 것이 더 바람직하다.</p><h2 id="custom-resource-attribute를-label로-추가하기"><a href="#custom-resource-attribute를-label로-추가하기" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Custom Resource Attribute를 Label로 추가하기</h2><p>Google Cloud Exporter에서 나의 Custom Resource Attribute를 Cloud Logging의 Label에 추가할 수 있도록 아래와 같은 설정을 제공한다. 예를 들어서 <code>main.py</code> 코드에서 <code>my.attr</code>를 Resource Attribute로 설정한다.</p><div class="relative"><pre><code class="code-highlight language-go"><span class="code-line">resource <span class="token operator">=</span> <span class="token function">get_aggregated_resources</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">[</span><span class="token function">GoogleCloudResourceDetector</span><span class="token punctuation">(</span>raise_on_error<span class="token operator">=</span>True<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Resource<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">&quot;my.attr&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;tutorial&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre></div><p>Google Cloud Exporter의 설정에서 <code>resource_filters</code>를 추가하여 my를 prefix로 가지는 Resource Attribute를 Label로 추가할 수 있다. 여기서 헛갈리지 말아야할 것은 Cloud Logging의 resource.labels에 남는 것 아니라, labels에 해당 정보가 남게 된다.</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">googlecloud</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token atrule key">log</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token atrule key">resource_filters</span><span class="token punctuation">:</span>
</span><span class="code-line">			<span class="token punctuation">-</span> <span class="token atrule key">prefix</span><span class="token punctuation">:</span> my
</span></code></pre></div><h2 id="결론"><a href="#결론" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>결론</h2><p>GKE에서 Google Cloud Export를 통해서 OpenTelemetry Log Data를 저장할 때, Resource Attribute <code>k8s.cluster.name</code>가 올바르게 설정되어야 하는 것을 알게 되었다. Resource Attribute <code>k8s.cluster.name</code>이 있을 때, Kubernetes관련 정보들이 기대하는 것처럼 Label들로 남게 된다. 수동으로 <code>k8s.cluster.name</code> 대신에 GCP Resource Detector로 자동으로 설정할 수 있다.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/gcp">gcp</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/kubernetes">kubernetes</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/opentelemetry">opentelemetry</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250119-otel-gcp-detector">OpenTelemetry GcpDetector를 이해하기</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250126-gcp-sql-iam-auth">GCP IAM으로 MySQL 접속하기</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:jayground8@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/jayground8"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Jay</div><div> • </div><div>© 2025</div><div> • </div><a href="/">Jayground8</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var l=a=\u003et(a,\"__esModule\",{value:!0});var h=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let e of d(s))!m.call(a,e)\u0026\u0026e!==\"default\"\u0026\u0026t(a,e,{get:()=\u003es[e],enumerable:!(c=p(s,e))||c.enumerable});return a},g=a=\u003ek(l(t(a!=null?r(u(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var i=h((w,o)=\u003e{o.exports=_jsx_runtime});var v={};N(v,{default:()=\u003ef,frontmatter:()=\u003ey});var n=g(i()),y={title:\"Google Cloud Exporter\\uAC00 Log\\uC758 Resource Attribute\\uB97C Cloud Logging Label\\uB85C \\uC5B4\\uB5BB\\uAC8C \\uBCC0\\uD658\\uD560\\uAE4C?\",date:\"2025-01-25\",tags:[\"gcp\",\"kubernetes\",\"opentelemetry\"],images:[\"/static/images/social-banner.png\"],summary:\"OpenTelemetry Collector\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C, \\uB2E4\\uC591\\uD55C exporter\\uB97C \\uD1B5\\uD574\\uC11C Telemetry data\\uB97C \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4. GCP\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 Google Cloud Exporter\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C Telemetry data\\uB97C \\uC27D\\uAC8C \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB7F0\\uB370 Log\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uB0B4\\uAC00 \\uC124\\uC815\\uD55C Resource attribute\\uAC00 \\uAE30\\uB300\\uD55C \\uAC83\\uCC98\\uB7FC Google Cloud Logging\\uC758 Label\\uC5D0 \\uB4F1\\uB85D\\uB418\\uC9C0 \\uC54A\\uB294 \\uACBD\\uC6B0\\uB97C \\uACBD\\uD5D8\\uD560 \\uC218\\uB3C4 \\uC788\\uB2E4. \\uB530\\uB77C\\uC11C \\uC624\\uB298\\uC740 Google Cloud Exporter\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C, Resource Attribute\\uB4E4\\uC774 Cloud Logging Label\\uB85C \\uC5B4\\uB5BB\\uAC8C \\uBCC0\\uD658\\uB418\\uB294\\uC9C0 \\uC790\\uC138\\uD788 \\uC124\\uBA85\\uD55C\\uB2E4.\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",ul:\"ul\",li:\"li\",h3:\"h3\",code:\"code\",pre:\"pre\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"OpenTelemetry Collector\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C, \\uB2E4\\uC591\\uD55C exporter\\uB97C \\uD1B5\\uD574\\uC11C Telemetry data\\uB97C \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4. GCP\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,n.jsx)(e.a,{href:\"https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/googlecloudexporter/README.md\",children:\"Google Cloud Exporter\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C Telemetry data\\uB97C \\uC27D\\uAC8C \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB7F0\\uB370 Log\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uB0B4\\uAC00 \\uC124\\uC815\\uD55C Resource attribute\\uAC00 \\uAE30\\uB300\\uD55C \\uAC83\\uCC98\\uB7FC Google Cloud Logging\\uC758 Label\\uC5D0 \\uB4F1\\uB85D\\uB418\\uC9C0 \\uC54A\\uB294 \\uACBD\\uC6B0\\uB97C \\uACBD\\uD5D8\\uD560 \\uC218 \\uC788\\uB2E4. \\uC624\\uB298\\uC740 Google Cloud Exporter\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C, Resource Attribute\\uB4E4\\uC774 Cloud Logging Label\\uB85C \\uC5B4\\uB5BB\\uAC8C \\uBCC0\\uD658\\uB418\\uB294\\uC9C0 \\uC790\\uC138\\uD788 \\uC124\\uBA85\\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.h2,{id:\"\\uC608\\uC81C\",children:[(0,n.jsx)(e.a,{href:\"#\\uC608\\uC81C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C\"]}),(0,n.jsx)(e.p,{children:\"\\uD658\\uACBD\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"GKE\"}),(0,n.jsx)(e.li,{children:\"Python / FastApi\"}),(0,n.jsx)(e.li,{children:\"OpenTelemetry Collector\\uB85C Telemetry data \\uC218\\uC9D1\"})]}),(0,n.jsxs)(e.h3,{id:\"\\uCEE8\\uD14C\\uC774\\uB108-\\uC774\\uBBF8\\uC9C0-\\uBE4C\\uB4DC\",children:[(0,n.jsx)(e.a,{href:\"#\\uCEE8\\uD14C\\uC774\\uB108-\\uC774\\uBBF8\\uC9C0-\\uBE4C\\uB4DC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uCEE8\\uD14C\\uC774\\uB108 \\uC774\\uBBF8\\uC9C0 \\uBE4C\\uB4DC\"]}),(0,n.jsx)(e.p,{children:\"\\uBA3C\\uC800 \\uC608\\uC81C\\uB85C \\uC0AC\\uC6A9\\uD560 Python Application\\uC744 Container Image\\uB85C \\uBE4C\\uB4DC\\uD55C\\uB2E4.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"app/main.py\"})}),(0,n.jsx)(e.pre,{className:\"language-python\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-python\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` logging\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" fastapi \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` FastAPI\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` trace\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` TracerProvider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` OTLPSpanExporter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` BatchSpanProcessor\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` metrics\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metrics \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` MeterProvider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` PeriodicExportingMetricReader\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metric_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    OTLPMetricExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` set_logger_provider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" LoggerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),` LoggingHandler\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` BatchLogRecordProcessor\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_log_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` OTLPLogExporter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resources \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` get_aggregated_resources\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"instrumentation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"fastapi \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` FastAPIInstrumentor\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"set_tracer_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"TracerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"tracer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_tracer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__name__\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_tracer_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add_span_processor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    BatchSpanProcessor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"OTLPSpanExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"exporter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" OTLPMetricExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" PeriodicExportingMetricReader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" MeterProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" metric_readers\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"reader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"set_meter_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"meter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_meter_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_meter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"test\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger_provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" LoggerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"set_logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add_log_record_processor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"BatchLogRecordProcessor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"OTLPLogExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"handler \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" LoggingHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"level\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"NOTSET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" logger_provider\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"app \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" FastAPI\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"basicConfig\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"level\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"DEBUG\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"uvicorn.access\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"uvicorn.error\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__name__\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"counter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" meter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"create_counter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"counter\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token punctuation annotation decorator\",children:[\"@app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"root\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    logger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"info\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello World\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    counter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"message\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello World\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"FastAPIInstrumentor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"instrument_app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"requirements.txt\"})}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`fastapi\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`uvicorn[standard]\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`opentelemetry-api\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`opentelemetry-sdk\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`opentelemetry.instrumentation.fastapi\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`opentelemetry-exporter-otlp-proto-grpc\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`opentelemetry-resourcedetector-gcp\n`})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"Dockerfile\"})}),(0,n.jsx)(e.pre,{className:\"language-dockerfile\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-Dockerfile\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"FROM\"}),\" debian:12-slim \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"AS\"}),\" build\"]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"RUN\"}),\" apt-get update \u0026\u0026 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\\\\\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token instruction\",children:[\"    apt-get install --no-install-suggests --no-install-recommends --yes python3-venv gcc libpython3-dev \u0026\u0026 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\\\\\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token instruction\",children:[\"    python3 -m venv /venv \u0026\u0026 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\\\\\"}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token instruction\",children:\"    /venv/bin/pip install --upgrade pip setuptools wheel\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"FROM\"}),\" build \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"AS\"}),\" build-venv\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"COPY\"}),\" requirements.txt /requirements.txt\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"RUN\"}),\" /venv/bin/pip install --disable-pip-version-check --default-timeout=100 -r /requirements.txt\"]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"FROM\"}),\" gcr.io/distroless/python3-debian12:debug-nonroot\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"COPY\"}),\" \",(0,n.jsxs)(e.span,{className:\"token options\",children:[(0,n.jsx)(e.span,{className:\"token property\",children:\"--from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"build-venv\"})]}),\" /venv /venv\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"COPY\"}),\" /app /app\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"WORKDIR\"}),\" /app\"]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"ENTRYPOINT\"}),\" [\",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/venv/bin/python3\"'}),\", \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"-m\"'}),\", \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"uvicorn\"'}),\", \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"main:app\"'}),\", \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"--host\"'}),\",  \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"0.0.0.0\"'}),\"]\"]}),`\n`]})]})}),(0,n.jsxs)(e.h3,{id:\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0-\\uBC30\\uD3EC\",children:[(0,n.jsx)(e.a,{href:\"#\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0-\\uBC30\\uD3EC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0 \\uBC30\\uD3EC\"]}),(0,n.jsx)(e.p,{children:\"kubectl cli\\uB85C Service\\uC640 Pod\\uB97C \\uBC30\\uD3EC\\uD55C\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"cat\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\u003c\"}),(0,n.jsxs)(e.span,{className:\"token string\",children:[\"EOF\",(0,n.jsxs)(e.span,{className:\"token punctuation bash\",children:[\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" kubectl apply -f -\"]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`apiVersion: v1\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`kind: Pod\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`metadata:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  name: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  labels:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    app: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`spec:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  containers:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  - name: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    image: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    imagePullPolicy: Always\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    env:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      - name: OTEL_EXPORTER_OTLP_PROTOCOL\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        value: grpc\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      - name: OTEL_EXPORTER_OTLP_ENDPOINT\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        value: \"http://otel-collector:4317\"\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      - name: OTEL_SERVICE_NAME\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        value: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      - name: OTEL_RESOURCE_ATTRIBUTES\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        value: k8s.container.name=sample,k8s.namespace.name=tutorial\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    ports:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      - name: container-port\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`        containerPort: 8000\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`---\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`apiVersion: v1\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`kind: Service\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`metadata:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  name: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`spec:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  type: ClusterIP\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  selector:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    app: sample\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  ports:\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    - name: service-port\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      port: 80\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      targetPort: container-port\n`})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"EOF\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{id:\"cloud-logging-\\uD655\\uC778\",children:[(0,n.jsx)(e.a,{href:\"#cloud-logging-\\uD655\\uC778\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Cloud Logging \\uD655\\uC778\"]}),(0,n.jsx)(e.p,{children:\"GCP Console\\uC5D0\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 OpenTelemetry\\uC5D0 \\uC758\\uD574\\uC11C \\uC313\\uC778 \\uB85C\\uADF8 \\uB370\\uC774\\uD130\\uB97C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,n.jsx)(\"img\",{src:\"/static/images/cloud-logging.png\",alt:\"Cloud Logs Explorer\"}),(0,n.jsx)(e.p,{children:\"\\uADF8\\uB7F0\\uB370 \\uB370\\uC774\\uD130\\uC758 label\\uC744 \\uD655\\uC778\\uD558\\uBA74, \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uB0A8\\uB294\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"resource\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"generic_node\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"labels\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"namespace\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"project_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"my-prj\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"location\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"global\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"node_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Application\\uC5D0\\uC11C OpenTelemetry SDK\\uB97C \\uD1B5\\uD574\\uC11C Resource Attribute\\uB97C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC124\\uC815\\uD558\\uACE0 \\uC788\\uB2E4. \\uADF8\\uB7F0\\uB370 k8s.namespace.name\\uC5D0 \\uC758\\uD574\\uC11C Cloud Logging label\\uC5D0 \\uD574\\uB2F9 \\uAC12\\uC774 \\uBC18\\uC601\\uB420\\uAC70\\uB77C \\uAE30\\uB300\\uD588\\uACA0\\uC9C0\\uB9CC, \\uBE48\\uBB38\\uC790\\uC5F4\\uB85C \\uB098\\uC628\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"resource\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"attributes\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"telemetry.sdk.language\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"python\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"telemetry.sdk.name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"opentelemetry\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"telemetry.sdk.version\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"1.29.0\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"k8s.container.name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"k8s.namespace.name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"service.name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"schema_url\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{id:\"resource-detector-\\uC124\\uC815\",children:[(0,n.jsx)(e.a,{href:\"#resource-detector-\\uC124\\uC815\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Resource Detector \\uC124\\uC815\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC704\\uC5D0\\uC11C namespace, container \\uC774\\uB984\\uB4E4\\uC774 Cloud Logging label\\uC5D0 \\uB0A8\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC744 \\uD655\\uC778\\uD558\\uC600\\uB2E4. \",(0,n.jsx)(e.code,{children:\"main.py\"}),\" \\uC0D8\\uD50C \\uCF54\\uB4DC\\uC5D0 \\uC544\\uB798\\uC640 \\uAC19\\uC774 GoogleCloudResourceDetector\\uB97C \\uD1B5\\uD574\\uC11C Resource\\uB97C \\uCD08\\uAE30\\uD654\\uD558\\uB3C4\\uB85D \\uBCC0\\uACBD\\uD55C\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-python\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-python\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resourcedetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"gcp_resource_detector \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    GoogleCloudResourceDetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"resource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" get_aggregated_resources\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"GoogleCloudResourceDetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"raise_on_error\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger_provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" LoggerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\uC804\\uCCB4 \\uC218\\uC815\\uB41C \\uCF54\\uB4DC\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"app/main.py\"})}),(0,n.jsx)(e.pre,{className:\"language-python\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-python\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` logging\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" fastapi \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` FastAPI\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` trace\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` TracerProvider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` OTLPSpanExporter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` BatchSpanProcessor\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` metrics\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metrics \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` MeterProvider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` PeriodicExportingMetricReader\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"metric_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    OTLPMetricExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` set_logger_provider\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" LoggerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),` LoggingHandler\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` BatchLogRecordProcessor\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"otlp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"proto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_log_exporter \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` OTLPLogExporter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_logs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"export \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` ConsoleLogExporter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sdk\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resources \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` get_aggregated_resources\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resourcedetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"gcp_resource_detector \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    GoogleCloudResourceDetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" opentelemetry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"instrumentation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"fastapi \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` FastAPIInstrumentor\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"resource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" get_aggregated_resources\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"GoogleCloudResourceDetector\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"raise_on_error\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"set_tracer_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"TracerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"tracer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_tracer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__name__\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"trace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_tracer_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add_span_processor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    BatchSpanProcessor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"OTLPSpanExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"exporter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" OTLPMetricExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" PeriodicExportingMetricReader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"exporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" MeterProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" metric_readers\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"reader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"set_meter_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"meter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" metrics\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_meter_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get_meter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"test\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger_provider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" LoggerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"set_logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add_log_record_processor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"BatchLogRecordProcessor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"OTLPLogExporter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"insecure\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"True\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"handler \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" LoggingHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"level\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"NOTSET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" logger_provider\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logger_provider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"app \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" FastAPI\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"basicConfig\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"level\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"DEBUG\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"uvicorn.access\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"uvicorn.error\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"addHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"logger \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" logging\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getLogger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__name__\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"counter \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" meter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"create_counter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"counter\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token punctuation annotation decorator\",children:[\"@app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"get\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"root\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    logger\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"info\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello World\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    counter\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"add\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"message\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello World\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"FastAPIInstrumentor\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"instrument_app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\uC774\\uC81C Cloud Logging \\uB370\\uC774\\uD130\\uC758 Label\\uC744 \\uBCF4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC6B0\\uB9AC\\uAC00 \\uC6D0\\uD558\\uB294 Kubernetes \\uAD00\\uB828 \\uC815\\uBCF4\\uB4E4\\uC774 \\uB0A8\\uACA8\\uC9C4 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"resource\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"k8s_container\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"labels\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"project_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"my-prj\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"container_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"location\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"pod_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"cluster_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial-cluster\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"namespace_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"GCP Resource Detector\\uAC00 Resource Attribute\\uB4E4\\uC744 \\uCD94\\uAC00\\uD558\\uC600\\uACE0, \\uADF8\\uAC83\\uC774 Cloud Logging Label\\uB85C \\uBCC0\\uD658\\uB41C \\uAC83\\uC774\\uB2E4. \",(0,n.jsx)(e.a,{href:\"https://github.com/GoogleCloudPlatform/opentelemetry-operations-go/blob/v0.49.0/internal/resourcemapping/resourcemapping.go\",children:\"\\uC5B4\\uB5BB\\uAC8C Label\\uB85C \\uBCC0\\uD658\\uB418\\uB294\\uC9C0 \\uC18C\\uC2A4\\uCF54\\uB4DC\"}),\"\\uC744 \\uC0B4\\uD3B4\\uBCF4\\uC790. \\uC6B0\\uB9AC\\uAC00 \\uB208\\uC5EC\\uACA8 \\uBD10\\uC57C\\uD560 \\uBD80\\uBD84\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-go\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ResourceAttributesToLoggingMonitoredResource converts from a set of OTEL resource attributes into a\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// GCP monitored resource type and label set for Cloud Logging.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// E.g.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// This may output `gce_instance` type with appropriate labels.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ResourceAttributesToLoggingMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"attrs ReadOnlyAttributes\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\"monitoredrespb\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"MonitoredResource \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tcloudPlatform\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudPlatformKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"switch\"}),\" cloudPlatform \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudPlatformGCPAppEngine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"Value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"AsString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gaeApp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"commonResourceAttributesToMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"cloudPlatform\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"commonResourceAttributesToMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"cloudPlatform \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs ReadOnlyAttributes\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\"monitoredrespb\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"MonitoredResource \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"switch\"}),\" cloudPlatform \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudPlatformGCPComputeEngine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"Value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"AsString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gceInstance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudPlatformAWSEC2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"Value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"AsString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"awsEc2Instance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// TODO(alex-basinov): replace this string literal with semconv.CloudPlatformGCPBareMetalSolution\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// once https://github.com/open-telemetry/semantic-conventions/pull/64 makes its way\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// into the semconv module.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"gcp_bare_metal_solution\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bmsInstance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// if k8s.cluster.name is set, pattern match for various k8s resources.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// this will also match non-cloud k8s platforms like minikube.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Try for most to least specific k8s_container, k8s_pod, etc\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SContainerNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"k8sContainer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SPodNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"k8sPod\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SNodeNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"k8sNode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"k8sCluster\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Fallback to generic_task\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" hasServiceName \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" hasFaaSName \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" hasServiceInstanceID \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceInstanceIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" hasFaaSInstance \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSInstanceKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"hasServiceName \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" hasServiceInstanceID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"hasFaaSInstance \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" hasFaaSName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"genericTask\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Everything else fallback to generic_node\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"genericNode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uC870\\uAC74\\uBB38\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uC774 Resource Attribute\\uC5D0 \\uC788\\uB294\\uC9C0 \\uD655\\uC778\\uD55C\\uB2E4. GCP Resource Detector\\uB97C \\uC124\\uC815\\uD558\\uC9C0 \\uC54A\\uC558\\uC744 \\uB54C\\uB294 \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uC774 Resource Attribute\\uC5D0 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC558\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-go\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"_\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GetString\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" ok \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"\\uB530\\uB77C\\uC11C \\uC774 \\uC870\\uAC74\\uBB38\\uC740 \\uC2E4\\uD589\\uB418\\uC9C0 \\uBABB\\uD558\\uACE0, \\uCD5C\\uC885\\uC801\\uC73C\\uB85C \\uC544\\uB798\\uC640 \\uAC19\\uC774 return \\uB41C\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-go\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createMonitoredResource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"genericNode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\uC6B0\\uB9AC\\uAC00 \\uC704\\uC5D0\\uC11C GCP Resource Dectector\\uAC00 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC558\\uC744 \\uB54C \\uB0A8\\uC740 label\\uB97C \\uB2E4\\uC2DC \\uC0B4\\uD3B4\\uBCF4\\uC790. \",(0,n.jsx)(e.code,{children:\"type\"}),\"\\uC744 \\uBCF4\\uBA74 generic_node\\uC778 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB294\\uB370, \\uC704\\uC5D0\\uC11C \\uD568\\uC218\\uAC00 Return \\uB420 \\uB54C genericNode\\uAC00 \\uC778\\uC790\\uB85C \\uD638\\uCD9C \\uB418\\uC5C8\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"resource\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"generic_node\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"labels\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"namespace\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"project_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"my-prj\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"location\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"global\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"node_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uADF8\\uB7FC GCP Resource Detector\\uB97C \\uC124\\uC815\\uD588\\uC744 \\uB54C\\uC758 label \\uC815\\uBCF4\\uB97C \\uB2E4\\uC2DC \\uD655\\uC778\\uD574\\uBCF4\\uC790. \",(0,n.jsx)(e.code,{children:\"k8s.container.name\"}),\"\\uB3C4 Resource Attribute\\uC5D0 \\uC788\\uC5C8\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uC544\\uB798\\uC640 \\uAC19\\uC774 \",(0,n.jsx)(e.code,{children:\"type\"}),\"\\uC774 k8s_container\\uB85C \\uC124\\uC815\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"resource\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"k8s_container\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"labels\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"project_id\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"my-prj\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"container_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"location\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"pod_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"sample\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"cluster_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial-cluster\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"namespace_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uD574\\uB2F9 \\uC778\\uC790\\uAC00 \\uC5B4\\uB5A4 \\uAC83\\uC778\\uC9C0\\uC5D0 \\uB530\\uB77C\\uC11C label\\uB85C \\uBCC0\\uD658\\uD560 Resource Attribute key\\uAC00 \\uACB0\\uC815\\uC774 \\uB41C\\uB2E4. \",(0,n.jsx)(e.code,{children:\"k8sContainer\"}),\"\\uB85C \\uC778\\uC790\\uC640 \\uD568\\uAED8 \\uD638\\uCD9C\\uB418\\uC5C8\\uAE30 \\uB54C\\uBB38\\uC5D0, Kubernetes \\uAD00\\uB828\\uD55C Resource Attribute\\uB4E4\\uC774 Label\\uB85C \\uBCC0\\uD658\\uB420 \\uC218 \\uC788\\uC5C8\\uB358 \\uAC83\\uC774\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-go\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// monitoredResourceMappings contains mappings of GCM resource label keys onto mapping config from OTel\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// resource for a given monitored resource type.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tmonitoredResourceMappings \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// If none of the otelKeys are present in the Resource, fallback to this literal value\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tfallbackLiteral \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// OTel resource keys to try and populate the resource label from. For entries with\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// multiple OTel resource keys, the keys' values will be coalesced in order until there\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// is a non-empty value.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\totelKeys \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tgceInstance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tzone\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"       \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tinstanceID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HostIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tk8sContainer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tclusterName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"   \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnamespaceName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SNamespaceNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tpodName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"       \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SPodNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tcontainerName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SContainerNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tk8sPod\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tclusterName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"   \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnamespaceName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SNamespaceNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tpodName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"       \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SPodNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tk8sNode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tclusterName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnodeName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SNodeNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tk8sCluster\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tclusterName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"K8SClusterNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tgaeInstance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tgaeModuleID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tgaeVersionID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSVersionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tinstanceID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"   \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSInstanceKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tgaeApp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tgaeModuleID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tgaeVersionID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSVersionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tawsEc2Instance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tinstanceID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HostIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tregion\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\totelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tawsAccount\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAccountIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tbmsInstance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"   \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tinstanceID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HostIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tgenericTask\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\totelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\tfallbackLiteral\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"global\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnamespace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceNamespaceKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tjob\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"       \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\ttaskID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceInstanceIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"FaaSInstanceKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\tgenericNode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tlocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\totelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudAvailabilityZoneKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"CloudRegionKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\tfallbackLiteral\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"global\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnamespace\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ServiceNamespaceKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\tnodeID\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"otelKeys\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HostIDKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"semconv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HostNameKey\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"\\uD574\\uACB0-\\uBC29\\uBC95\",children:[(0,n.jsx)(e.a,{href:\"#\\uD574\\uACB0-\\uBC29\\uBC95\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uD574\\uACB0 \\uBC29\\uBC95\"]}),(0,n.jsxs)(e.p,{children:[\"Google Cloud Exporter\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC Cloud Monitoring Service\\uC5D0 Log\\uB97C \\uB0A8\\uAE38 \\uB54C, Resource Attribute\\uB4E4\\uC774 \\uC5B4\\uB5BB\\uAC8C Cloud Log\\uC758 Label\\uB85C \\uBCC0\\uD658\\uB418\\uB294\\uC9C0 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uB85C \\uC774\\uD574\\uD588\\uB2E4. \\uC6B0\\uB9AC\\uB294 Kubernetes\\uC758 \\uAE30\\uBCF8\\uC801\\uC778 \\uC815\\uBCF4\\uB4E4\\uC744 Label\\uB85C \\uC804\\uD658\\uD558\\uAE30 \\uC704\\uD558\\uC5EC, GCP Resource Detector\\uB97C \\uC0AC\\uC6A9\\uD588\\uB2E4. \\uC608\\uC81C\\uC5D0\\uC11C\\uB294 Python \\uCF54\\uB4DC\\uC5D0 \\uC9C1\\uC811 GCP Resource Detector\\uB97C \\uCD94\\uAC00\\uD558\\uC5EC \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uB97C \\uD3EC\\uD568\\uD558\\uC5EC \\uD544\\uC694\\uD55C \\uC5EC\\uB7EC\\uAC00\\uC9C0 Resource Attribute\\uB97C \\uC124\\uC815\\uD558\\uB3C4\\uB85D \\uD558\\uC600\\uB2E4.\"]}),(0,n.jsx)(e.p,{children:\"OpenTelemetry Collector\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC18C\\uC18C\\uCF54\\uB4DC\\uB97C \\uC218\\uC815\\uD558\\uC9C0 \\uC54A\\uACE0, \\uD544\\uC694\\uD55C Resource Attribute\\uB97C \\uCD94\\uAC00\\uD560 \\uC218 \\uC788\\uB2E4. \\uC544\\uB798\\uC640 \\uAC19\\uC774 Processor\\uC5D0 resourcedetection\\uC744 \\uCD94\\uAC00\\uD558\\uC5EC OpenTelemetry Collector\\uAC00 Resource Attribute\\uB97C \\uCD94\\uAC00\\uD558\\uB3C4\\uB85D \\uC124\\uC815\\uD558\\uBA74 \\uB41C\\uB2E4. GKE\\uAC00 \\uC544\\uB2C8\\uB77C \\uB2E4\\uB978 \\uD658\\uACBD\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD55C Container Image\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4\\uBA74, \\uCF54\\uB4DC \\uBCC0\\uACBD \\uC5C6\\uC774 OpenTelemetry Collector\\uB2E8\\uC5D0\\uC11C \\uD544\\uC694\\uD55C Resource Attribute\\uB97C \\uCD94\\uAC00\\uD558\\uBA74 \\uB41C\\uB2E4.\"}),(0,n.jsx)(e.pre,{className:\"language-yaml\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"processors\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"resourcedetection\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"detectors\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"gcp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"timeout\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` 10s\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"service\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"pipelines\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"logs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"exporters\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` googlecloud\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"processors\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` k8sattributes\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` memory_limiter\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` resourcedetection\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` batch\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"receivers\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` otlp\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uC544\\uB2C8\\uBA74 \\uD658\\uACBD\\uBCC0\\uC218 \",(0,n.jsx)(e.code,{children:\"OTEL_RESOURCE_ATTRIBUTES\"}),\"\\uB97C \\uD1B5\\uD574\\uC11C \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uACFC \\uB354\\uBD88\\uC5B4 \\uD544\\uC694\\uD55C Kubernetes Resource Attribute \\uC815\\uBCF4\\uB4E4\\uC744 \\uCD94\\uAC00\\uD574\\uB3C4 \\uB3D9\\uC77C\\uD55C \\uACB0\\uACFC\\uB97C \\uC5BB\\uC744 \\uC218 \\uC788\\uB2E4. \\uBB3C\\uB860 \\uC5EC\\uB7EC Cluster\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uB294 \\uACBD\\uC6B0\\uB77C\\uBA74, \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uC744 \\uC218\\uB3D9\\uC73C\\uB85C \\uC124\\uC815\\uD558\\uB294 \\uAC83\\uBCF4\\uB2E4\\uB294 GCP Resource Detector\\uB85C \\uC124\\uC815\\uD558\\uB294 \\uAC83\\uC774 \\uB354 \\uBC14\\uB78C\\uC9C1\\uD558\\uB2E4.\"]}),(0,n.jsxs)(e.h2,{id:\"custom-resource-attribute\\uB97C-label\\uB85C-\\uCD94\\uAC00\\uD558\\uAE30\",children:[(0,n.jsx)(e.a,{href:\"#custom-resource-attribute\\uB97C-label\\uB85C-\\uCD94\\uAC00\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Custom Resource Attribute\\uB97C Label\\uB85C \\uCD94\\uAC00\\uD558\\uAE30\"]}),(0,n.jsxs)(e.p,{children:[\"Google Cloud Exporter\\uC5D0\\uC11C \\uB098\\uC758 Custom Resource Attribute\\uB97C Cloud Logging\\uC758 Label\\uC5D0 \\uCD94\\uAC00\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uC124\\uC815\\uC744 \\uC81C\\uACF5\\uD55C\\uB2E4. \\uC608\\uB97C \\uB4E4\\uC5B4\\uC11C \",(0,n.jsx)(e.code,{children:\"main.py\"}),\" \\uCF54\\uB4DC\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"my.attr\"}),\"\\uB97C Resource Attribute\\uB85C \\uC124\\uC815\\uD55C\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-go\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"resource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"get_aggregated_resources\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"GoogleCloudResourceDetector\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"raise_on_error\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"True\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" Resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"my.attr\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"tutorial\"'}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"Google Cloud Exporter\\uC758 \\uC124\\uC815\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"resource_filters\"}),\"\\uB97C \\uCD94\\uAC00\\uD558\\uC5EC my\\uB97C prefix\\uB85C \\uAC00\\uC9C0\\uB294 Resource Attribute\\uB97C Label\\uB85C \\uCD94\\uAC00\\uD560 \\uC218 \\uC788\\uB2E4. \\uC5EC\\uAE30\\uC11C \\uD5DB\\uAC08\\uB9AC\\uC9C0 \\uB9D0\\uC544\\uC57C\\uD560 \\uAC83\\uC740 Cloud Logging\\uC758 resource.labels\\uC5D0 \\uB0A8\\uB294 \\uAC83 \\uC544\\uB2C8\\uB77C, labels\\uC5D0 \\uD574\\uB2F9 \\uC815\\uBCF4\\uAC00 \\uB0A8\\uAC8C \\uB41C\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-yaml\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"googlecloud\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"resource_filters\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token atrule key\",children:\"prefix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` my\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"\\uACB0\\uB860\",children:[(0,n.jsx)(e.a,{href:\"#\\uACB0\\uB860\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uACB0\\uB860\"]}),(0,n.jsxs)(e.p,{children:[\"GKE\\uC5D0\\uC11C Google Cloud Export\\uB97C \\uD1B5\\uD574\\uC11C OpenTelemetry Log Data\\uB97C \\uC800\\uC7A5\\uD560 \\uB54C, Resource Attribute \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uAC00 \\uC62C\\uBC14\\uB974\\uAC8C \\uC124\\uC815\\uB418\\uC5B4\\uC57C \\uD558\\uB294 \\uAC83\\uC744 \\uC54C\\uAC8C \\uB418\\uC5C8\\uB2E4. Resource Attribute \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\"\\uC774 \\uC788\\uC744 \\uB54C, Kubernetes\\uAD00\\uB828 \\uC815\\uBCF4\\uB4E4\\uC774 \\uAE30\\uB300\\uD558\\uB294 \\uAC83\\uCC98\\uB7FC Label\\uB4E4\\uB85C \\uB0A8\\uAC8C \\uB41C\\uB2E4. \\uC218\\uB3D9\\uC73C\\uB85C \",(0,n.jsx)(e.code,{children:\"k8s.cluster.name\"}),\" \\uB300\\uC2E0\\uC5D0 GCP Resource Detector\\uB85C \\uC790\\uB3D9\\uC73C\\uB85C \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uB2E4.\"]})]})}}var f=b;return v;})();\n;return Component;","toc":[{"value":"예제","url":"#예제","depth":2},{"value":"컨테이너 이미지 빌드","url":"#컨테이너-이미지-빌드","depth":3},{"value":"쿠버네티스에 배포","url":"#쿠버네티스에-배포","depth":3},{"value":"Cloud Logging 확인","url":"#cloud-logging-확인","depth":3},{"value":"Resource Detector 설정","url":"#resource-detector-설정","depth":3},{"value":"해결 방법","url":"#해결-방법","depth":2},{"value":"Custom Resource Attribute를 Label로 추가하기","url":"#custom-resource-attribute를-label로-추가하기","depth":2},{"value":"결론","url":"#결론","depth":2}],"frontMatter":{"readingTime":{"text":"19 min read","minutes":18.205,"time":1092300,"words":3641},"slug":"20250125-google-cloud-exporter","fileName":"20250125-google-cloud-exporter.md","title":"Google Cloud Exporter가 Log의 Resource Attribute를 Cloud Logging Label로 어떻게 변환할까?","date":"2025-01-25T00:00:00.000Z","tags":["gcp","kubernetes","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"OpenTelemetry Collector를 사용할 때, 다양한 exporter를 통해서 Telemetry data를 저장할 수 있다. GCP를 사용하는 경우에는 Google Cloud Exporter를 사용해서 Telemetry data를 쉽게 저장할 수 있다. 그런데 Log의 경우에는 내가 설정한 Resource attribute가 기대한 것처럼 Google Cloud Logging의 Label에 등록되지 않는 경우를 경험할 수도 있다. 따라서 오늘은 Google Cloud Exporter를 사용할 때, Resource Attribute들이 Cloud Logging Label로 어떻게 변환되는지 자세히 설명한다."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"Jay","avatar":"profile.png","occupation":"Software Engineer","date":null}],"prev":{"title":"OpenTelemetry GcpDetector를 이해하기","date":"2025-01-19T00:00:00.000Z","tags":["gcp","kubernetes","opentelemetry"],"images":["/static/images/social-banner.png"],"summary":"OpenTelemetry Operator로 Auto-Instrumentation을 주입할 수 있다. 그런데 환경변수 설정을 올바르게 하지 않거나 OpenTelemetry Collector에서 proccessor 설정을 제대로 해주지 않으면, Resource attribute중 k8s.namespace.name가 빈문자열로 보내질 수 있다. 이러한 경우에 Auto-Instrumentation에서 Resource attribute가 어떻게 자동으로 설정되는지 resourceDetector들을 이해하면 쉽게 해결할 수 있다. 따라서 이번 글에서는 Resource Detector들에 대해서 자세히 살펴본다.","slug":"20250119-otel-gcp-detector"},"next":{"title":"GCP IAM으로 MySQL 접속하기","date":"2025-01-26T00:00:00.000Z","tags":["gcp","devsecops"],"images":["/static/images/social-banner.png"],"summary":"GCP의 관리형 데이터베이스 서비스인 SQL의 User를 관리할 때, 제약사항이 없다면 IAM 인증을 활용하는 것을 고려하자. Google Workspace를 사용하고 있다면, 이미 생성된 구글 이메일 계정과 Group을 통해서 데이터베이스 접속 권한을 제어할 수 있다. 데이터베이스 User를 비밀번호 인증으로 생성하여 관리하는 대신에, 구글 계정으로 인증하여 데이터베이스를 접속할 수 있도록 관리하자. 이번 글에서는 IAM 인증을 위한 설정 방법을 설명한다.","slug":"20250126-gcp-sql-iam-auth"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["20250125-google-cloud-exporter"]},"buildId":"eTW9XuFSVMe8lYZ3vb4VJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>