<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="manifest" href="/jayground8/static/favicons/manifest.json"/><link rel="manifest" href="/jayground8/static/favicons/site.webmanifest"/><link rel="shortcut icon" href="/jayground8/static/favicons/favicon.ico"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8773084925406986" crossorigin="anonymous"></script><title>Configuring Sentry&#x27;s SAML2 Provider with Keycloak</title><meta name="robots" content="follow, index"/><meta name="description" content="This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary."/><meta property="og:url" content="https://jayground8.github.io/blog/20250722-sentry-saml2"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Jayground8"/><meta property="og:description" content="This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary."/><meta property="og:title" content="Configuring Sentry&#x27;s SAML2 Provider with Keycloak"/><meta property="og:image" content="https://jayground8.github.io/static/images/thumbnail/sentry-saml2-keycloak.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Configuring Sentry&#x27;s SAML2 Provider with Keycloak"/><meta name="twitter:description" content="This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary."/><meta name="twitter:image" content="https://jayground8.github.io/static/images/thumbnail/sentry-saml2-keycloak.png"/><link rel="canonical" href="https://jayground8.github.io/blog/20250722-sentry-saml2"/><meta property="article:published_time" content="2025-07-22T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jayground8.github.io/blog/20250722-sentry-saml2"
  },
  "headline": "Configuring Sentry's SAML2 Provider with Keycloak",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://jayground8.github.io/static/images/thumbnail/sentry-saml2-keycloak.png"
    }
  ],
  "datePublished": "2025-07-22T00:00:00.000Z",
  "dateModified": "2025-07-22T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Jay"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Jay",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jayground8.github.ioplayground.png"
    }
  },
  "description": "This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary."
}</script><meta name="next-head-count" content="24"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/414f98a58444a4f1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/414f98a58444a4f1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-690364db8bfb1f01.js" defer=""></script><script src="/_next/static/chunks/main-eea1c213342d95c3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e9fc7f3433b9eec.js" defer=""></script><script src="/_next/static/chunks/675-70b09cbf0a5309ea.js" defer=""></script><script src="/_next/static/chunks/410-35c4fb535edd9439.js" defer=""></script><script src="/_next/static/chunks/712-376d32740a4ac813.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-8ab66ff6ebabec4c.js" defer=""></script><script src="/_next/static/W4OJIiHqN_WQQ9TfZMwI5/_buildManifest.js" defer=""></script><script src="/_next/static/W4OJIiHqN_WQQ9TfZMwI5/_ssgManifest.js" defer=""></script><script src="/_next/static/W4OJIiHqN_WQQ9TfZMwI5/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Jayground8" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="53.87" height="43.61" viewBox="0 0 512 512" class="fill-black dark:fill-white"><path d="M368.4 17c-8.8 1.3-18.3 5-25.3 9.9-3.8 2.5-22.6 16.1-41.9 30.1-37.1 26.9-38.6 28.3-36.3 33.9 1.7 4 4.9 5.1 14.6 5.1h8.5v128h-17.9c-18.2 0-22.2.6-27.3 4.2l-2.8 1.9V116.9l2.5-2.4c1.5-1.6 3.6-2.5 5.5-2.5s4 .9 5.5 2.5l2.5 2.4v42c0 29.1.3 42.8 1.1 44.5 2.6 5.7 11.5 5.5 13.9-.3.7-1.9 1-15.6.8-46.2-.3-40.1-.4-43.7-2.2-46.9-4.8-9-11.9-13.4-21.6-13.4-13.8 0-22.8 9.1-23.8 24.1l-.5 7.3h-31.5l-1.2-2.9c-1.6-3.9-6-5.8-9.9-4.1-1.6.6-3.5 2.5-4.1 4.1l-1.2 2.9h-63.6l-1.2-2.9c-2.5-6.2-11.5-6.2-14 0l-1.2 2.9H64.3l-.5-7.3c-1-15-10-24.1-23.8-24.1-9.7 0-16.8 4.4-21.6 13.4-1.8 3.3-1.9 7.5-2.2 75-.2 50 .1 72.3.8 74.1 2.1 5.1 8.6 6.3 12.5 2.4l2.5-2.4V116.9l2.5-2.4c3.2-3.3 7.8-3.3 11 0l2.5 2.4V448H32V284.9l-2.5-2.4c-3.8-3.9-10.2-2.7-12.4 2.2-1.6 3.4-1.6 171.2 0 174.6.6 1.4 2.2 3 3.6 3.6 1.6.7 15.6 1.1 43.7 1.1 38 0 41.5-.1 43.4-1.8 1.2-.9 33.4-50.5 71.7-110.2 38.3-59.7 70.5-109.3 71.7-110.3 1.8-1.5 4.3-1.7 19.4-1.7H288v16h-12.5c-13.1 0-16.6.8-18.3 4.4-2 4.5-138.5 216.2-140.4 217.9-1.9 1.6-5.6 1.7-47.9 1.7-31.9 0-46.6.3-48.3 1.1-5.7 2.6-5.5 11.5.3 13.9 1.9.7 16.7 1 50.1.8 46.4-.3 47.6-.3 51.5-2.5 2.2-1.1 5.1-3.3 6.5-4.7 1.3-1.5 10.1-14.7 19.6-29.4l17.1-26.7 18.4-.5c10.1-.3 19.1-.9 20-1.3.9-.5 2.1-1.9 2.8-3.3 1.5-3.4 1.5-35.4 0-38.8-1.1-2.3-4-4-8-4.8-1.3-.2 1.5-5.2 11.5-20.7l13.1-20.5.5 56.5c.3 31 .9 57.1 1.3 58 1.5 3 5.6 3.9 18.2 3.9H256v14c0 14.9.7 18.1 4.7 19.9 1.7.8 34.7 1.1 115.3 1.1s113.6-.3 115.3-1.1c1.4-.6 3-2.2 3.6-3.6 1.5-3.4 1.5-83.2 0-86.6-2.2-4.9-8.6-6.1-12.4-2.2l-2.5 2.4V480H272V272h208v107.1l2.5 2.4c3.8 3.9 10.2 2.7 12.4-2.2 1.5-3.4 1.5-115.2 0-118.6-1.8-3.9-5-4.7-18.4-4.7H464v-40.5c0-27.9-.3-41.2-1.1-42.9-2.6-5.5-11.2-5.5-13.8 0-.8 1.7-1.1 15-1.1 42.9V256h-24v-34.5c0-21.3-.4-36.4-1.1-39.7-3.6-17.3-19.3-32.9-36.7-36.7-16.2-3.4-31.4 1.1-43.3 12.9-7.4 7.3-11.2 13.9-13.4 23.2-1.8 7.9-2.1 50.3-.4 54.2 1.6 3.5 6.1 5.2 9.8 3.7 4.7-2 5.1-4.2 5.1-29.6 0-21.5.2-23.9 2.2-29.2C350.6 168.4 363 160 376 160s25.4 8.4 29.8 20.3c2.1 5.5 2.2 7.4 2.2 40.7v35H304V96h144v24.5c0 16 .4 25.3 1.1 26.9 2.6 5.5 11.2 5.5 13.8 0 .7-1.6 1.1-10.9 1.1-26.9V96h8.5c9.7 0 12.9-1.1 14.6-5.1 2.1-5.2.1-7.5-17.7-20.4C446.2 53.8 445 53 442.1 53c-4.1.1-7.5 3.5-7.5 7.7 0 4 2.2 6.3 14.8 15.3l4.8 3.5-39.1.3c-21.5.1-56.7.1-78.2 0l-39.1-.3 14.9-10.7c8.2-5.9 20.7-15.1 27.8-20.4 14.5-10.8 20.5-14 29.4-15.5 11.6-2.1 22.4 1.3 36.5 11.4 4.3 3.1 9 5.7 10.3 5.7 3.9 0 7.5-4.4 7.1-8.7-.3-3.3-1.1-4.4-7.8-9.6-15.3-11.8-32.3-17.1-47.6-14.7zM96 152v8H64v-16h32v8zm80 0v8h-64v-16h64v8zm48 0v8h-32v-16h32v8zM96 280v104h-4.5c-5.5 0-9 1.5-10.4 4.7-1.5 3.3-1.5 35.4 0 38.7 1.7 3.6 3.1 4 16.2 4.6l11.9.5-5.1 7.7L99 448H64V176h32v104zm80-27.8v76.3l-17.8 27.7-17.7 27.7-14.2.1H112V176h64v76.2zm48-37.3v38.9l-15.6 24.4c-8.6 13.3-15.8 24.5-16 24.7-.2.2-.4-28.2-.4-63.2V176h32v38.9zM256 369v76h-16V317.1l7.8-12c4.2-6.7 7.8-12.1 8-12.1.1 0 .2 34.2.2 76zm-129.1 34.7c-1.2 2.1-3.6 5.7-5.1 8l-2.9 4.3H96v-16h33.2l-2.3 3.7zM192 408v8h-15.1l3.7-5.8c2-3.1 4.4-6.7 5.2-8 .8-1.2 2.4-2.2 3.8-2.2 2.3 0 2.4.2 2.4 8z"></path><path d="M322.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM418.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM290.2 290.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.5 290.5c-5 4.9-1.5 13.5 5.5 13.5 4.1 0 8-3.9 8-8s-3.9-8-8-8c-1.9 0-4 .9-5.5 2.5zM358.1 322c-8.3 2.2-16.5 5.7-19.8 8.6-3.3 2.8-3.9 7.3-1.4 10.6 3.3 4.1 6.4 4.3 13.8.8 23.3-10.9 47.3-7 64.8 10.5 11.5 11.4 16.5 23.6 16.5 39.7 0 15.9-5.1 28.1-16.4 39.4C404.2 443 392.1 448 376 448s-28.1-5-39.5-16.5c-11-11.1-16.5-24.2-16.5-39.5.1-9.5 1.2-14.5 5.6-24.3 3.8-8.3 3.8-10.4.1-14.5-4.7-5.1-10.8-1.7-15.4 8.6-8.6 19.5-8.4 42.7.6 61.7 9.1 19.3 28.3 34.5 49.5 39 11.9 2.6 28.4 1.7 39.3-2.2 23.9-8.6 41.3-27.9 46.9-51.9 1.9-8.5 1.9-24.4-.1-33.1-5.9-25.5-26.7-46.6-52.5-53.3-10.1-2.6-25.8-2.6-35.9 0zM290.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6z"></path></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Jayground8</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2025-07-22T00:00:00.000Z">Tuesday, July 22, 2025</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Configuring Sentry&#x27;s SAML2 Provider with Keycloak</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="h-10 w-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="https://jayground8.github.io/static/images/profile.png?w=48&amp;q=75 1x, https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75 2x" src="https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="h-10 w-10 rounded-full" loading="lazy"/></noscript></span><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Jay</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p>When using Keycloak as your Identity Provider, you can configure SAML2 to authenticate Sentry. The official Sentry documentation provides detailed instructions on how to set up a custom SAML provider. You can find the URL formats for the Assertion Consumer Service (ACS), Single Logout Service (SLS), and metadata endpoints in the documentation, such as:</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">ACS: https://sentry.io/saml/acs/YOUR_ORG_SLUG/
</span><span class="code-line">SLS: https://sentry.io/saml/sls/YOUR_ORG_SLUG/
</span><span class="code-line">Metadata: https://sentry.io/saml/metadata/YOUR_ORG_SLUG/
</span></code></pre></div><p>To fill in your organization slug, you can find the value on the Sentry Settings page.</p><img src="/static/images/sentry-saml2-org-slug.png" alt="an organization slug on settings"/><h2 id="set-up-keylocak"><a href="#set-up-keylocak" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Set Up Keylocak</h2><p>Now, let’s create a client in Keycloak. Suppose your self-hosted Sentry URL is <a target="_blank" rel="noopener noreferrer" href="https://sentry.jayground8.com">https://sentry.jayground8.com</a> and your organization slug is sentry. Then, the client ID for the SAML2 client in Sentry should look like the following:</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">https://sentry.jayground8.com/saml/metadata/sentry/
</span></code></pre></div><img src="/static/images/sentry-saml2-keycloak-client.png" alt="creating a client on Keycloak"/><p>why? when Sentry redirect to Keycloak, it provide SAMLRequest Information with query params. <code>&lt;saml:Issuer&gt;</code> should match with Sentry Metadata(Entity ID). The client ID of SAML2 in Keycloak is used in <code>&lt;saml:Issuer&gt;</code>. You will receive an “invalid request” error from Keycloak if this value is not set correctly.</p><div class="relative"><pre><code class="code-highlight language-xml"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">samlp:</span>AuthnRequest</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">saml:</span>Issuer</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>saml</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>urn:oasis:names:tc:SAML:2.0:assertion<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    https://sentry.jayground8.com/saml/metadata/sentry/
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">saml:</span>Issuer</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  ...
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">samlp:</span>AuthnRequest</span><span class="token punctuation">&gt;</span></span>
</span></code></pre></div><p>Some blogs suggest manually setting the ACS and SLS URLs in the Keycloak client’s advanced settings. However, this is not necessary, as the metadata (Entity ID) already provides those URLs.</p><img src="/static/images/sentry-saml2-advanced-settings.png" alt="Keycloak client&#x27;s advanced settings"/><p>Next, add the Valid Redirect URIs, and complete the client creation by clicking the Save button.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">https://sentry.jayground8.com/*
</span></code></pre></div><p>Now, you need to configure a few more settings. First, create a Client Scope to pass the user’s email information to Sentry.</p><img src="/static/images/sentry-saml2-keycloak-client-scope.png" alt="add new client scope"/><p>After creating the client scope, add predefined mappers to map the Keycloak user’s email to a SAML attribute.</p><img src="/static/images/sentry-saml2-mapper.png" alt="add new mapper"/><p>The SAML attribute name is important because you’ll later need to tell Sentry which SAML attributes to use for their user ID and email.</p><img src="/static/images/sentry-saml2-mapper-detail.png" alt="set a attribute name"/><p>Since email will serve as the primary identifier, you also need to change the Name ID Format to email.</p><img src="/static/images/sentry-saml2-name-id.png" alt="an organization slug on settings"/><p>Finally, one last change: In SAML2, you can add an extra layer of security by requiring a client certificate when the Service Provider (Sentry) makes requests to the Identity Provider (Keycloak). However, since Sentry does not support this, make sure to disable that option.</p><img src="/static/images/sentry-saml2-client-sig.png" alt="disable requiring a client signature"/><h2 id="set-up-sentry"><a href="#set-up-sentry" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Set Up Sentry</h2><p>Now you’re ready to register a custom SAML2 provider in Sentry. You can simply provide Sentry with the metadata URL, like the example below. Just remember to replace the master realm with your own:</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">https://keycloak.jayground8.com/realms/master/protocol/saml/descriptor
</span></code></pre></div><img src="/static/images/sentry-saml2-register-idp.png" alt="register a custom SAML2 provider"/><p>Do you remember the attribute name you configured in Keycloak? You need to enter the same attribute names in Sentry so it can correctly map them to user ID and email.</p><img src="/static/images/sentry-saml2-set-attributes.png" alt="an organization slug on settings"/><p>If everything is configured correctly, Sentry will redirect you to Keycloak for authentication. Once authenticated, you should see that the SAML2 setup was successful in Sentry.</p><h2 id="limitation-of-sentrys-saml2-authz"><a href="#limitation-of-sentrys-saml2-authz" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Limitation Of Sentry&#x27;s SAML2 Authz</h2><p>Unfortunately, Sentry does not support mapping user roles through SAML attributes. It only allows you to set a default role for users when they are first registered via SAML2.</p><p>When I configured Vault, ArgoCD, Grafana, Gitea, and the Kubernetes API server with Keycloak, all of them supported assigning roles or permissions based on the Keycloak user’s group—by mapping the SAML groups attribute to their internal authorization system. I was hoping Sentry would offer a similar capability, instead of requiring user roles or team memberships to be set manually.</p><h2 id="conclusion"><a href="#conclusion" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusion</h2><p>I chose Keycloak to manage user authentication across all internal tools. Initially, I tried using Google Workspace groups with OIDC, but I ran into some limitations. Google’s OIDC implementation doesn’t include Google Workspace group claims by default. For example, to configure ArgoCD RBAC using Google groups, you need additional setup to allow ArgoCD’s Dex to retrieve group information after OIDC authentication.</p><p>Additionally, when configuring OIDC with the Kubernetes API server, you can’t bind roles directly to Google groups—unless you’re using GCP, which supports it natively. In contrast, Keycloak gives you full control over which claims are included in the token, making it much easier to implement group-based access control.</p><p>Keycloak also proved to be more flexible for managing users outside of Google Workspace, making it a better fit for our internal access control requirements.</p><p>This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/sentry">sentry</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/keycloak">keycloak</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/saml2">saml2</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250719-writing-helm-values-with-gemini">Writing Helm Values With Gemini</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250724-nodejs-trace-database-data">Unexpected Trace Data Behavior in Google Cloud Trace with OpenTelemetry</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:jayground8@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/jayground8"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Jay</div><div> • </div><div>© 2025</div><div> • </div><a href="/">Jayground8</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var c=Object.create;var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var r=t=\u003ei(t,\"__esModule\",{value:!0});var p=(t,n)=\u003e()=\u003e(n||t((n={exports:{}}).exports,n),n.exports),g=(t,n)=\u003e{r(t);for(var s in n)i(t,s,{get:n[s],enumerable:!0})},y=(t,n,s)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let a of h(n))!u.call(t,a)\u0026\u0026a!==\"default\"\u0026\u0026i(t,a,{get:()=\u003en[a],enumerable:!(s=d(n,a))||s.enumerable});return t},k=t=\u003ey(r(i(t!=null?c(m(t)):{},\"default\",t\u0026\u0026t.__esModule\u0026\u0026\"default\"in t?{get:()=\u003et.default,enumerable:!0}:{value:t,enumerable:!0})),t);var l=p((v,o)=\u003e{o.exports=_jsx_runtime});var b={};g(b,{default:()=\u003eN,frontmatter:()=\u003ef});var e=k(l()),f={title:\"Configuring Sentry's SAML2 Provider with Keycloak\",date:\"2025-07-22\",tags:[\"sentry\",\"keycloak\",\"saml2\"],images:[\"/static/images/thumbnail/sentry-saml2-keycloak.png\"],summary:\"This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes\\u2014and clarify which steps are truly necessary.\"};function S(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,Object.assign({},t,{children:(0,e.jsx)(s,{})})):s();function s(){let a=Object.assign({p:\"p\",pre:\"pre\",code:\"code\",span:\"span\",h2:\"h2\",a:\"a\"},t.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a.p,{children:\"When using Keycloak as your Identity Provider, you can configure SAML2 to authenticate Sentry. The official Sentry documentation provides detailed instructions on how to set up a custom SAML provider. You can find the URL formats for the Assertion Consumer Service (ACS), Single Logout Service (SLS), and metadata endpoints in the documentation, such as:\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`ACS: https://sentry.io/saml/acs/YOUR_ORG_SLUG/\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`SLS: https://sentry.io/saml/sls/YOUR_ORG_SLUG/\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`Metadata: https://sentry.io/saml/metadata/YOUR_ORG_SLUG/\n`})]})}),(0,e.jsx)(a.p,{children:\"To fill in your organization slug, you can find the value on the Sentry Settings page.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-org-slug.png\",alt:\"an organization slug on settings\"}),(0,e.jsxs)(a.h2,{id:\"set-up-keylocak\",children:[(0,e.jsx)(a.a,{href:\"#set-up-keylocak\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Set Up Keylocak\"]}),(0,e.jsxs)(a.p,{children:[\"Now, let\\u2019s create a client in Keycloak. Suppose your self-hosted Sentry URL is \",(0,e.jsx)(a.a,{href:\"https://sentry.jayground8.com\",children:\"https://sentry.jayground8.com\"}),\" and your organization slug is sentry. Then, the client ID for the SAML2 client in Sentry should look like the following:\"]}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(a.span,{className:\"code-line\",children:`https://sentry.jayground8.com/saml/metadata/sentry/\n`})})}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-keycloak-client.png\",alt:\"creating a client on Keycloak\"}),(0,e.jsxs)(a.p,{children:[\"why? when Sentry redirect to Keycloak, it provide SAMLRequest Information with query params. \",(0,e.jsx)(a.code,{children:\"\u003csaml:Issuer\u003e\"}),\" should match with Sentry Metadata(Entity ID). The client ID of SAML2 in Keycloak is used in \",(0,e.jsx)(a.code,{children:\"\u003csaml:Issuer\u003e\"}),\". You will receive an \\u201Cinvalid request\\u201D error from Keycloak if this value is not set correctly.\"]}),(0,e.jsx)(a.pre,{className:\"language-xml\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,e.jsx)(a.span,{className:\"token namespace\",children:\"samlp:\"}),\"AuthnRequest\"]}),\" \",(0,e.jsx)(a.span,{className:\"token attr-name\",children:\"...\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,e.jsx)(a.span,{className:\"token namespace\",children:\"saml:\"}),\"Issuer\"]}),\" \",(0,e.jsxs)(a.span,{className:\"token attr-name\",children:[(0,e.jsx)(a.span,{className:\"token namespace\",children:\"xmlns:\"}),\"saml\"]}),(0,e.jsxs)(a.span,{className:\"token attr-value\",children:[(0,e.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"urn:oasis:names:tc:SAML:2.0:assertion\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`    https://sentry.jayground8.com/saml/metadata/sentry/\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,e.jsx)(a.span,{className:\"token namespace\",children:\"saml:\"}),\"Issuer\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`  ...\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,e.jsx)(a.span,{className:\"token namespace\",children:\"samlp:\"}),\"AuthnRequest\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]})]})}),(0,e.jsx)(a.p,{children:\"Some blogs suggest manually setting the ACS and SLS URLs in the Keycloak client\\u2019s advanced settings. However, this is not necessary, as the metadata (Entity ID) already provides those URLs.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-advanced-settings.png\",alt:\"Keycloak client's advanced settings\"}),(0,e.jsx)(a.p,{children:\"Next, add the Valid Redirect URIs, and complete the client creation by clicking the Save button.\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(a.span,{className:\"code-line\",children:`https://sentry.jayground8.com/*\n`})})}),(0,e.jsx)(a.p,{children:\"Now, you need to configure a few more settings. First, create a Client Scope to pass the user\\u2019s email information to Sentry.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-keycloak-client-scope.png\",alt:\"add new client scope\"}),(0,e.jsx)(a.p,{children:\"After creating the client scope, add predefined mappers to map the Keycloak user\\u2019s email to a SAML attribute.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-mapper.png\",alt:\"add new mapper\"}),(0,e.jsx)(a.p,{children:\"The SAML attribute name is important because you\\u2019ll later need to tell Sentry which SAML attributes to use for their user ID and email.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-mapper-detail.png\",alt:\"set a attribute name\"}),(0,e.jsx)(a.p,{children:\"Since email will serve as the primary identifier, you also need to change the Name ID Format to email.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-name-id.png\",alt:\"an organization slug on settings\"}),(0,e.jsx)(a.p,{children:\"Finally, one last change: In SAML2, you can add an extra layer of security by requiring a client certificate when the Service Provider (Sentry) makes requests to the Identity Provider (Keycloak). However, since Sentry does not support this, make sure to disable that option.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-client-sig.png\",alt:\"disable requiring a client signature\"}),(0,e.jsxs)(a.h2,{id:\"set-up-sentry\",children:[(0,e.jsx)(a.a,{href:\"#set-up-sentry\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Set Up Sentry\"]}),(0,e.jsx)(a.p,{children:\"Now you\\u2019re ready to register a custom SAML2 provider in Sentry. You can simply provide Sentry with the metadata URL, like the example below. Just remember to replace the master realm with your own:\"}),(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(a.span,{className:\"code-line\",children:`https://keycloak.jayground8.com/realms/master/protocol/saml/descriptor\n`})})}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-register-idp.png\",alt:\"register a custom SAML2 provider\"}),(0,e.jsx)(a.p,{children:\"Do you remember the attribute name you configured in Keycloak? You need to enter the same attribute names in Sentry so it can correctly map them to user ID and email.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/sentry-saml2-set-attributes.png\",alt:\"an organization slug on settings\"}),(0,e.jsx)(a.p,{children:\"If everything is configured correctly, Sentry will redirect you to Keycloak for authentication. Once authenticated, you should see that the SAML2 setup was successful in Sentry.\"}),(0,e.jsxs)(a.h2,{id:\"limitation-of-sentrys-saml2-authz\",children:[(0,e.jsx)(a.a,{href:\"#limitation-of-sentrys-saml2-authz\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Limitation Of Sentry's SAML2 Authz\"]}),(0,e.jsx)(a.p,{children:\"Unfortunately, Sentry does not support mapping user roles through SAML attributes. It only allows you to set a default role for users when they are first registered via SAML2.\"}),(0,e.jsx)(a.p,{children:\"When I configured Vault, ArgoCD, Grafana, Gitea, and the Kubernetes API server with Keycloak, all of them supported assigning roles or permissions based on the Keycloak user\\u2019s group\\u2014by mapping the SAML groups attribute to their internal authorization system. I was hoping Sentry would offer a similar capability, instead of requiring user roles or team memberships to be set manually.\"}),(0,e.jsxs)(a.h2,{id:\"conclusion\",children:[(0,e.jsx)(a.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),(0,e.jsx)(a.p,{children:\"I chose Keycloak to manage user authentication across all internal tools. Initially, I tried using Google Workspace groups with OIDC, but I ran into some limitations. Google\\u2019s OIDC implementation doesn\\u2019t include Google Workspace group claims by default. For example, to configure ArgoCD RBAC using Google groups, you need additional setup to allow ArgoCD\\u2019s Dex to retrieve group information after OIDC authentication.\"}),(0,e.jsx)(a.p,{children:\"Additionally, when configuring OIDC with the Kubernetes API server, you can\\u2019t bind roles directly to Google groups\\u2014unless you\\u2019re using GCP, which supports it natively. In contrast, Keycloak gives you full control over which claims are included in the token, making it much easier to implement group-based access control.\"}),(0,e.jsx)(a.p,{children:\"Keycloak also proved to be more flexible for managing users outside of Google Workspace, making it a better fit for our internal access control requirements.\"}),(0,e.jsx)(a.p,{children:\"This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes\\u2014and clarify which steps are truly necessary.\"})]})}}var N=S;return b;})();\n;return Component;","toc":[{"value":"Set Up Keylocak","url":"#set-up-keylocak","depth":2},{"value":"Set Up Sentry","url":"#set-up-sentry","depth":2},{"value":"Limitation Of Sentry's SAML2 Authz","url":"#limitation-of-sentrys-saml2-authz","depth":2},{"value":"Conclusion","url":"#conclusion","depth":2}],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.185,"time":251100,"words":837},"slug":"20250722-sentry-saml2","fileName":"20250722-sentry-saml2.md","title":"Configuring Sentry's SAML2 Provider with Keycloak","date":"2025-07-22T00:00:00.000Z","tags":["sentry","keycloak","saml2"],"images":["/static/images/thumbnail/sentry-saml2-keycloak.png"],"summary":"This time, I integrated Sentry with Keycloak. There are several helpful blog posts available that make the process easy to follow. However, out of curiosity, I wanted to understand exactly what was happening behind the scenes—and clarify which steps are truly necessary."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"Jay","avatar":"profile.png","occupation":"Software Engineer","date":null}],"prev":{"title":"Writing Helm Values With Gemini","date":"2025-07-19T00:00:00.000Z","tags":["kubernetes","heml","Gemini"],"images":["/static/images/thumbnail/writing-helm-values-with-gemini.png"],"summary":"I often write values.yaml files to install open-source projects on Kubernetes clusters. This time, I needed to add tolerations to ensure all components of Sentry would run on specific nodes. Since Sentry has quite a few components, I decided to leverage Gemini to generate the values.yaml file more quickly.","slug":"20250719-writing-helm-values-with-gemini"},"next":{"title":"Unexpected Trace Data Behavior in Google Cloud Trace with OpenTelemetry","date":"2025-07-24T00:00:00.000Z","tags":["opentelemetry","nodejs"],"images":["/static/images/thumbnail/trace-data.png"],"summary":"My system exports telemetry data from a Node.js application using OpenTelemetry. I configured the OpenTelemetry Collector to send that data to a GCP-managed service via the Google Cloud Exporter. Later, while reviewing database query information from the application, I noticed something odd in the trace data. As I dug deeper, I discovered some limitations of GCP Cloud Trace and how the mysql2 instrumentation package sets attribute values. That investigation helped explain the strange behavior I was seeing in the trace data.","slug":"20250724-nodejs-trace-database-data"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["20250722-sentry-saml2"]},"buildId":"W4OJIiHqN_WQQ9TfZMwI5","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>