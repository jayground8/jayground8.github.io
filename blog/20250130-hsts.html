<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="manifest" href="/jayground8/static/favicons/manifest.json"/><link rel="manifest" href="/jayground8/static/favicons/site.webmanifest"/><link rel="shortcut icon" href="/jayground8/static/favicons/favicon.ico"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8773084925406986" crossorigin="anonymous"></script><title>Strict Transport Security Header</title><meta name="robots" content="follow, index"/><meta name="description" content="HTTP 요청은 서버에서 Location Header를 통해서 HTTPS를 Redirection을 하고 있다. 그런데 방화벽에 의해서 80번 포트는 막혀있어서 http 요청은 timeout이 발생하고 있다. 그런 상황에서 브라우저에서 http로 요청을 하면 정상적으로 https redirection이 되어서 해당 도메인으로 정상적으로 접속이 가능하다. 방화벽에 막혀서 80번 포트에 대해서 정상적으로 응답을 못 받는데, 어떻게 브라우저에서는 http로 접근이 가능한 것이지? 이에 대한 질문에 대해서 HSTS의 존재와 역할을 이해하면 답을 할 수 있다. 이번 글에서는 간단하게 HSTS를 살펴본다."/><meta property="og:url" content="https://jayground8.github.io/blog/20250130-hsts"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Jayground8"/><meta property="og:description" content="HTTP 요청은 서버에서 Location Header를 통해서 HTTPS를 Redirection을 하고 있다. 그런데 방화벽에 의해서 80번 포트는 막혀있어서 http 요청은 timeout이 발생하고 있다. 그런 상황에서 브라우저에서 http로 요청을 하면 정상적으로 https redirection이 되어서 해당 도메인으로 정상적으로 접속이 가능하다. 방화벽에 막혀서 80번 포트에 대해서 정상적으로 응답을 못 받는데, 어떻게 브라우저에서는 http로 접근이 가능한 것이지? 이에 대한 질문에 대해서 HSTS의 존재와 역할을 이해하면 답을 할 수 있다. 이번 글에서는 간단하게 HSTS를 살펴본다."/><meta property="og:title" content="Strict Transport Security Header"/><meta property="og:image" content="https://jayground8.github.io/static/images/social-banner.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Strict Transport Security Header"/><meta name="twitter:description" content="HTTP 요청은 서버에서 Location Header를 통해서 HTTPS를 Redirection을 하고 있다. 그런데 방화벽에 의해서 80번 포트는 막혀있어서 http 요청은 timeout이 발생하고 있다. 그런 상황에서 브라우저에서 http로 요청을 하면 정상적으로 https redirection이 되어서 해당 도메인으로 정상적으로 접속이 가능하다. 방화벽에 막혀서 80번 포트에 대해서 정상적으로 응답을 못 받는데, 어떻게 브라우저에서는 http로 접근이 가능한 것이지? 이에 대한 질문에 대해서 HSTS의 존재와 역할을 이해하면 답을 할 수 있다. 이번 글에서는 간단하게 HSTS를 살펴본다."/><meta name="twitter:image" content="https://jayground8.github.io/static/images/social-banner.png"/><link rel="canonical" href="https://jayground8.github.io/blog/20250130-hsts"/><meta property="article:published_time" content="2025-01-30T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jayground8.github.io/blog/20250130-hsts"
  },
  "headline": "Strict Transport Security Header",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://jayground8.github.io/static/images/social-banner.png"
    }
  ],
  "datePublished": "2025-01-30T00:00:00.000Z",
  "dateModified": "2025-01-30T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Jay"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Jay",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jayground8.github.ioplayground.png"
    }
  },
  "description": "HTTP 요청은 서버에서 Location Header를 통해서 HTTPS를 Redirection을 하고 있다. 그런데 방화벽에 의해서 80번 포트는 막혀있어서 http 요청은 timeout이 발생하고 있다. 그런 상황에서 브라우저에서 http로 요청을 하면 정상적으로 https redirection이 되어서 해당 도메인으로 정상적으로 접속이 가능하다. 방화벽에 막혀서 80번 포트에 대해서 정상적으로 응답을 못 받는데, 어떻게 브라우저에서는 http로 접근이 가능한 것이지? 이에 대한 질문에 대해서 HSTS의 존재와 역할을 이해하면 답을 할 수 있다. 이번 글에서는 간단하게 HSTS를 살펴본다."
}</script><meta name="next-head-count" content="24"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/414f98a58444a4f1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/414f98a58444a4f1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-690364db8bfb1f01.js" defer=""></script><script src="/_next/static/chunks/main-eea1c213342d95c3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-144e4849f13c0054.js" defer=""></script><script src="/_next/static/chunks/675-70b09cbf0a5309ea.js" defer=""></script><script src="/_next/static/chunks/410-35c4fb535edd9439.js" defer=""></script><script src="/_next/static/chunks/712-376d32740a4ac813.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-8ab66ff6ebabec4c.js" defer=""></script><script src="/_next/static/oxVbhW_Td-KP5uFz7GpY-/_buildManifest.js" defer=""></script><script src="/_next/static/oxVbhW_Td-KP5uFz7GpY-/_ssgManifest.js" defer=""></script><script src="/_next/static/oxVbhW_Td-KP5uFz7GpY-/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Jayground8" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="53.87" height="43.61" viewBox="0 0 512 512" class="fill-black dark:fill-white"><path d="M368.4 17c-8.8 1.3-18.3 5-25.3 9.9-3.8 2.5-22.6 16.1-41.9 30.1-37.1 26.9-38.6 28.3-36.3 33.9 1.7 4 4.9 5.1 14.6 5.1h8.5v128h-17.9c-18.2 0-22.2.6-27.3 4.2l-2.8 1.9V116.9l2.5-2.4c1.5-1.6 3.6-2.5 5.5-2.5s4 .9 5.5 2.5l2.5 2.4v42c0 29.1.3 42.8 1.1 44.5 2.6 5.7 11.5 5.5 13.9-.3.7-1.9 1-15.6.8-46.2-.3-40.1-.4-43.7-2.2-46.9-4.8-9-11.9-13.4-21.6-13.4-13.8 0-22.8 9.1-23.8 24.1l-.5 7.3h-31.5l-1.2-2.9c-1.6-3.9-6-5.8-9.9-4.1-1.6.6-3.5 2.5-4.1 4.1l-1.2 2.9h-63.6l-1.2-2.9c-2.5-6.2-11.5-6.2-14 0l-1.2 2.9H64.3l-.5-7.3c-1-15-10-24.1-23.8-24.1-9.7 0-16.8 4.4-21.6 13.4-1.8 3.3-1.9 7.5-2.2 75-.2 50 .1 72.3.8 74.1 2.1 5.1 8.6 6.3 12.5 2.4l2.5-2.4V116.9l2.5-2.4c3.2-3.3 7.8-3.3 11 0l2.5 2.4V448H32V284.9l-2.5-2.4c-3.8-3.9-10.2-2.7-12.4 2.2-1.6 3.4-1.6 171.2 0 174.6.6 1.4 2.2 3 3.6 3.6 1.6.7 15.6 1.1 43.7 1.1 38 0 41.5-.1 43.4-1.8 1.2-.9 33.4-50.5 71.7-110.2 38.3-59.7 70.5-109.3 71.7-110.3 1.8-1.5 4.3-1.7 19.4-1.7H288v16h-12.5c-13.1 0-16.6.8-18.3 4.4-2 4.5-138.5 216.2-140.4 217.9-1.9 1.6-5.6 1.7-47.9 1.7-31.9 0-46.6.3-48.3 1.1-5.7 2.6-5.5 11.5.3 13.9 1.9.7 16.7 1 50.1.8 46.4-.3 47.6-.3 51.5-2.5 2.2-1.1 5.1-3.3 6.5-4.7 1.3-1.5 10.1-14.7 19.6-29.4l17.1-26.7 18.4-.5c10.1-.3 19.1-.9 20-1.3.9-.5 2.1-1.9 2.8-3.3 1.5-3.4 1.5-35.4 0-38.8-1.1-2.3-4-4-8-4.8-1.3-.2 1.5-5.2 11.5-20.7l13.1-20.5.5 56.5c.3 31 .9 57.1 1.3 58 1.5 3 5.6 3.9 18.2 3.9H256v14c0 14.9.7 18.1 4.7 19.9 1.7.8 34.7 1.1 115.3 1.1s113.6-.3 115.3-1.1c1.4-.6 3-2.2 3.6-3.6 1.5-3.4 1.5-83.2 0-86.6-2.2-4.9-8.6-6.1-12.4-2.2l-2.5 2.4V480H272V272h208v107.1l2.5 2.4c3.8 3.9 10.2 2.7 12.4-2.2 1.5-3.4 1.5-115.2 0-118.6-1.8-3.9-5-4.7-18.4-4.7H464v-40.5c0-27.9-.3-41.2-1.1-42.9-2.6-5.5-11.2-5.5-13.8 0-.8 1.7-1.1 15-1.1 42.9V256h-24v-34.5c0-21.3-.4-36.4-1.1-39.7-3.6-17.3-19.3-32.9-36.7-36.7-16.2-3.4-31.4 1.1-43.3 12.9-7.4 7.3-11.2 13.9-13.4 23.2-1.8 7.9-2.1 50.3-.4 54.2 1.6 3.5 6.1 5.2 9.8 3.7 4.7-2 5.1-4.2 5.1-29.6 0-21.5.2-23.9 2.2-29.2C350.6 168.4 363 160 376 160s25.4 8.4 29.8 20.3c2.1 5.5 2.2 7.4 2.2 40.7v35H304V96h144v24.5c0 16 .4 25.3 1.1 26.9 2.6 5.5 11.2 5.5 13.8 0 .7-1.6 1.1-10.9 1.1-26.9V96h8.5c9.7 0 12.9-1.1 14.6-5.1 2.1-5.2.1-7.5-17.7-20.4C446.2 53.8 445 53 442.1 53c-4.1.1-7.5 3.5-7.5 7.7 0 4 2.2 6.3 14.8 15.3l4.8 3.5-39.1.3c-21.5.1-56.7.1-78.2 0l-39.1-.3 14.9-10.7c8.2-5.9 20.7-15.1 27.8-20.4 14.5-10.8 20.5-14 29.4-15.5 11.6-2.1 22.4 1.3 36.5 11.4 4.3 3.1 9 5.7 10.3 5.7 3.9 0 7.5-4.4 7.1-8.7-.3-3.3-1.1-4.4-7.8-9.6-15.3-11.8-32.3-17.1-47.6-14.7zM96 152v8H64v-16h32v8zm80 0v8h-64v-16h64v8zm48 0v8h-32v-16h32v8zM96 280v104h-4.5c-5.5 0-9 1.5-10.4 4.7-1.5 3.3-1.5 35.4 0 38.7 1.7 3.6 3.1 4 16.2 4.6l11.9.5-5.1 7.7L99 448H64V176h32v104zm80-27.8v76.3l-17.8 27.7-17.7 27.7-14.2.1H112V176h64v76.2zm48-37.3v38.9l-15.6 24.4c-8.6 13.3-15.8 24.5-16 24.7-.2.2-.4-28.2-.4-63.2V176h32v38.9zM256 369v76h-16V317.1l7.8-12c4.2-6.7 7.8-12.1 8-12.1.1 0 .2 34.2.2 76zm-129.1 34.7c-1.2 2.1-3.6 5.7-5.1 8l-2.9 4.3H96v-16h33.2l-2.3 3.7zM192 408v8h-15.1l3.7-5.8c2-3.1 4.4-6.7 5.2-8 .8-1.2 2.4-2.2 3.8-2.2 2.3 0 2.4.2 2.4 8z"></path><path d="M322.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM418.5 114.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c1.5 1.6 3.6 2.5 5.5 2.5s4-.9 5.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-1.5-1.6-3.6-2.5-5.5-2.5s-4 .9-5.5 2.5zM290.2 290.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.5 290.5c-5 4.9-1.5 13.5 5.5 13.5 4.1 0 8-3.9 8-8s-3.9-8-8-8c-1.9 0-4 .9-5.5 2.5zM358.1 322c-8.3 2.2-16.5 5.7-19.8 8.6-3.3 2.8-3.9 7.3-1.4 10.6 3.3 4.1 6.4 4.3 13.8.8 23.3-10.9 47.3-7 64.8 10.5 11.5 11.4 16.5 23.6 16.5 39.7 0 15.9-5.1 28.1-16.4 39.4C404.2 443 392.1 448 376 448s-28.1-5-39.5-16.5c-11-11.1-16.5-24.2-16.5-39.5.1-9.5 1.2-14.5 5.6-24.3 3.8-8.3 3.8-10.4.1-14.5-4.7-5.1-10.8-1.7-15.4 8.6-8.6 19.5-8.4 42.7.6 61.7 9.1 19.3 28.3 34.5 49.5 39 11.9 2.6 28.4 1.7 39.3-2.2 23.9-8.6 41.3-27.9 46.9-51.9 1.9-8.5 1.9-24.4-.1-33.1-5.9-25.5-26.7-46.6-52.5-53.3-10.1-2.6-25.8-2.6-35.9 0zM290.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6zM450.2 450.3c-5 5.3-1.3 13.7 5.9 13.7 4.7 0 7.9-3.4 7.9-8.1 0-7.1-9-10.7-13.8-5.6z"></path></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Jayground8</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">블로그</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">블로그</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2025-01-30T00:00:00.000Z">2025년 1월 30일 목요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Strict Transport Security Header</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="h-10 w-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="https://jayground8.github.io/static/images/profile.png?w=48&amp;q=75 1x, https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75 2x" src="https://jayground8.github.io/static/images/profile.png?w=96&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="h-10 w-10 rounded-full" loading="lazy"/></noscript></span><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Jay</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p>이번 글에서는 <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Strict-Transport-Security Header</a>에 대해서 알아본다. 해당 해더를 줄여서 <code>HSTS</code>라고 부르기도 하기 때문에, 지금부터는 HSTS라고 하겠다. 응답값에 HSTS가 있으면, 다음번에 브라우저가 HTTP로 해당 도메인에 요청을 하면 자동으로 HTTPS로 바꿔서 요청하게 된다. HSTS의 존재와 역할을 이해하면, 아래와 같은 상황이 왜 발생하는지 이해할 수 있다.</p><blockquote><p>서버에서는 HTTPS(443)과 HTTP(80)에 대해서 응답을 한다. 서버에서는 HTTP로 요청이 오면 Location Header를 통해서 HTTPS로 단순하게 Redirect해준다. 그런데 방화벽에서 443번 포트만 허용하게 되어 있고, 80번 포트로 요청할 경우에는 요청이 차단이 된다. 따라서 <code>curl http://example.com</code>으로 요청을 하면 timeout이 난다. 하지만 브라우저에서 <code>http://example.com</code>으로 입력하면 HTTPS로 리다이렉트가 된다.</p></blockquote><h2 id="예제"><a href="#예제" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>예제</h2><p><code>daum.net</code> 도메인에 대해서 살펴보자. 아래와 같이 http 프로토콜로 요청을 하면, Location header와 함께 응답이 온다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token function">curl</span> -i http://daum.net
</span><span class="code-line">
</span><span class="code-line">HTTP/1.1 <span class="token number">301</span> Moved Permanently
</span><span class="code-line">Date: Thu, <span class="token number">30</span> Jan <span class="token number">2025</span> 04:05:27 GMT
</span><span class="code-line">Content-Type: text/html
</span><span class="code-line">Content-Length: <span class="token number">162</span>
</span><span class="code-line">Connection: keep-alive
</span><span class="code-line">Location: https://daum.net
</span><span class="code-line">
</span><span class="code-line"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>title<span class="token operator">&gt;</span><span class="token number">301</span> Moved Permanently<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>center<span class="token operator">&gt;</span><span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token number">301</span> Moved Permanently<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token operator">&lt;</span>/center<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>hr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>center<span class="token operator">&gt;</span>nginx<span class="token operator">&lt;</span>/center<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</span></code></pre></div><p>그리고 curl로 HTTP 프로토콜로 요청을 하면, 응답값에 HSTS가 포함된 것을 확인할 수 있다. 최종적으로는 <a target="_blank" rel="noopener noreferrer" href="http://www.daum.net%EC%9C%BC%EB%A1%9C">www.daum.net으로</a> Redirect가 된다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token function">curl</span> -i https://daum.net
</span><span class="code-line">HTTP/2 <span class="token number">307</span>
</span><span class="code-line">date: Thu, <span class="token number">30</span> Jan <span class="token number">2025</span> 04:05:55 GMT
</span><span class="code-line">content-length: <span class="token number">0</span>
</span><span class="code-line">location: https://www.daum.net/
</span><span class="code-line">vary: Origin
</span><span class="code-line">vary: Access-Control-Request-Method
</span><span class="code-line">vary: Access-Control-Request-Headers
</span><span class="code-line">strict-transport-security: max-age<span class="token operator">=</span><span class="token number">15724800</span>
</span></code></pre></div><p>이제 브라우저에서 <a target="_blank" rel="noopener noreferrer" href="https://daum.net%EC%9C%BC%EB%A1%9C">https://daum.net으로</a> 접속한다. 그러면 응답값에 HSTS가 있엇기 때문에 daum.net 도메인에 대해서 HSTS가 설정되었다. Chrome에서는 chrome://net-internals/#hsts에서 아래와 같이 확인할 수 있다.</p><img src="/static/images/hsts-chrome-settings.png" alt="chrome settings"/><p>이렇게 HSTS가 설정된 상태에서 다시 <a target="_blank" rel="noopener noreferrer" href="http://daum.net%EC%9C%BC%EB%A1%9C">http://daum.net으로</a> 접속하면, 서버에 요청하여 Redirect header로 https로 redirection이 되는 것이 아니라 서버에 요청없이 브라우저에서 자동으로 https로 redirection하게 된다. Chrome에서 아래와 같이 개발자 도구로 확인하면, HSTS에 의해서 된 것을 확인할 수 있다.</p><img src="/static/images/hsts-browser.png" alt="https redirection by hsts"/><h2 id="결론"><a href="#결론" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>결론</h2><p>HSTS를 통해서 브라우저에게 HTTPS로 요청할 수 있도록 설정할 수 있다. 한번 HTTPS로 접속한 도메인의 경우에는 설정된 HSTS가 만료되기 전까지 브라우저는 HTTPS로 요청한다. 이렇게 HSTS가 설정되면 브라우저에서 서버 요청없이 HTTP 요청을 HTTPS로 redirection하게 된다. 따라서 방화벽에 의해서 80번 포트가 막혔거나 서버에서 80번 포트를 listening하지 않더라도 브라우저단에서 서버 요청 없이 HTTPS로 redirection이 될 수 있다.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/devsecops">devsecops</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250126-gcp-sql-iam-auth">GCP IAM으로 MySQL 접속하기</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/20250703-ai-hackathon">Building a Flutter App with Gemini CLI</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:jayground8@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/jayground8"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Jay</div><div> • </div><div>© 2025</div><div> • </div><a href="/">Jayground8</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var i=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=a=\u003er(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),T=(a,s)=\u003e{t(a);for(var c in s)r(a,c,{get:s[c],enumerable:!0})},u=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of h(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026r(a,n,{get:()=\u003es[n],enumerable:!(c=d(s,n))||c.enumerable});return a},k=a=\u003eu(t(r(a!=null?i(p(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=N((C,l)=\u003e{l.exports=_jsx_runtime});var b={};T(b,{default:()=\u003eg,frontmatter:()=\u003eS});var e=k(o()),S={title:\"Strict Transport Security Header\",date:\"2025-01-30\",tags:[\"devsecops\"],images:[\"/static/images/social-banner.png\"],summary:\"HTTP \\uC694\\uCCAD\\uC740 \\uC11C\\uBC84\\uC5D0\\uC11C Location Header\\uB97C \\uD1B5\\uD574\\uC11C HTTPS\\uB97C Redirection\\uC744 \\uD558\\uACE0 \\uC788\\uB2E4. \\uADF8\\uB7F0\\uB370 \\uBC29\\uD654\\uBCBD\\uC5D0 \\uC758\\uD574\\uC11C 80\\uBC88 \\uD3EC\\uD2B8\\uB294 \\uB9C9\\uD600\\uC788\\uC5B4\\uC11C http \\uC694\\uCCAD\\uC740 timeout\\uC774 \\uBC1C\\uC0DD\\uD558\\uACE0 \\uC788\\uB2E4. \\uADF8\\uB7F0 \\uC0C1\\uD669\\uC5D0\\uC11C \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C http\\uB85C \\uC694\\uCCAD\\uC744 \\uD558\\uBA74 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C https redirection\\uC774 \\uB418\\uC5B4\\uC11C \\uD574\\uB2F9 \\uB3C4\\uBA54\\uC778\\uC73C\\uB85C \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\uC811\\uC18D\\uC774 \\uAC00\\uB2A5\\uD558\\uB2E4. \\uBC29\\uD654\\uBCBD\\uC5D0 \\uB9C9\\uD600\\uC11C 80\\uBC88 \\uD3EC\\uD2B8\\uC5D0 \\uB300\\uD574\\uC11C \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\uC751\\uB2F5\\uC744 \\uBABB \\uBC1B\\uB294\\uB370, \\uC5B4\\uB5BB\\uAC8C \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C\\uB294 http\\uB85C \\uC811\\uADFC\\uC774 \\uAC00\\uB2A5\\uD55C \\uAC83\\uC774\\uC9C0? \\uC774\\uC5D0 \\uB300\\uD55C \\uC9C8\\uBB38\\uC5D0 \\uB300\\uD574\\uC11C HSTS\\uC758 \\uC874\\uC7AC\\uC640 \\uC5ED\\uD560\\uC744 \\uC774\\uD574\\uD558\\uBA74 \\uB2F5\\uC744 \\uD560 \\uC218 \\uC788\\uB2E4. \\uC774\\uBC88 \\uAE00\\uC5D0\\uC11C\\uB294 \\uAC04\\uB2E8\\uD558\\uAC8C HSTS\\uB97C \\uC0B4\\uD3B4\\uBCF8\\uB2E4.\"};function H(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",a:\"a\",code:\"code\",blockquote:\"blockquote\",h2:\"h2\",span:\"span\",pre:\"pre\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"\\uC774\\uBC88 \\uAE00\\uC5D0\\uC11C\\uB294 \",(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\",children:\"Strict-Transport-Security Header\"}),\"\\uC5D0 \\uB300\\uD574\\uC11C \\uC54C\\uC544\\uBCF8\\uB2E4. \\uD574\\uB2F9 \\uD574\\uB354\\uB97C \\uC904\\uC5EC\\uC11C \",(0,e.jsx)(n.code,{children:\"HSTS\"}),\"\\uB77C\\uACE0 \\uBD80\\uB974\\uAE30\\uB3C4 \\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uC9C0\\uAE08\\uBD80\\uD130\\uB294 HSTS\\uB77C\\uACE0 \\uD558\\uACA0\\uB2E4. \\uC751\\uB2F5\\uAC12\\uC5D0 HSTS\\uAC00 \\uC788\\uC73C\\uBA74, \\uB2E4\\uC74C\\uBC88\\uC5D0 \\uBE0C\\uB77C\\uC6B0\\uC800\\uAC00 HTTP\\uB85C \\uD574\\uB2F9 \\uB3C4\\uBA54\\uC778\\uC5D0 \\uC694\\uCCAD\\uC744 \\uD558\\uBA74 \\uC790\\uB3D9\\uC73C\\uB85C HTTPS\\uB85C \\uBC14\\uAFD4\\uC11C \\uC694\\uCCAD\\uD558\\uAC8C \\uB41C\\uB2E4. HSTS\\uC758 \\uC874\\uC7AC\\uC640 \\uC5ED\\uD560\\uC744 \\uC774\\uD574\\uD558\\uBA74, \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uC0C1\\uD669\\uC774 \\uC65C \\uBC1C\\uC0DD\\uD558\\uB294\\uC9C0 \\uC774\\uD574\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"\\uC11C\\uBC84\\uC5D0\\uC11C\\uB294 HTTPS(443)\\uACFC HTTP(80)\\uC5D0 \\uB300\\uD574\\uC11C \\uC751\\uB2F5\\uC744 \\uD55C\\uB2E4. \\uC11C\\uBC84\\uC5D0\\uC11C\\uB294 HTTP\\uB85C \\uC694\\uCCAD\\uC774 \\uC624\\uBA74 Location Header\\uB97C \\uD1B5\\uD574\\uC11C HTTPS\\uB85C \\uB2E8\\uC21C\\uD558\\uAC8C Redirect\\uD574\\uC900\\uB2E4. \\uADF8\\uB7F0\\uB370 \\uBC29\\uD654\\uBCBD\\uC5D0\\uC11C 443\\uBC88 \\uD3EC\\uD2B8\\uB9CC \\uD5C8\\uC6A9\\uD558\\uAC8C \\uB418\\uC5B4 \\uC788\\uACE0, 80\\uBC88 \\uD3EC\\uD2B8\\uB85C \\uC694\\uCCAD\\uD560 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC694\\uCCAD\\uC774 \\uCC28\\uB2E8\\uC774 \\uB41C\\uB2E4. \\uB530\\uB77C\\uC11C \",(0,e.jsx)(n.code,{children:\"curl http://example.com\"}),\"\\uC73C\\uB85C \\uC694\\uCCAD\\uC744 \\uD558\\uBA74 timeout\\uC774 \\uB09C\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"http://example.com\"}),\"\\uC73C\\uB85C \\uC785\\uB825\\uD558\\uBA74 HTTPS\\uB85C \\uB9AC\\uB2E4\\uC774\\uB809\\uD2B8\\uAC00 \\uB41C\\uB2E4.\"]})}),(0,e.jsxs)(n.h2,{id:\"\\uC608\\uC81C\",children:[(0,e.jsx)(n.a,{href:\"#\\uC608\\uC81C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"daum.net\"}),\" \\uB3C4\\uBA54\\uC778\\uC5D0 \\uB300\\uD574\\uC11C \\uC0B4\\uD3B4\\uBCF4\\uC790. \\uC544\\uB798\\uC640 \\uAC19\\uC774 http \\uD504\\uB85C\\uD1A0\\uCF5C\\uB85C \\uC694\\uCCAD\\uC744 \\uD558\\uBA74, Location header\\uC640 \\uD568\\uAED8 \\uC751\\uB2F5\\uC774 \\uC628\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),` -i http://daum.net\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"HTTP/1.1 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"301\"}),` Moved Permanently\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Date: Thu, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30\"}),\" Jan \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2025\"}),` 04:05:27 GMT\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Content-Type: text/html\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Content-Length: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"162\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Connection: keep-alive\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Location: https://daum.net\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"html\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"title\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"301\"}),\" Moved Permanently\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/title\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"body\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"center\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"h\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"1\"}),\"\u003e\"]}),(0,e.jsx)(n.span,{className:\"token number\",children:\"301\"}),\" Moved Permanently\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/h\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"1\"}),\"\u003e\"]}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/center\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"hr\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"center\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"nginx\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/center\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/body\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"/html\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uADF8\\uB9AC\\uACE0 curl\\uB85C HTTP \\uD504\\uB85C\\uD1A0\\uCF5C\\uB85C \\uC694\\uCCAD\\uC744 \\uD558\\uBA74, \\uC751\\uB2F5\\uAC12\\uC5D0 HSTS\\uAC00 \\uD3EC\\uD568\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \\uCD5C\\uC885\\uC801\\uC73C\\uB85C\\uB294 \",(0,e.jsx)(n.a,{href:\"http://www.daum.net%EC%9C%BC%EB%A1%9C\",children:\"www.daum.net\\uC73C\\uB85C\"}),\" Redirect\\uAC00 \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),` -i https://daum.net\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"HTTP/2 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"307\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"date: Thu, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30\"}),\" Jan \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2025\"}),` 04:05:55 GMT\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"content-length: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`location: https://www.daum.net/\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`vary: Origin\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`vary: Access-Control-Request-Method\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`vary: Access-Control-Request-Headers\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"strict-transport-security: max-age\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"15724800\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uC81C \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \",(0,e.jsx)(n.a,{href:\"https://daum.net%EC%9C%BC%EB%A1%9C\",children:\"https://daum.net\\uC73C\\uB85C\"}),\" \\uC811\\uC18D\\uD55C\\uB2E4. \\uADF8\\uB7EC\\uBA74 \\uC751\\uB2F5\\uAC12\\uC5D0 HSTS\\uAC00 \\uC788\\uC5C7\\uAE30 \\uB54C\\uBB38\\uC5D0 daum.net \\uB3C4\\uBA54\\uC778\\uC5D0 \\uB300\\uD574\\uC11C HSTS\\uAC00 \\uC124\\uC815\\uB418\\uC5C8\\uB2E4. Chrome\\uC5D0\\uC11C\\uB294 chrome://net-internals/#hsts\\uC5D0\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(\"img\",{src:\"/static/images/hsts-chrome-settings.png\",alt:\"chrome settings\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB807\\uAC8C HSTS\\uAC00 \\uC124\\uC815\\uB41C \\uC0C1\\uD0DC\\uC5D0\\uC11C \\uB2E4\\uC2DC \",(0,e.jsx)(n.a,{href:\"http://daum.net%EC%9C%BC%EB%A1%9C\",children:\"http://daum.net\\uC73C\\uB85C\"}),\" \\uC811\\uC18D\\uD558\\uBA74, \\uC11C\\uBC84\\uC5D0 \\uC694\\uCCAD\\uD558\\uC5EC Redirect header\\uB85C https\\uB85C redirection\\uC774 \\uB418\\uB294 \\uAC83\\uC774 \\uC544\\uB2C8\\uB77C \\uC11C\\uBC84\\uC5D0 \\uC694\\uCCAD\\uC5C6\\uC774 \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \\uC790\\uB3D9\\uC73C\\uB85C https\\uB85C redirection\\uD558\\uAC8C \\uB41C\\uB2E4. Chrome\\uC5D0\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAC1C\\uBC1C\\uC790 \\uB3C4\\uAD6C\\uB85C \\uD655\\uC778\\uD558\\uBA74, HSTS\\uC5D0 \\uC758\\uD574\\uC11C \\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(\"img\",{src:\"/static/images/hsts-browser.png\",alt:\"https redirection by hsts\"}),(0,e.jsxs)(n.h2,{id:\"\\uACB0\\uB860\",children:[(0,e.jsx)(n.a,{href:\"#\\uACB0\\uB860\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uACB0\\uB860\"]}),(0,e.jsx)(n.p,{children:\"HSTS\\uB97C \\uD1B5\\uD574\\uC11C \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uAC8C HTTPS\\uB85C \\uC694\\uCCAD\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uB2E4. \\uD55C\\uBC88 HTTPS\\uB85C \\uC811\\uC18D\\uD55C \\uB3C4\\uBA54\\uC778\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC124\\uC815\\uB41C HSTS\\uAC00 \\uB9CC\\uB8CC\\uB418\\uAE30 \\uC804\\uAE4C\\uC9C0 \\uBE0C\\uB77C\\uC6B0\\uC800\\uB294 HTTPS\\uB85C \\uC694\\uCCAD\\uD55C\\uB2E4. \\uC774\\uB807\\uAC8C HSTS\\uAC00 \\uC124\\uC815\\uB418\\uBA74 \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \\uC11C\\uBC84 \\uC694\\uCCAD\\uC5C6\\uC774 HTTP \\uC694\\uCCAD\\uC744 HTTPS\\uB85C redirection\\uD558\\uAC8C \\uB41C\\uB2E4. \\uB530\\uB77C\\uC11C \\uBC29\\uD654\\uBCBD\\uC5D0 \\uC758\\uD574\\uC11C 80\\uBC88 \\uD3EC\\uD2B8\\uAC00 \\uB9C9\\uD614\\uAC70\\uB098 \\uC11C\\uBC84\\uC5D0\\uC11C 80\\uBC88 \\uD3EC\\uD2B8\\uB97C listening\\uD558\\uC9C0 \\uC54A\\uB354\\uB77C\\uB3C4 \\uBE0C\\uB77C\\uC6B0\\uC800\\uB2E8\\uC5D0\\uC11C \\uC11C\\uBC84 \\uC694\\uCCAD \\uC5C6\\uC774 HTTPS\\uB85C redirection\\uC774 \\uB420 \\uC218 \\uC788\\uB2E4.\"})]})}}var g=H;return b;})();\n;return Component;","toc":[{"value":"예제","url":"#예제","depth":2},{"value":"결론","url":"#결론","depth":2}],"frontMatter":{"readingTime":{"text":"3 min read","minutes":2.185,"time":131100,"words":437},"slug":"20250130-hsts","fileName":"20250130-hsts.md","title":"Strict Transport Security Header","date":"2025-01-30T00:00:00.000Z","tags":["devsecops"],"images":["/static/images/social-banner.png"],"summary":"HTTP 요청은 서버에서 Location Header를 통해서 HTTPS를 Redirection을 하고 있다. 그런데 방화벽에 의해서 80번 포트는 막혀있어서 http 요청은 timeout이 발생하고 있다. 그런 상황에서 브라우저에서 http로 요청을 하면 정상적으로 https redirection이 되어서 해당 도메인으로 정상적으로 접속이 가능하다. 방화벽에 막혀서 80번 포트에 대해서 정상적으로 응답을 못 받는데, 어떻게 브라우저에서는 http로 접근이 가능한 것이지? 이에 대한 질문에 대해서 HSTS의 존재와 역할을 이해하면 답을 할 수 있다. 이번 글에서는 간단하게 HSTS를 살펴본다."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.15,"time":9000,"words":30},"slug":["default"],"fileName":"default.md","name":"Jay","avatar":"profile.png","occupation":"Software Engineer","date":null}],"prev":{"title":"GCP IAM으로 MySQL 접속하기","date":"2025-01-26T00:00:00.000Z","tags":["gcp","devsecops"],"images":["/static/images/social-banner.png"],"summary":"GCP의 관리형 데이터베이스 서비스인 SQL의 User를 관리할 때, 제약사항이 없다면 IAM 인증을 활용하는 것을 고려하자. Google Workspace를 사용하고 있다면, 이미 생성된 구글 이메일 계정과 Group을 통해서 데이터베이스 접속 권한을 제어할 수 있다. 데이터베이스 User를 비밀번호 인증으로 생성하여 관리하는 대신에, 구글 계정으로 인증하여 데이터베이스를 접속할 수 있도록 관리하자. 이번 글에서는 IAM 인증을 위한 설정 방법을 설명한다.","slug":"20250126-gcp-sql-iam-auth"},"next":{"title":"Building a Flutter App with Gemini CLI","date":"2025-07-03T00:00:00.000Z","tags":["ai","hackathon"],"images":["/static/images/thumbnail/ai-hackathon.png"],"summary":"I recently had the valuable opportunity to experience building a Flutter application from scratch using Gemini CLI at my company's one-day AI hackathon. It was an insightful experience to understand vibe coding firsthand. This also gave me thoughts on what skills I need to continue developing in the AI era.","slug":"20250703-ai-hackathon"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["20250130-hsts"]},"buildId":"oxVbhW_Td-KP5uFz7GpY-","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>